import{h as o,f as u}from"./firebase-7a37cf60.js";const c=new Map,r=e=>{if(c.has(e)){const t=c.get(e);return t?JSON.parse(t):null}return null},g=(e,t)=>{c.set(e,t)},h="https://yt-summary.glasp.co",l=async e=>{const t=`youtube-page-${e}`,a=r(t);if(a)return a;const s=await(await fetch("https://www.youtube.com/watch?v="+e,{cache:"force-cache"})).text();return g(t,JSON.stringify(s)),s},f=({videoId:e,lang:t,action:a})=>{const n=encodeURIComponent(t.replace(/\s+/g,"_")),s=`${h}/yt_lg/${e}/unknown/${n}/${a}`;fetch(s)},y=async({prompt:e,title:t,thumbnail:a,url:n,retry:s})=>(await o(u,"api-getSummaryOnPage")({prompt:e,title:t,thumbnail:a,url:n,retry:s})).data;export{r as a,y as b,f,l as g,g as s};
