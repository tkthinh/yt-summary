var wm=Object.defineProperty;var _m=(a,t,e)=>t in a?wm(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var $=(a,t,e)=>(_m(a,typeof t!="symbol"?t+"":t,e),e),m0=(a,t,e)=>{if(!t.has(a))throw TypeError("Cannot "+e)};var o=(a,t,e)=>(m0(a,t,"read from private field"),e?e.call(a):t.get(a)),g=(a,t,e)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,e)},b=(a,t,e,r)=>(m0(a,t,"write to private field"),r?r.call(a,e):t.set(a,e),e);var Je=(a,t,e,r)=>({set _(i){b(a,t,i,e)},get _(){return o(a,t,r)}}),A=(a,t,e)=>(m0(a,t,"access private method"),e);import{j as hi,c as xm,I as Cm,b as P,h as Tm}from"./user-provider-2e6d438c.js";import{a as Sm,s as Lm,g as Nm,f as Fm}from"./youtube-91385786.js";const ky=({size:a=24})=>hi.jsxs("svg",{width:a,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[hi.jsx("path",{d:"M1.40123 27.3686C-0.44103 25.5284 -0.441033 22.5449 1.4012 20.7047L16.5971 5.52573L24.0098 12.9301L5.47818 31.4409L1.40123 27.3686Z",fill:"#FF4E74"}),hi.jsx("path",{d:"M35.1286 24.0367L16.5972 5.5258L20.6741 1.45341C22.5164 -0.386772 25.5033 -0.386775 27.3455 1.45341L42.5415 16.6323L35.1286 24.0367Z",fill:"#FFF85E"}),hi.jsx("path",{d:"M24.0099 35.143L42.5416 16.6323L46.6183 20.7046C48.4606 22.5448 48.4606 25.5284 46.6183 27.3686L31.4224 42.5476L24.0099 35.143Z",fill:"#76FF54"}),hi.jsx("path",{d:"M27.3454 46.6198C25.5032 48.4601 22.5163 48.4601 20.674 46.6198L5.47815 31.4409L12.8908 24.0366L31.4223 42.5476L27.3454 46.6198Z",fill:"#5C94FF"})]}),Py=({size:a=24})=>hi.jsxs("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[hi.jsx("path",{d:"M6.84002 6.95246L9.28205 1L11.7191 6.94024C11.8321 7.21563 12.0618 7.42638 12.346 7.51517L18 9.28205L12.2112 12.1765C12.0081 12.278 11.8456 12.4457 11.7504 12.6518L9.28205 18L6.80657 12.6365C6.71577 12.4397 6.56351 12.2778 6.37271 12.1751L1 9.28205L6.23381 7.52067C6.50872 7.42815 6.72992 7.22082 6.84002 6.95246Z",fill:"white"}),hi.jsx("path",{d:"M17.1733 16.9525L18.3846 14L19.5909 16.9402C19.7039 17.2156 19.9336 17.4264 20.2178 17.5152L23 18.3846L20.083 19.8431C19.8799 19.9447 19.7174 20.1123 19.6222 20.3185L18.3846 23L17.1399 20.3031C17.0491 20.1064 16.8968 19.9445 16.706 19.8417L14 18.3846L16.5671 17.5207C16.8421 17.4282 17.0633 17.2208 17.1733 16.9525Z",fill:"white"})]});/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=xm("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k2={Default:"en",English:"en",Chinese:"zh-cn",Spanish:"es",French:"fr",German:"de",Italian:"it",Japanese:"ja",Korean:"ko",Portuguese:"pt",Russian:"ru",Turkish:"tr",Arabic:"ar",Hindi:"hi",Indonesian:"id",Bengali:"bn",Vietnamese:"vi",Ukrainian:"uk",Chezch:"cs",Thai:"th",Finnish:"fi",Norwegian:"no",Swedish:"sv"},Rm=a=>Object.keys(a),km=a=>{const t=a<3600?14:12;return new Date(a*1e3).toISOString().substring(t,19).toString()},Ap=({textData:a,withTimestamp:t})=>a.sort((e,r)=>e.index-r.index).map(e=>t?`(${km(e.start)}) ${e.text}`:e.text).join(" "),Pm=({media:a,title:t,text:e,language:r,customPrompt:i,llm:s,summaryStrategy:n})=>{const u=Rm(k2).find(_=>k2[_]===r),l=r==="en"?"":` in ${u}.`,{title:c="Title",transcript:h="Transcript",text:d="Text"}=Cm[r],f=`${i}${l}`,p=b0(f,"Task"),m=t.replace(/\n+/g," ").trim(),v=m?`${c}: "${m}"`:"",E=b0(v,"ContentTitle"),D=`${a==="youtube"?h:d}: "${Mm({text:e,llm:s,summaryStrategy:n})}"`,w=b0(D,"Transcript");return`${p}
${E}
${w}
`},b0=(a,t)=>a?`<${t}>${a}</${t}>`:"",Mm=({text:a,llm:t,summaryStrategy:e})=>{let r=e,i=2e4;switch(t){case"claude":r=e,i=2e4;break;case"mistral_ai":r="entire_content",i=4e5;break;case"gemini":r="entire_content",i=24e4;break;case"gpt_4":r="entire_content",i=4e5;break;case"gpt_4o":r="entire_content",i=4e5;break;case"custom_gpts":r="entire_content",i=4e5;break;case"o1_preview":r="entire_content",i=4e5;break;case"o1_mini":r="entire_content",i=4e5;break;default:r=e,i=2e4;break}if(vp(a).length<=i||r==="entire_content")return a;if(r==="start_to_limit")return A0({str:a,limit:i});if(r==="chunks"){const l=P2(a),c=M2({textData:l,limit:i});return A0({str:c,limit:i})}const n=P2(a),u=M2({textData:n,limit:i});return A0({str:u,limit:i})},A0=({str:a,limit:t})=>{const e=vp(a).length;if(e>t){const r=t/e;return a.substring(0,a.length*r)}return a},vp=a=>decodeURIComponent(encodeURIComponent(escape(a))).replace(/%([0-9A-F]{2})/gi,function(r,i){const s=parseInt(i,16);return String.fromCharCode(s)}),P2=a=>{const t=[],r=Math.ceil(a.length/500);for(let i=0;i<r;i++){const s=a.substring(i*500,(i+1)*500);t.push({text:s.trim(),start:0,index:i})}return t},M2=({textData:a,limit:t})=>{const e=Math.floor(t/500),r=Math.ceil(a.length/e),i=a.filter((l,c)=>c%r===0),s=e-i.length;if(s>0){const c=a.filter((h,d)=>d%r!==0).slice(0,s);i.push(...c)}const n=i.sort((l,c)=>l.index-c.index);return Ap({textData:n})},Bm="modulepreload",Im=function(a){return"/"+a},B2={},Nu=function(t,e,r){if(!e||e.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(e.map(s=>{if(s=Im(s),s in B2)return;B2[s]=!0;const n=s.endsWith(".css"),u=n?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===s&&(!n||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${u}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":Bm,n||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),n)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=s,window.dispatchEvent(n),!n.defaultPrevented)throw s})};var zu={};zu.d=(a,t)=>{for(var e in t)zu.o(t,e)&&!zu.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})};zu.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var X=globalThis.pdfjsLib={};zu.d(X,{AbortException:()=>_a,AnnotationEditorLayer:()=>Vf,AnnotationEditorParamsType:()=>W,AnnotationEditorType:()=>K,AnnotationEditorUIManager:()=>ya,AnnotationLayer:()=>PA,AnnotationMode:()=>di,CMapCompressionType:()=>R0,ColorPicker:()=>th,DOMSVGFactory:()=>n2,DrawLayer:()=>Wf,FeatureTest:()=>lt,GlobalWorkerOptions:()=>ri,ImageKind:()=>Ec,InvalidPDFException:()=>Ep,MissingPDFException:()=>wa,OPS:()=>Mt,OutputScale:()=>O0,PDFDataRangeTransport:()=>bg,PDFDateString:()=>Np,PDFWorker:()=>za,PasswordResponses:()=>jm,PermissionFlag:()=>Hm,PixelsPerInch:()=>Yi,RenderingCancelledException:()=>u2,TextLayer:()=>Yu,UnexpectedResponseException:()=>Xd,Util:()=>q,VerbosityLevel:()=>zd,XfaLayer:()=>vg,build:()=>gA,createValidAbsoluteUrl:()=>zm,fetchData:()=>Kd,getDocument:()=>nA,getFilenameFromUrl:()=>rb,getPdfFilenameFromUrl:()=>ib,getXfaPageViewport:()=>sb,isDataScheme:()=>Jd,isPdfFile:()=>o2,noContextMenu:()=>Ft,normalizeUnicode:()=>Jm,setLayerDimensions:()=>va,shadow:()=>re,version:()=>pA});const Ke=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),yp=[1,0,0,1,0,0],F0=[.001,0,0,.001,0,0],Om=1e7,v0=1.35,yt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},di={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},qm="pdfjs_internal_editor_",K={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},W={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Hm={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ve={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ec={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},wu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},zd={ERRORS:0,WARNINGS:1,INFOS:5},R0={NONE:0,BINARY:1},Mt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},jm={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let $d=zd.WARNINGS;function Um(a){Number.isInteger(a)&&($d=a)}function Vm(){return $d}function Wd(a){$d>=zd.INFOS&&console.log(`Info: ${a}`)}function J(a){$d>=zd.WARNINGS&&console.log(`Warning: ${a}`)}function _e(a){throw new Error(a)}function Le(a,t){a||_e(t)}function Gm(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function zm(a,t=null,e=null){if(!a)return null;try{if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const i=a.match(/\./g);(i==null?void 0:i.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=Km(a)}catch{}}const r=t?new URL(a,t):new URL(a);if(Gm(r))return r}catch{}return null}function re(a,t,e,r=!1){return Object.defineProperty(a,t,{value:e,enumerable:!r,configurable:!0,writable:!1}),e}const Ji=function(){function t(e,r){this.message=e,this.name=r}return t.prototype=new Error,t.constructor=t,t}();class k0 extends Ji{constructor(t,e){super(t,"PasswordException"),this.code=e}}class P0 extends Ji{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Ep extends Ji{constructor(t){super(t,"InvalidPDFException")}}class wa extends Ji{constructor(t){super(t,"MissingPDFException")}}class Xd extends Ji{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class $m extends Ji{constructor(t){super(t,"FormatError")}}class _a extends Ji{constructor(t){super(t,"AbortException")}}function Dp(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&_e("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const r=[];for(let i=0;i<t;i+=e){const s=Math.min(i+e,t),n=a.subarray(i,s);r.push(String.fromCharCode.apply(null,n))}return r.join("")}function Yd(a){typeof a!="string"&&_e("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let r=0;r<t;++r)e[r]=a.charCodeAt(r)&255;return e}function Wm(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function s2(a){const t=Object.create(null);for(const[e,r]of a)t[e]=r;return t}function Xm(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function Ym(){try{return new Function(""),!0}catch{return!1}}class lt{static get isLittleEndian(){return re(this,"isLittleEndian",Xm())}static get isEvalSupported(){return re(this,"isEvalSupported",Ym())}static get isOffscreenCanvasSupported(){return re(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?re(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):re(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return re(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const y0=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var $a,Dc,Zu,M0;class q{static makeHexColor(t,e,r){return`#${y0[t]}${y0[e]}${y0[r]}`}static scaleMinMax(t,e){let r;t[0]?(t[0]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[3],e[3]*=t[3]):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,t[1]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const r=t[0]*e[0]+t[1]*e[2]+e[4],i=t[0]*e[1]+t[1]*e[3]+e[5];return[r,i]}static applyInverseTransform(t,e){const r=e[0]*e[3]-e[1]*e[2],i=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/r,s=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/r;return[i,s]}static getAxialAlignedBoundingBox(t,e){const r=this.applyTransform(t,e),i=this.applyTransform(t.slice(2,4),e),s=this.applyTransform([t[0],t[3]],e),n=this.applyTransform([t[2],t[1]],e);return[Math.min(r[0],i[0],s[0],n[0]),Math.min(r[1],i[1],s[1],n[1]),Math.max(r[0],i[0],s[0],n[0]),Math.max(r[1],i[1],s[1],n[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],r=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],s=t[2]*e[0]+t[3]*e[2],n=t[2]*e[1]+t[3]*e[3],u=(r+n)/2,l=Math.sqrt((r+n)**2-4*(r*n-s*i))/2,c=u+l||1,h=u-l||1;return[Math.sqrt(c),Math.sqrt(h)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const r=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(r>i)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),n=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>n?null:[r,s,i,n]}static bezierBoundingBox(t,e,r,i,s,n,u,l,c){return c?(c[0]=Math.min(c[0],t,u),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,u),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,u),Math.min(e,l),Math.max(t,u),Math.max(e,l)],A(this,Zu,M0).call(this,t,r,s,u,e,i,n,l,3*(-t+3*(r-s)+u),6*(t-2*r+s),3*(r-t),c),A(this,Zu,M0).call(this,t,r,s,u,e,i,n,l,3*(-e+3*(i-n)+l),6*(e-2*i+n),3*(i-e),c),c}}$a=new WeakSet,Dc=function(t,e,r,i,s,n,u,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,m=d*(d*(d*t+3*c*e)+3*f*r)+p*i,v=d*(d*(d*s+3*c*n)+3*f*u)+p*l;h[0]=Math.min(h[0],m),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],m),h[3]=Math.max(h[3],v)},Zu=new WeakSet,M0=function(t,e,r,i,s,n,u,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&A(this,$a,Dc).call(this,t,e,r,i,s,n,u,l,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const m=Math.sqrt(p),v=2*c;A(this,$a,Dc).call(this,t,e,r,i,s,n,u,l,(-h+m)/v,f),A(this,$a,Dc).call(this,t,e,r,i,s,n,u,l,(-h-m)/v,f)},g(q,$a),g(q,Zu);function Km(a){return decodeURIComponent(escape(a))}let E0=null,I2=null;function Jm(a){return E0||(E0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,I2=new Map([["ﬅ","ſt"]])),a.replaceAll(E0,(t,e,r)=>e?e.normalize("NFKC"):I2.get(r))}function Zm(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let t=0;t<32;t++)a[t]=Math.floor(Math.random()*255);return Dp(a)}const a2="pdfjs_internal_id_",yr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class wp{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,r,i,s){return"none"}destroy(t=!1){}}var Qu;class _p{constructor({enableHWA:t=!1}){g(this,Qu,!1);b(this,Qu,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(t,e);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!o(this,Qu)})}}reset(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){_e("Abstract method `_createCanvas` called.")}}Qu=new WeakMap;class xp{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),r=this.isCompressed?R0.BINARY:R0.NONE;return this._fetchData(e,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){_e("Abstract method `_fetchData` called.")}}class Cp{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(r=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){_e("Abstract method `_fetchData` called.")}}class Qm{create(t,e,r=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){_e("Abstract method `_createSVG` called.")}}const xr="http://www.w3.org/2000/svg",ls=class ls{};$(ls,"CSS",96),$(ls,"PDF",72),$(ls,"PDF_TO_CSS_UNITS",ls.CSS/ls.PDF);let Yi=ls;var hs,ds,Kt,Lr,ze,oh,fs,Fe,Ge,fi,Na,pi,Fa,Wa,wc,gi,Ra,lh,Tp,eo,B0,mi,ka,ps,Fu,gs,Ru,to,I0,ms,ku;class eb extends wp{constructor({docId:e,ownerDocument:r=globalThis.document}){super();g(this,Fe);g(this,fi);g(this,pi);g(this,Wa);g(this,gi);g(this,lh);g(this,eo);g(this,mi);g(this,ps);g(this,gs);g(this,to);g(this,ms);g(this,hs,void 0);g(this,ds,void 0);g(this,Kt,void 0);g(this,Lr,void 0);g(this,ze,void 0);g(this,oh,void 0);g(this,fs,0);b(this,Lr,e),b(this,ze,r)}addFilter(e){if(!e)return"none";let r=o(this,Fe,Ge).get(e);if(r)return r;const[i,s,n]=A(this,Wa,wc).call(this,e),u=e.length===1?i:`${i}${s}${n}`;if(r=o(this,Fe,Ge).get(u),r)return o(this,Fe,Ge).set(e,r),r;const l=`g_${o(this,Lr)}_transfer_map_${Je(this,fs)._++}`,c=A(this,gi,Ra).call(this,l);o(this,Fe,Ge).set(e,c),o(this,Fe,Ge).set(u,c);const h=A(this,mi,ka).call(this,l);return A(this,gs,Ru).call(this,i,s,n,h),c}addHCMFilter(e,r){var m;const i=`${e}-${r}`,s="base";let n=o(this,fi,Na).get(s);if((n==null?void 0:n.key)===i||(n?((m=n.filter)==null||m.remove(),n.key=i,n.url="none",n.filter=null):(n={key:i,url:"none",filter:null},o(this,fi,Na).set(s,n)),!e||!r))return n.url;const u=A(this,ms,ku).call(this,e);e=q.makeHexColor(...u);const l=A(this,ms,ku).call(this,r);if(r=q.makeHexColor(...l),o(this,pi,Fa).style.color="",e==="#000000"&&r==="#ffffff"||e===r)return n.url;const c=new Array(256);for(let v=0;v<=255;v++){const E=v/255;c[v]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const h=c.join(","),d=`g_${o(this,Lr)}_hcm_filter`,f=n.filter=A(this,mi,ka).call(this,d);A(this,gs,Ru).call(this,h,h,h,f),A(this,eo,B0).call(this,f);const p=(v,E)=>{const y=u[v]/255,D=l[v]/255,w=new Array(E+1);for(let _=0;_<=E;_++)w[_]=y+_/E*(D-y);return w.join(",")};return A(this,gs,Ru).call(this,p(0,5),p(1,5),p(2,5),f),n.url=A(this,gi,Ra).call(this,d),n.url}addAlphaFilter(e){let r=o(this,Fe,Ge).get(e);if(r)return r;const[i]=A(this,Wa,wc).call(this,[e]),s=`alpha_${i}`;if(r=o(this,Fe,Ge).get(s),r)return o(this,Fe,Ge).set(e,r),r;const n=`g_${o(this,Lr)}_alpha_map_${Je(this,fs)._++}`,u=A(this,gi,Ra).call(this,n);o(this,Fe,Ge).set(e,u),o(this,Fe,Ge).set(s,u);const l=A(this,mi,ka).call(this,n);return A(this,to,I0).call(this,i,l),u}addLuminosityFilter(e){let r=o(this,Fe,Ge).get(e||"luminosity");if(r)return r;let i,s;if(e?([i]=A(this,Wa,wc).call(this,[e]),s=`luminosity_${i}`):s="luminosity",r=o(this,Fe,Ge).get(s),r)return o(this,Fe,Ge).set(e,r),r;const n=`g_${o(this,Lr)}_luminosity_map_${Je(this,fs)._++}`,u=A(this,gi,Ra).call(this,n);o(this,Fe,Ge).set(e,u),o(this,Fe,Ge).set(s,u);const l=A(this,mi,ka).call(this,n);return A(this,lh,Tp).call(this,l),e&&A(this,to,I0).call(this,i,l),u}addHighlightHCMFilter(e,r,i,s,n){var D;const u=`${r}-${i}-${s}-${n}`;let l=o(this,fi,Na).get(e);if((l==null?void 0:l.key)===u||(l?((D=l.filter)==null||D.remove(),l.key=u,l.url="none",l.filter=null):(l={key:u,url:"none",filter:null},o(this,fi,Na).set(e,l)),!r||!i))return l.url;const[c,h]=[r,i].map(A(this,ms,ku).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,m]=[s,n].map(A(this,ms,ku).bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),o(this,pi,Fa).style.color="";const v=(w,_,T)=>{const x=new Array(256),L=(f-d)/T,S=w/255,O=(_-w)/(255*T);let U=0;for(let C=0;C<=T;C++){const F=Math.round(d+C*L),N=S+C*O;for(let R=U;R<=F;R++)x[R]=N;U=F+1}for(let C=U;C<256;C++)x[C]=x[U-1];return x.join(",")},E=`g_${o(this,Lr)}_hcm_${e}_filter`,y=l.filter=A(this,mi,ka).call(this,E);return A(this,eo,B0).call(this,y),A(this,gs,Ru).call(this,v(p[0],m[0],5),v(p[1],m[1],5),v(p[2],m[2],5),y),l.url=A(this,gi,Ra).call(this,E),l.url}destroy(e=!1){e&&o(this,fi,Na).size!==0||(o(this,Kt)&&(o(this,Kt).parentNode.parentNode.remove(),b(this,Kt,null)),o(this,ds)&&(o(this,ds).clear(),b(this,ds,null)),b(this,fs,0))}}hs=new WeakMap,ds=new WeakMap,Kt=new WeakMap,Lr=new WeakMap,ze=new WeakMap,oh=new WeakMap,fs=new WeakMap,Fe=new WeakSet,Ge=function(){return o(this,ds)||b(this,ds,new Map)},fi=new WeakSet,Na=function(){return o(this,oh)||b(this,oh,new Map)},pi=new WeakSet,Fa=function(){if(!o(this,Kt)){const e=o(this,ze).createElement("div"),{style:r}=e;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=o(this,ze).createElementNS(xr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),b(this,Kt,o(this,ze).createElementNS(xr,"defs")),e.append(i),i.append(o(this,Kt)),o(this,ze).body.append(e)}return o(this,Kt)},Wa=new WeakSet,wc=function(e){if(e.length===1){const c=e[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[r,i,s]=e,n=new Array(256),u=new Array(256),l=new Array(256);for(let c=0;c<256;c++)n[c]=r[c]/255,u[c]=i[c]/255,l[c]=s[c]/255;return[n.join(","),u.join(","),l.join(",")]},gi=new WeakSet,Ra=function(e){if(o(this,hs)===void 0){b(this,hs,"");const r=o(this,ze).URL;r!==o(this,ze).baseURI&&(Jd(r)?J('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,hs,r.split("#",1)[0]))}return`url(${o(this,hs)}#${e})`},lh=new WeakSet,Tp=function(e){const r=o(this,ze).createElementNS(xr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(r)},eo=new WeakSet,B0=function(e){const r=o(this,ze).createElementNS(xr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(r)},mi=new WeakSet,ka=function(e){const r=o(this,ze).createElementNS(xr,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",e),o(this,pi,Fa).append(r),r},ps=new WeakSet,Fu=function(e,r,i){const s=o(this,ze).createElementNS(xr,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),e.append(s)},gs=new WeakSet,Ru=function(e,r,i,s){const n=o(this,ze).createElementNS(xr,"feComponentTransfer");s.append(n),A(this,ps,Fu).call(this,n,"feFuncR",e),A(this,ps,Fu).call(this,n,"feFuncG",r),A(this,ps,Fu).call(this,n,"feFuncB",i)},to=new WeakSet,I0=function(e,r){const i=o(this,ze).createElementNS(xr,"feComponentTransfer");r.append(i),A(this,ps,Fu).call(this,i,"feFuncA",e)},ms=new WeakSet,ku=function(e){return o(this,pi,Fa).style.color=e,l2(getComputedStyle(o(this,pi,Fa)).getPropertyValue("color"))};class tb extends _p{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const r=this._document.createElement("canvas");return r.width=t,r.height=e,r}}async function Kd(a,t="text"){if(Pu(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,r)=>{const i=new XMLHttpRequest;i.open("GET",a,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Sp extends xp{_fetchData(t,e){return Kd(t,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Yd(r),compressionType:e}))}}class Lp extends Cp{_fetchData(t){return Kd(t,"arraybuffer").then(e=>new Uint8Array(e))}}class n2 extends Qm{_createSVG(t){return document.createElementNS(xr,t)}}class nc{constructor({viewBox:t,scale:e,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:n=!1}){this.viewBox=t,this.scale=e,this.rotation=r,this.offsetX=i,this.offsetY=s;const u=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,h,d,f;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,h=0,d=0,f=1;break;case 90:c=0,h=1,d=1,f=0;break;case 270:c=0,h=-1,d=-1,f=0;break;case 0:c=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}n&&(d=-d,f=-f);let p,m,v,E;c===0?(p=Math.abs(l-t[1])*e+i,m=Math.abs(u-t[0])*e+s,v=(t[3]-t[1])*e,E=(t[2]-t[0])*e):(p=Math.abs(u-t[0])*e+i,m=Math.abs(l-t[1])*e+s,v=(t[2]-t[0])*e,E=(t[3]-t[1])*e),this.transform=[c*e,h*e,d*e,f*e,p-c*e*u-d*e*l,m-h*e*u-f*e*l],this.width=v,this.height=E}get rawDims(){const{viewBox:t}=this;return re(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new nc({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(t,e){return q.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=q.applyTransform([t[0],t[1]],this.transform),r=q.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],r[0],r[1]]}convertToPdfPoint(t,e){return q.applyInverseTransform([t,e],this.transform)}}class u2 extends Ji{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Jd(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function o2(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function rb(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function ib(a,t="document.pdf"){if(typeof a!="string")return t;if(Jd(a))return J('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=e.exec(a);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||t}class O2{constructor(){$(this,"started",Object.create(null));$(this,"times",[])}time(t){t in this.started&&J(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||J(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:r}of this.times)e=Math.max(r.length,e);for(const{name:r,start:i,end:s}of this.times)t.push(`${r.padEnd(e)} ${s-i}ms
`);return t.join("")}}function Pu(a,t){try{const{protocol:e}=t?new URL(a,t):new URL(a);return e==="http:"||e==="https:"}catch{return!1}}function Ft(a){a.preventDefault()}function q2(a){console.log("Deprecated API usage: "+a)}let H2;class Np{static toDateObject(t){if(!t||typeof t!="string")return null;H2||(H2=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=H2.exec(t);if(!e)return null;const r=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let n=parseInt(e[4],10);n=n>=0&&n<=23?n:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(n+=h,u+=d):c==="+"&&(n-=h,u-=d),new Date(Date.UTC(r,i,s,n,u,l))}}function sb(a,{scale:t=1,rotation:e=0}){const{width:r,height:i}=a.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new nc({viewBox:s,scale:t,rotation:e})}function l2(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(J(`Not a valid color format: "${a}"`),[0,0,0])}function ab(a){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of a.keys()){t.style.color=e;const r=window.getComputedStyle(t).color;a.set(e,l2(r))}t.remove()}function ge(a){const{a:t,b:e,c:r,d:i,e:s,f:n}=a.getTransform();return[t,e,r,i,s,n]}function Er(a){const{a:t,b:e,c:r,d:i,e:s,f:n}=a.getTransform().invertSelf();return[t,e,r,i,s,n]}function va(a,t,e=!1,r=!0){if(t instanceof nc){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:n}=a,u=lt.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,h=u?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=u?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!e||t.rotation%180===0?(n.width=h,n.height=d):(n.width=d,n.height=h)}r&&a.setAttribute("data-main-rotation",t.rotation)}class O0{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var bi,bs,Bt,As,ro,io,ch,Fp,hh,Rp,dh,kp,Xa,_c,fh,Pp,so,H0;const Tr=class Tr{constructor(t){g(this,hh);g(this,dh);g(this,Xa);g(this,fh);g(this,so);g(this,bi,null);g(this,bs,null);g(this,Bt,void 0);g(this,As,null);g(this,ro,null);b(this,Bt,t),o(Tr,io)||b(Tr,io,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=b(this,bi,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=o(this,Bt)._uiManager._signal;t.addEventListener("contextmenu",Ft,{signal:e}),t.addEventListener("pointerdown",A(Tr,ch,Fp),{signal:e});const r=b(this,As,document.createElement("div"));r.className="buttons",t.append(r);const i=o(this,Bt).toolbarPosition;if(i){const{style:s}=t,n=o(this,Bt)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*n}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,fh,Pp).call(this),t}get div(){return o(this,bi)}hide(){var t;o(this,bi).classList.add("hidden"),(t=o(this,bs))==null||t.hideDropdown()}show(){var t;o(this,bi).classList.remove("hidden"),(t=o(this,ro))==null||t.shown()}async addAltText(t){const e=await t.render();A(this,Xa,_c).call(this,e),o(this,As).prepend(e,o(this,so,H0)),b(this,ro,t)}addColorPicker(t){b(this,bs,t);const e=t.renderButton();A(this,Xa,_c).call(this,e),o(this,As).prepend(e,o(this,so,H0))}remove(){var t;o(this,bi).remove(),(t=o(this,bs))==null||t.destroy(),b(this,bs,null)}};bi=new WeakMap,bs=new WeakMap,Bt=new WeakMap,As=new WeakMap,ro=new WeakMap,io=new WeakMap,ch=new WeakSet,Fp=function(t){t.stopPropagation()},hh=new WeakSet,Rp=function(t){o(this,Bt)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},dh=new WeakSet,kp=function(t){o(this,Bt)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Xa=new WeakSet,_c=function(t){const e=o(this,Bt)._uiManager._signal;t.addEventListener("focusin",A(this,hh,Rp).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",A(this,dh,kp).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ft,{signal:e})},fh=new WeakSet,Pp=function(){const{editorType:t,_uiManager:e}=o(this,Bt),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",o(Tr,io)[t]),A(this,Xa,_c).call(this,r),r.addEventListener("click",i=>{e.delete()},{signal:e._signal}),o(this,As).append(r)},so=new WeakSet,H0=function(){const t=document.createElement("div");return t.className="divider",t},g(Tr,ch),g(Tr,io,null);let q0=Tr;var ao,vs,ys,ph,Mp,gh,Bp,mh,Ip;class nb{constructor(t){g(this,ph);g(this,gh);g(this,mh);g(this,ao,null);g(this,vs,null);g(this,ys,void 0);b(this,ys,t)}show(t,e,r){const[i,s]=A(this,gh,Bp).call(this,e,r),{style:n}=o(this,vs)||b(this,vs,A(this,ph,Mp).call(this));t.append(o(this,vs)),n.insetInlineEnd=`${100*i}%`,n.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){o(this,vs).remove()}}ao=new WeakMap,vs=new WeakMap,ys=new WeakMap,ph=new WeakSet,Mp=function(){const t=b(this,vs,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ft,{signal:o(this,ys)._signal});const e=b(this,ao,document.createElement("div"));return e.className="buttons",t.append(e),A(this,mh,Ip).call(this),t},gh=new WeakSet,Bp=function(t,e){let r=0,i=0;for(const s of t){const n=s.y+s.height;if(n<r)continue;const u=s.x+(e?s.width:0);if(n>r){i=u,r=n;continue}e?u>i&&(i=u):u<i&&(i=u)}return[e?1-i:i,r]},mh=new WeakSet,Ip=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=o(this,ys)._signal;t.addEventListener("contextmenu",Ft,{signal:r}),t.addEventListener("click",()=>{o(this,ys).highlightSelection("floating_button")},{signal:r}),o(this,ao).append(t)};function Qc(a,t,e){for(const r of e)t.addEventListener(r,a[r].bind(a))}function ub(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var bh;class ob{constructor(){g(this,bh,0)}get id(){return`${qm}${Je(this,bh)._++}`}}bh=new WeakMap;var Ya,no,$e,Ka,xc;const N2=class N2{constructor(){g(this,Ka);g(this,Ya,Zm());g(this,no,0);g(this,$e,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return re(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:r,size:i,type:s}=t;return A(this,Ka,xc).call(this,`${e}_${r}_${i}_${s}`,t)}async getFromUrl(t){return A(this,Ka,xc).call(this,t,t)}async getFromBlob(t,e){const r=await e;return A(this,Ka,xc).call(this,t,r)}async getFromId(t){o(this,$e)||b(this,$e,new Map);const e=o(this,$e).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:r}=e;return delete e.blobPromise,this.getFromBlob(e.id,r)}return this.getFromUrl(e.url)}getFromCanvas(t,e){o(this,$e)||b(this,$e,new Map);let r=o(this,$e).get(t);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${o(this,Ya)}_${Je(this,no)._++}`,refCounter:1,isSvg:!1},o(this,$e).set(t,r),o(this,$e).set(r.id,r),r}getSvgUrl(t){const e=o(this,$e).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var i;o(this,$e)||b(this,$e,new Map);const e=o(this,$e).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:r}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),e.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),e.bitmap=null}isValidId(t){return t.startsWith(`image_${o(this,Ya)}_`)}};Ya=new WeakMap,no=new WeakMap,$e=new WeakMap,Ka=new WeakSet,xc=async function(t,e){o(this,$e)||b(this,$e,new Map);let r=o(this,$e).get(t);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${o(this,Ya)}_${Je(this,no)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(r.url=e,i=await Kd(e,"blob")):e instanceof File?i=r.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const s=N2._isSVGFittingCanvas,n=new FileReader,u=new Image,l=new Promise((c,h)=>{u.onload=()=>{r.bitmap=u,r.isSvg=!0,c()},n.onload=async()=>{const d=r.svgUrl=n.result;u.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},u.onerror=n.onerror=h});n.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return o(this,$e).set(t,r),r&&o(this,$e).set(r.id,r),r};let j0=N2;var Re,Ai,uo,ke;class lb{constructor(t=128){g(this,Re,[]);g(this,Ai,!1);g(this,uo,void 0);g(this,ke,-1);b(this,uo,t)}add({cmd:t,undo:e,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:n=!1,keepUndo:u=!1}){if(i&&t(),o(this,Ai))return;const l={cmd:t,undo:e,post:r,type:s};if(o(this,ke)===-1){o(this,Re).length>0&&(o(this,Re).length=0),b(this,ke,0),o(this,Re).push(l);return}if(n&&o(this,Re)[o(this,ke)].type===s){u&&(l.undo=o(this,Re)[o(this,ke)].undo),o(this,Re)[o(this,ke)]=l;return}const c=o(this,ke)+1;c===o(this,uo)?o(this,Re).splice(0,1):(b(this,ke,c),c<o(this,Re).length&&o(this,Re).splice(c)),o(this,Re).push(l)}undo(){if(o(this,ke)===-1)return;b(this,Ai,!0);const{undo:t,post:e}=o(this,Re)[o(this,ke)];t(),e==null||e(),b(this,Ai,!1),b(this,ke,o(this,ke)-1)}redo(){if(o(this,ke)<o(this,Re).length-1){b(this,ke,o(this,ke)+1),b(this,Ai,!0);const{cmd:t,post:e}=o(this,Re)[o(this,ke)];t(),e==null||e(),b(this,Ai,!1)}}hasSomethingToUndo(){return o(this,ke)!==-1}hasSomethingToRedo(){return o(this,ke)<o(this,Re).length-1}destroy(){b(this,Re,null)}}Re=new WeakMap,Ai=new WeakMap,uo=new WeakMap,ke=new WeakMap;var Ah,Op;class uc{constructor(t){g(this,Ah);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=lt.platform;for(const[r,i,s={}]of t)for(const n of r){const u=n.startsWith("mac+");e&&u?(this.callbacks.set(n.slice(4),{callback:i,options:s}),this.allKeys.add(n.split("+").at(-1))):!e&&!u&&(this.callbacks.set(n,{callback:i,options:s}),this.allKeys.add(n.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const r=this.callbacks.get(A(this,Ah,Op).call(this,e));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:n=[],checker:u=null}}=r;u&&!u(t,e)||(i.bind(t,...n,e)(),s||(e.stopPropagation(),e.preventDefault()))}}Ah=new WeakSet,Op=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const vh=class vh{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return ab(t),re(this,"_colors",t)}convert(t){const e=l2(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[r,i]of this._colors)if(i.every((s,n)=>s===e[n]))return vh._colorsMapping.get(r);return e}getHexCode(t){const e=this._colors.get(t);return e?q.makeHexColor(...e):t}};$(vh,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let U0=vh;var Ja,ft,Ce,qe,Za,Nr,Qa,It,vi,en,Es,Jt,Ot,Ds,oo,lo,tn,co,Zt,yi,rn,Ei,Qt,yh,Di,ho,wi,ws,fo,po,Pe,ue,Fr,_s,go,mo,_i,er,Rr,bo,Ct,sn,Cc,Ao,V0,Eh,qp,Dh,Hp,an,Tc,wh,jp,_h,Up,xh,Vp,vo,G0,Ch,Gp,yo,z0,Eo,$0,Th,zp,He,Ze,tr,oi,Sh,$p,Lh,Wp,Do,W0,Nh,Xp,xs,Mu,wo,X0;const Va=class Va{constructor(t,e,r,i,s,n,u,l,c,h,d){g(this,sn);g(this,Ao);g(this,Eh);g(this,Dh);g(this,an);g(this,wh);g(this,_h);g(this,xh);g(this,vo);g(this,Ch);g(this,yo);g(this,Eo);g(this,Th);g(this,He);g(this,tr);g(this,Sh);g(this,Lh);g(this,Do);g(this,Nh);g(this,xs);g(this,wo);g(this,Ja,new AbortController);g(this,ft,null);g(this,Ce,new Map);g(this,qe,new Map);g(this,Za,null);g(this,Nr,null);g(this,Qa,null);g(this,It,new lb);g(this,vi,null);g(this,en,0);g(this,Es,new Set);g(this,Jt,null);g(this,Ot,null);g(this,Ds,new Set);g(this,oo,!1);g(this,lo,!1);g(this,tn,!1);g(this,co,null);g(this,Zt,null);g(this,yi,null);g(this,rn,null);g(this,Ei,!1);g(this,Qt,null);g(this,yh,new ob);g(this,Di,!1);g(this,ho,!1);g(this,wi,null);g(this,ws,null);g(this,fo,null);g(this,po,null);g(this,Pe,K.NONE);g(this,ue,new Set);g(this,Fr,null);g(this,_s,null);g(this,go,null);g(this,mo,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});g(this,_i,[0,0]);g(this,er,null);g(this,Rr,null);g(this,bo,null);g(this,Ct,null);const f=this._signal=o(this,Ja).signal;b(this,Rr,t),b(this,bo,e),b(this,Za,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:f}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),i._on("setpreference",this.onSetPreference.bind(this),{signal:f}),i._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),A(this,wh,jp).call(this),A(this,Th,zp).call(this),A(this,vo,G0).call(this),b(this,Nr,s.annotationStorage),b(this,co,s.filterFactory),b(this,_s,n),b(this,rn,u||null),b(this,oo,l),b(this,lo,c),b(this,tn,h),b(this,po,d||null),this.viewParameters={realScale:Yi.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Va.prototype,e=n=>o(n,Rr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&n.hasSomethingToControl(),r=(n,{target:u})=>{if(u instanceof HTMLInputElement){const{type:l}=u;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return re(this,"_keyboardManager",new uc([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(n,{target:u})=>!(u instanceof HTMLButtonElement)&&o(n,Rr).contains(u)&&!n.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(n,{target:u})=>!(u instanceof HTMLButtonElement)&&o(n,Rr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}destroy(){var t,e,r,i;(t=o(this,Ct))==null||t.resolve(),b(this,Ct,null),(e=o(this,Ja))==null||e.abort(),b(this,Ja,null),this._signal=null;for(const s of o(this,qe).values())s.destroy();o(this,qe).clear(),o(this,Ce).clear(),o(this,Ds).clear(),b(this,ft,null),o(this,ue).clear(),o(this,It).destroy(),(r=o(this,Za))==null||r.destroy(),(i=o(this,Qt))==null||i.hide(),b(this,Qt,null),o(this,Zt)&&(clearTimeout(o(this,Zt)),b(this,Zt,null)),o(this,er)&&(clearTimeout(o(this,er)),b(this,er,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return o(this,po)}get useNewAltTextFlow(){return o(this,lo)}get useNewAltTextWhenAddingImage(){return o(this,tn)}get hcmFilter(){return re(this,"hcmFilter",o(this,_s)?o(this,co).addHCMFilter(o(this,_s).foreground,o(this,_s).background):"none")}get direction(){return re(this,"direction",getComputedStyle(o(this,Rr)).direction)}get highlightColors(){return re(this,"highlightColors",o(this,rn)?new Map(o(this,rn).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return re(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){b(this,fo,t)}editAltText(t,e=!1){var r;(r=o(this,Za))==null||r.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":b(this,tn,e);break}}onPageChanging({pageNumber:t}){b(this,en,t-1)}focusMainContainer(){o(this,Rr).focus()}findParent(t,e){for(const r of o(this,qe).values()){const{x:i,y:s,width:n,height:u}=r.div.getBoundingClientRect();if(t>=i&&t<=i+n&&e>=s&&e<=s+u)return r}return null}disableUserSelect(t=!1){o(this,bo).classList.toggle("noUserSelect",t)}addShouldRescale(t){o(this,Ds).add(t)}removeShouldRescale(t){o(this,Ds).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Yi.PDF_TO_CSS_UNITS;for(const e of o(this,Ds))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:n}=e,u=e.toString(),c=A(this,sn,Cc).call(this,e).closest(".textLayer"),h=this.getSelectionBoxes(c);if(!h)return;e.empty();const d=A(this,Ao,V0).call(this,c),f=o(this,Pe)===K.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:n,text:u}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(K.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&o(this,Nr)&&!o(this,Nr).has(t.id)&&o(this,Nr).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,o(this,Ei)&&(b(this,Ei,!1),A(this,an,Tc).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of o(this,ue))if(e.div.contains(t)){b(this,ws,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!o(this,ws))return;const[t,e]=o(this,ws);b(this,ws,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){A(this,vo,G0).call(this),A(this,yo,z0).call(this)}removeEditListeners(){A(this,Ch,Gp).call(this),A(this,Eo,$0).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const r of o(this,Ot))if(r.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const r of o(this,Ot))if(r.isHandlingMimeForPasting(e.type)){r.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var r;if(t.preventDefault(),(r=o(this,ft))==null||r.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of o(this,ue)){const s=i.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const n of o(this,Ot))if(n.isHandlingMimeForPasting(s.type)){n.paste(s,this.currentLayer);return}let r=e.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){J(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const n=()=>{for(const l of s)A(this,Do,W0).call(this,l);A(this,wo,X0).call(this,s)},u=()=>{for(const l of s)l.remove()};this.addCommands({cmd:n,undo:u,mustExec:!0})}catch(s){J(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),o(this,Pe)!==K.NONE&&!this.isEditorHandlingKeyboard&&Va._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,o(this,Ei)&&(b(this,Ei,!1),A(this,an,Tc).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(A(this,_h,Up).call(this),A(this,yo,z0).call(this),A(this,He,Ze).call(this,{isEditing:o(this,Pe)!==K.NONE,isEmpty:A(this,xs,Mu).call(this),hasSomethingToUndo:o(this,It).hasSomethingToUndo(),hasSomethingToRedo:o(this,It).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,xh,Vp).call(this),A(this,Eo,$0).call(this),A(this,He,Ze).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!o(this,Ot)){b(this,Ot,t);for(const e of o(this,Ot))A(this,tr,oi).call(this,e.defaultPropertiesToUpdate)}}getId(){return o(this,yh).id}get currentLayer(){return o(this,qe).get(o(this,en))}getLayer(t){return o(this,qe).get(t)}get currentPageIndex(){return o(this,en)}addLayer(t){o(this,qe).set(t.pageIndex,t),o(this,Di)?t.enable():t.disable()}removeLayer(t){o(this,qe).delete(t.pageIndex)}async updateMode(t,e=null,r=!1){if(o(this,Pe)!==t&&!(o(this,Ct)&&(await o(this,Ct).promise,!o(this,Ct)))){if(b(this,Ct,Promise.withResolvers()),b(this,Pe,t),t===K.NONE){this.setEditingState(!1),A(this,Lh,Wp).call(this),o(this,Ct).resolve();return}this.setEditingState(!0),await A(this,Sh,$p).call(this),this.unselectAll();for(const i of o(this,qe).values())i.updateMode(t);if(!e){r&&this.addNewEditorFromKeyboard(),o(this,Ct).resolve();return}for(const i of o(this,Ce).values())i.annotationElementId===e?(this.setSelected(i),i.enterInEditMode()):i.unselect();o(this,Ct).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==o(this,Pe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var r;if(o(this,Ot)){switch(t){case W.CREATE:this.currentLayer.addNewEditor();return;case W.HIGHLIGHT_DEFAULT_COLOR:(r=o(this,fo))==null||r.updateColor(e);break;case W.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(o(this,go)||b(this,go,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const i of o(this,ue))i.updateParams(t,e);for(const i of o(this,Ot))i.updateDefaultParams(t,e)}}showAllEditors(t,e,r=!1){var s;for(const n of o(this,Ce).values())n.editorType===t&&n.show(e);(((s=o(this,go))==null?void 0:s.get(W.HIGHLIGHT_SHOW_ALL))??!0)!==e&&A(this,tr,oi).call(this,[[W.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(o(this,ho)!==t){b(this,ho,t);for(const e of o(this,qe).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const r of o(this,Ce).values())r.pageIndex===t&&e.push(r);return e}getEditor(t){return o(this,Ce).get(t)}addEditor(t){o(this,Ce).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(o(this,Zt)&&clearTimeout(o(this,Zt)),b(this,Zt,setTimeout(()=>{this.focusMainContainer(),b(this,Zt,null)},0))),o(this,Ce).delete(t.id),this.unselect(t),(!t.annotationElementId||!o(this,Es).has(t.annotationElementId))&&((e=o(this,Nr))==null||e.remove(t.id))}addDeletedAnnotationElement(t){o(this,Es).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return o(this,Es).has(t)}removeDeletedAnnotationElement(t){o(this,Es).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){o(this,ft)!==t&&(b(this,ft,t),t&&A(this,tr,oi).call(this,t.propertiesToUpdate))}updateUI(t){o(this,Nh,Xp)===t&&A(this,tr,oi).call(this,t.propertiesToUpdate)}toggleSelected(t){if(o(this,ue).has(t)){o(this,ue).delete(t),t.unselect(),A(this,He,Ze).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,ue).add(t),t.select(),A(this,tr,oi).call(this,t.propertiesToUpdate),A(this,He,Ze).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of o(this,ue))e!==t&&e.unselect();o(this,ue).clear(),o(this,ue).add(t),t.select(),A(this,tr,oi).call(this,t.propertiesToUpdate),A(this,He,Ze).call(this,{hasSelectedEditor:!0})}isSelected(t){return o(this,ue).has(t)}get firstSelectedEditor(){return o(this,ue).values().next().value}unselect(t){t.unselect(),o(this,ue).delete(t),A(this,He,Ze).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,ue).size!==0}get isEnterHandled(){return o(this,ue).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){o(this,It).undo(),A(this,He,Ze).call(this,{hasSomethingToUndo:o(this,It).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,xs,Mu).call(this)})}redo(){o(this,It).redo(),A(this,He,Ze).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,It).hasSomethingToRedo(),isEmpty:A(this,xs,Mu).call(this)})}addCommands(t){o(this,It).add(t),A(this,He,Ze).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,xs,Mu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...o(this,ue)],e=()=>{for(const i of t)i.remove()},r=()=>{for(const i of t)A(this,Do,W0).call(this,i)};this.addCommands({cmd:e,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=o(this,ft))==null||t.commitOrRemove()}hasSomethingToControl(){return o(this,ft)||this.hasSelection}selectAll(){for(const t of o(this,ue))t.commit();A(this,wo,X0).call(this,o(this,Ce).values())}unselectAll(){if(!(o(this,ft)&&(o(this,ft).commitOrRemove(),o(this,Pe)!==K.NONE))&&this.hasSelection){for(const t of o(this,ue))t.unselect();o(this,ue).clear(),A(this,He,Ze).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;o(this,_i)[0]+=t,o(this,_i)[1]+=e;const[i,s]=o(this,_i),n=[...o(this,ue)],u=1e3;o(this,er)&&clearTimeout(o(this,er)),b(this,er,setTimeout(()=>{b(this,er,null),o(this,_i)[0]=o(this,_i)[1]=0,this.addCommands({cmd:()=>{for(const l of n)o(this,Ce).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of n)o(this,Ce).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},u));for(const l of n)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Jt,new Map);for(const t of o(this,ue))o(this,Jt).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!o(this,Jt))return!1;this.disableUserSelect(!1);const t=o(this,Jt);b(this,Jt,null);let e=!1;for(const[{x:i,y:s,pageIndex:n},u]of t)u.newX=i,u.newY=s,u.newPageIndex=n,e||(e=i!==u.savedX||s!==u.savedY||n!==u.savedPageIndex);if(!e)return!1;const r=(i,s,n,u)=>{if(o(this,Ce).has(i.id)){const l=o(this,qe).get(u);l?i._setParentAndPosition(l,s,n):(i.pageIndex=u,i.x=s,i.y=n)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:n,newPageIndex:u}]of t)r(i,s,n,u)},undo:()=>{for(const[i,{savedX:s,savedY:n,savedPageIndex:u}]of t)r(i,s,n,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(o(this,Jt))for(const r of o(this,Jt).keys())r.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||o(this,ue).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return o(this,ft)===t}getActive(){return o(this,ft)}getMode(){return o(this,Pe)}get imageManager(){return re(this,"imageManager",new j0)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,h=e.rangeCount;c<h;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:n}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(c,h,d,f)=>({x:(h-i)/n,y:1-(c+d-r)/s,width:f/n,height:d/s});break;case"180":u=(c,h,d,f)=>({x:1-(c+d-r)/s,y:1-(h+f-i)/n,width:d/s,height:f/n});break;case"270":u=(c,h,d,f)=>({x:1-(h+f-i)/n,y:(c-r)/s,width:f/n,height:d/s});break;default:u=(c,h,d,f)=>({x:(c-r)/s,y:(h-i)/n,width:d/s,height:f/n});break}const l=[];for(let c=0,h=e.rangeCount;c<h;c++){const d=e.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:m,height:v}of d.getClientRects())m===0||v===0||l.push(u(f,p,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(o(this,Qa)||b(this,Qa,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=o(this,Qa))==null||e.delete(t)}renderAnnotationElement(t){var i;const e=(i=o(this,Qa))==null?void 0:i.get(t.data.id);if(!e)return;const r=o(this,Nr).getRawValue(e);r&&(o(this,Pe)===K.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}};Ja=new WeakMap,ft=new WeakMap,Ce=new WeakMap,qe=new WeakMap,Za=new WeakMap,Nr=new WeakMap,Qa=new WeakMap,It=new WeakMap,vi=new WeakMap,en=new WeakMap,Es=new WeakMap,Jt=new WeakMap,Ot=new WeakMap,Ds=new WeakMap,oo=new WeakMap,lo=new WeakMap,tn=new WeakMap,co=new WeakMap,Zt=new WeakMap,yi=new WeakMap,rn=new WeakMap,Ei=new WeakMap,Qt=new WeakMap,yh=new WeakMap,Di=new WeakMap,ho=new WeakMap,wi=new WeakMap,ws=new WeakMap,fo=new WeakMap,po=new WeakMap,Pe=new WeakMap,ue=new WeakMap,Fr=new WeakMap,_s=new WeakMap,go=new WeakMap,mo=new WeakMap,_i=new WeakMap,er=new WeakMap,Rr=new WeakMap,bo=new WeakMap,Ct=new WeakMap,sn=new WeakSet,Cc=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Ao=new WeakSet,V0=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const r of o(this,qe).values())if(r.hasTextLayer(t))return r;return null},Eh=new WeakSet,qp=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const r=A(this,sn,Cc).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(o(this,Qt)||b(this,Qt,new nb(this)),o(this,Qt).show(r,i,this.direction==="ltr"))},Dh=new WeakSet,Hp=function(){var s,n,u;const t=document.getSelection();if(!t||t.isCollapsed){o(this,Fr)&&((s=o(this,Qt))==null||s.hide(),b(this,Fr,null),A(this,He,Ze).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===o(this,Fr))return;const i=A(this,sn,Cc).call(this,t).closest(".textLayer");if(!i){o(this,Fr)&&((n=o(this,Qt))==null||n.hide(),b(this,Fr,null),A(this,He,Ze).call(this,{hasSelectedText:!1}));return}if((u=o(this,Qt))==null||u.hide(),b(this,Fr,e),A(this,He,Ze).call(this,{hasSelectedText:!0}),!(o(this,Pe)!==K.HIGHLIGHT&&o(this,Pe)!==K.NONE)&&(o(this,Pe)===K.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Ei,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=o(this,Pe)===K.HIGHLIGHT?A(this,Ao,V0).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&A(this,an,Tc).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},an=new WeakSet,Tc=function(t=""){o(this,Pe)===K.HIGHLIGHT?this.highlightSelection(t):o(this,oo)&&A(this,Eh,qp).call(this)},wh=new WeakSet,jp=function(){document.addEventListener("selectionchange",A(this,Dh,Hp).bind(this),{signal:this._signal})},_h=new WeakSet,Up=function(){if(o(this,yi))return;b(this,yi,new AbortController);const t=this.combinedSignal(o(this,yi));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},xh=new WeakSet,Vp=function(){var t;(t=o(this,yi))==null||t.abort(),b(this,yi,null)},vo=new WeakSet,G0=function(){if(o(this,wi))return;b(this,wi,new AbortController);const t=this.combinedSignal(o(this,wi));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Ch=new WeakSet,Gp=function(){var t;(t=o(this,wi))==null||t.abort(),b(this,wi,null)},yo=new WeakSet,z0=function(){if(o(this,vi))return;b(this,vi,new AbortController);const t=this.combinedSignal(o(this,vi));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Eo=new WeakSet,$0=function(){var t;(t=o(this,vi))==null||t.abort(),b(this,vi,null)},Th=new WeakSet,zp=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},He=new WeakSet,Ze=function(t){Object.entries(t).some(([r,i])=>o(this,mo)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,mo),t)}),o(this,Pe)===K.HIGHLIGHT&&t.hasSelectedEditor===!1&&A(this,tr,oi).call(this,[[W.HIGHLIGHT_FREE,!0]]))},tr=new WeakSet,oi=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Sh=new WeakSet,$p=async function(){if(!o(this,Di)){b(this,Di,!0);const t=[];for(const e of o(this,qe).values())t.push(e.enable());await Promise.all(t);for(const e of o(this,Ce).values())e.enable()}},Lh=new WeakSet,Wp=function(){if(this.unselectAll(),o(this,Di)){b(this,Di,!1);for(const t of o(this,qe).values())t.disable();for(const t of o(this,Ce).values())t.disable()}},Do=new WeakSet,W0=function(t){const e=o(this,qe).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Nh=new WeakSet,Xp=function(){let t=null;for(t of o(this,ue));return t},xs=new WeakSet,Mu=function(){if(o(this,Ce).size===0)return!0;if(o(this,Ce).size===1)for(const t of o(this,Ce).values())return t.isEmpty();return!1},wo=new WeakSet,X0=function(t){for(const e of o(this,ue))e.unselect();o(this,ue).clear();for(const e of t)e.isEmpty()||(o(this,ue).add(e),e.select());A(this,He,Ze).call(this,{hasSelectedEditor:this.hasSelection})},$(Va,"TRANSLATE_SMALL",1),$(Va,"TRANSLATE_BIG",10);let ya=Va;var Me,rr,qt,ir,pt,nn,sr,it,kr,Cs,ar,un,on,Sc,ln,Lc;const Ne=class Ne{constructor(t){g(this,on);g(this,ln);g(this,Me,null);g(this,rr,!1);g(this,qt,null);g(this,ir,null);g(this,pt,null);g(this,nn,!1);g(this,sr,null);g(this,it,null);g(this,kr,null);g(this,Cs,null);g(this,ar,!1);b(this,it,t),b(this,ar,t._uiManager.useNewAltTextFlow),o(Ne,un)||b(Ne,un,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ne._l10nPromise||(Ne._l10nPromise=t)}async render(){const t=b(this,qt,document.createElement("button"));t.className="altText";let e;o(this,ar)?(t.classList.add("new"),e=await Ne._l10nPromise.get(o(Ne,un).missing)):e=await Ne._l10nPromise.get("pdfjs-editor-alt-text-button-label"),t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0";const r=o(this,it)._uiManager._signal;t.addEventListener("contextmenu",Ft,{signal:r}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),o(this,it)._uiManager.editAltText(o(this,it)),o(this,ar)&&o(this,it)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:o(this,on,Sc)}})};return t.addEventListener("click",i,{capture:!0,signal:r}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(b(this,nn,!0),i(s))},{signal:r}),await A(this,ln,Lc).call(this),t}finish(){o(this,qt)&&(o(this,qt).focus({focusVisible:o(this,nn)}),b(this,nn,!1))}isEmpty(){return o(this,ar)?o(this,Me)===null:!o(this,Me)&&!o(this,rr)}hasData(){return o(this,ar)?o(this,Me)!==null||!!o(this,kr):this.isEmpty()}get guessedText(){return o(this,kr)}async setGuessedText(t){o(this,Me)===null&&(b(this,kr,t),b(this,Cs,await Ne._l10nPromise.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer")({generatedAltText:t})),A(this,ln,Lc).call(this))}toggleAltTextBadge(t=!1){var e;if(!o(this,ar)||o(this,Me)){(e=o(this,sr))==null||e.remove(),b(this,sr,null);return}if(!o(this,sr)){const r=b(this,sr,document.createElement("div"));r.className="noAltTextBadge",o(this,it).div.append(r)}o(this,sr).classList.toggle("hidden",!t)}serialize(t){let e=o(this,Me);return!t&&o(this,kr)===e&&(e=o(this,Cs)),{altText:e,decorative:o(this,rr),guessedText:o(this,kr),textWithDisclaimer:o(this,Cs)}}get data(){return{altText:o(this,Me),decorative:o(this,rr)}}set data({altText:t,decorative:e,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(b(this,kr,r),b(this,Cs,i)),!(o(this,Me)===t&&o(this,rr)===e)&&(s||(b(this,Me,t),b(this,rr,e)),A(this,ln,Lc).call(this))}toggle(t=!1){o(this,qt)&&(!t&&o(this,pt)&&(clearTimeout(o(this,pt)),b(this,pt,null)),o(this,qt).disabled=!t)}shown(){o(this,it)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:o(this,on,Sc)}})}destroy(){var t,e;(t=o(this,qt))==null||t.remove(),b(this,qt,null),b(this,ir,null),(e=o(this,sr))==null||e.remove(),b(this,sr,null)}};Me=new WeakMap,rr=new WeakMap,qt=new WeakMap,ir=new WeakMap,pt=new WeakMap,nn=new WeakMap,sr=new WeakMap,it=new WeakMap,kr=new WeakMap,Cs=new WeakMap,ar=new WeakMap,un=new WeakMap,on=new WeakSet,Sc=function(){return o(this,Me)&&"added"||o(this,Me)===null&&this.guessedText&&"review"||"missing"},ln=new WeakSet,Lc=async function(){var i,s;const t=o(this,qt);if(!t)return;if(o(this,ar)){if(t.classList.toggle("done",!!o(this,Me)),Ne._l10nPromise.get(o(Ne,un)[o(this,on,Sc)]).then(n=>{t.setAttribute("aria-label",n);for(const u of t.childNodes)if(u.nodeType===Node.TEXT_NODE){u.textContent=n;break}}),!o(this,Me)){(i=o(this,ir))==null||i.remove();return}}else{if(!o(this,Me)&&!o(this,rr)){t.classList.remove("done"),(s=o(this,ir))==null||s.remove();return}t.classList.add("done"),Ne._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(n=>{t.setAttribute("aria-label",n)})}let e=o(this,ir);if(!e){b(this,ir,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${o(this,it).id}`;const n=100,u=o(this,it)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(o(this,pt)),b(this,pt,null)},{once:!0}),t.addEventListener("mouseenter",()=>{b(this,pt,setTimeout(()=>{b(this,pt,null),o(this,ir).classList.add("show"),o(this,it)._reportTelemetry({action:"alt_text_tooltip"})},n))},{signal:u}),t.addEventListener("mouseleave",()=>{var l;o(this,pt)&&(clearTimeout(o(this,pt)),b(this,pt,null)),(l=o(this,ir))==null||l.classList.remove("show")},{signal:u})}e.innerText=o(this,rr)?await Ne._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):o(this,Me),e.parentNode||t.append(e);const r=o(this,it).getImageForAltText();r==null||r.setAttribute("aria-describedby",e.id)},g(Ne,un,null),$(Ne,"_l10nPromise",null);let eh=Ne;var Ts,Ht,fe,cn,Ss,je,Ls,xi,_o,Ns,Ci,xo,Fs,Pr,nr,hn,dn,Tt,Co,Fh,To,Y0,So,K0,Lo,J0,Rh,Yp,kh,Kp,No,Z0,Fo,Q0,Ro,ef,Ph,Jp,ko,tf,Mh,Zp,Bh,Qp,Ih,eg,Po,rf,Rs,Bu;const ae=class ae{constructor(t){g(this,To);g(this,Lo);g(this,Rh);g(this,kh);g(this,No);g(this,Fo);g(this,Ro);g(this,Ph);g(this,ko);g(this,Mh);g(this,Bh);g(this,Ih);g(this,Po);g(this,Rs);g(this,Ts,null);g(this,Ht,null);g(this,fe,null);g(this,cn,!1);g(this,Ss,!1);g(this,je,null);g(this,Ls,null);g(this,xi,null);g(this,_o,"");g(this,Ns,!1);g(this,Ci,null);g(this,xo,!1);g(this,Fs,!1);g(this,Pr,!1);g(this,nr,null);g(this,hn,0);g(this,dn,0);g(this,Tt,null);$(this,"_editToolbar",null);$(this,"_initialOptions",Object.create(null));$(this,"_initialData",null);$(this,"_isVisible",!0);$(this,"_uiManager",null);$(this,"_focusEventsAllowed",!0);g(this,Co,!1);g(this,Fh,ae._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:n}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,n];const[u,l]=this.parentDimensions;this.x=t.x/u,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ae.prototype._resizeWithKeyboard,e=ya.TRANSLATE_SMALL,r=ya.TRANSLATE_BIG;return re(this,"_resizerKeyboardManager",new uc([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,r]}],[["Escape","mac+Escape"],ae.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return re(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new cb({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,r){if(ae._l10nResizer||(ae._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ae._l10nPromise||(ae._l10nPromise=new Map([...["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-new-alt-text-added-button-label","pdfjs-editor-new-alt-text-missing-button-label","pdfjs-editor-new-alt-text-to-review-button-label"].map(s=>[s,t.get(s)]),...["pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer"].map(s=>[s,t.get.bind(t,s)])])),r!=null&&r.strings)for(const s of r.strings)ae._l10nPromise.set(s,t.get(s));if(ae._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ae._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){_e("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return o(this,Co)}set _isDraggable(t){var e;b(this,Co,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=o(this,Fh)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):A(this,Rs,Bu).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(o(this,Ns)?b(this,Ns,!1):this.parent.setSelected(this))}focusout(t){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,r,i){const[s,n]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(t+r)/s,this.y=(e+i)/n,this.fixAndSetPosition()}translate(t,e){A(this,To,Y0).call(this,this.parentDimensions,t,e)}translateInPage(t,e){o(this,Ci)||b(this,Ci,[this.x,this.y]),A(this,To,Y0).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){o(this,Ci)||b(this,Ci,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=t/r,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:n}=this;const[u,l]=this.getBaseTranslation();s+=u,n+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*n).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!o(this,Ci)&&(o(this,Ci)[0]!==this.x||o(this,Ci)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:r}=ae,i=r/t,s=r/e;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,r]=this.pageDimensions;let{x:i,y:s,width:n,height:u}=this;if(n*=e,u*=r,i*=e,s*=r,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(e-n,i)),s=Math.max(0,Math.min(r-u,s));break;case 90:i=Math.max(0,Math.min(e-u,i)),s=Math.min(r,Math.max(n,s));break;case 180:i=Math.min(e,Math.max(n,i)),s=Math.min(r,Math.max(u,s));break;case 270:i=Math.min(e,Math.max(u,i)),s=Math.max(0,Math.min(r-n,s));break}this.x=i/=e,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var r;return A(r=ae,So,K0).call(r,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var r;return A(r=ae,So,K0).call(r,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,r]}=this;return[e*t,r*t]}setDims(t,e){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*t/r).toFixed(2)}%`,o(this,Ss)||(this.div.style.height=`${(100*e/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:r}=t,i=r.endsWith("%"),s=!o(this,Ss)&&e.endsWith("%");if(i&&s)return;const[n,u]=this.parentDimensions;i||(t.width=`${(100*parseFloat(r)/n).toFixed(2)}%`),!o(this,Ss)&&!s&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=o(this,fe))==null||t.finish()}async addEditToolbar(){return this._editToolbar||o(this,Fs)?this._editToolbar:(this._editToolbar=new q0(this),this.div.append(this._editToolbar.render()),o(this,fe)&&await this._editToolbar.addAltText(o(this,fe)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=o(this,fe))==null||t.destroy())}addContainer(t){var r;const e=(r=this._editToolbar)==null?void 0:r.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){o(this,fe)||(eh.initialize(ae._l10nPromise),b(this,fe,new eh(this)),o(this,Ts)&&(o(this,fe).data=o(this,Ts),b(this,Ts,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=o(this,fe))==null?void 0:t.data}set altTextData(t){o(this,fe)&&(o(this,fe).data=t)}get guessedAltText(){var t;return(t=o(this,fe))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=o(this,fe))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=o(this,fe))==null?void 0:e.serialize(t)}hasAltText(){return!!o(this,fe)&&!o(this,fe).isEmpty()}hasAltTextData(){var t;return((t=o(this,fe))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=o(this,cn)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,ko,tf).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),Qc(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=lt.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(b(this,Ns,!0),this._isDraggable){A(this,Ph,Jp).call(this,t);return}A(this,Ro,ef).call(this,t)}moveInDOM(){o(this,nr)&&clearTimeout(o(this,nr)),b(this,nr,setTimeout(()=>{var t;b(this,nr,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,r){t.changeParent(this),this.x=e,this.y=r,this.fixAndSetPosition()}getRect(t,e,r=this.rotation){const i=this.parentScale,[s,n]=this.pageDimensions,[u,l]=this.pageTranslation,c=t/i,h=e/i,d=this.x*s,f=this.y*n,p=this.width*s,m=this.height*n;switch(r){case 0:return[d+c+u,n-f-h-m+l,d+c+p+u,n-f-h+l];case 90:return[d+h+u,n-f+c+l,d+h+m+u,n-f+c+p+l];case 180:return[d-c-p+u,n-f+h+l,d-c+u,n-f+h+m+l];case 270:return[d-h-m+u,n-f-c-p+l,d-h+u,n-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[r,i,s,n]=t,u=s-r,l=n-i;switch(this.rotation){case 0:return[r,e-n,u,l];case 90:return[r,e-i,l,u];case 180:return[s,e-i,u,l];case 270:return[s,e-n,l,u];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Fs,!0)}disableEditMode(){b(this,Fs,!1)}isInEditMode(){return o(this,Fs)}shouldGetKeyboardEvents(){return o(this,Pr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){A(this,ko,tf).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){_e("An editor must be serializable")}static async deserialize(t,e,r){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:r});i.rotation=t.rotation,b(i,Ts,t.accessibilityData);const[s,n]=i.pageDimensions,[u,l,c,h]=i.getRectInCurrentCoords(t.rect,n);return i.x=u/s,i.y=l/n,i.width=c/s,i.height=h/n,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=o(this,xi))==null||t.abort(),b(this,xi,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),o(this,nr)&&(clearTimeout(o(this,nr)),b(this,nr,null)),A(this,Rs,Bu).call(this),this.removeEditToolbar(),o(this,Tt)){for(const e of o(this,Tt).values())clearTimeout(e);b(this,Tt,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,Rh,Yp).call(this),o(this,je).classList.remove("hidden"),Qc(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Ls,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=o(this,je).children;if(!o(this,Ht)){b(this,Ht,Array.from(e));const n=A(this,Mh,Zp).bind(this),u=A(this,Bh,Qp).bind(this),l=this._uiManager._signal;for(const c of o(this,Ht)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",n,{signal:l}),c.addEventListener("blur",u,{signal:l}),c.addEventListener("focus",A(this,Ih,eg).bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",ae._l10nResizer[h])}}const r=o(this,Ht)[0];let i=0;for(const n of e){if(n===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(o(this,Ht).length/4);if(s!==i){if(s<i)for(let u=0;u<i-s;u++)o(this,je).append(o(this,je).firstChild);else if(s>i)for(let u=0;u<s-i;u++)o(this,je).firstChild.before(o(this,je).lastChild);let n=0;for(const u of e){const c=o(this,Ht)[n++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",ae._l10nResizer[c])}}A(this,Po,rf).call(this,0),b(this,Pr,!0),o(this,je).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){o(this,Pr)&&A(this,Fo,Q0).call(this,o(this,_o),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){A(this,Rs,Bu).call(this),this.div.focus()}select(){var t,e,r;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(e=this._editToolbar)==null||e.show(),(r=o(this,fe))==null||r.toggleAltTextBadge(!1)}unselect(){var t,e,r,i,s;(t=o(this,je))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=o(this,fe))==null||s.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return o(this,xo)}set isEditing(t){b(this,xo,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){b(this,Ss,!0);const r=t/e,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){o(this,Tt)||b(this,Tt,new Map);const{action:r}=t;let i=o(this,Tt).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),o(this,Tt).delete(r),o(this,Tt).size===0&&b(this,Tt,null)},ae._telemetryTimeout),o(this,Tt).set(r,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),b(this,cn,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,cn,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const r=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),r.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Ts=new WeakMap,Ht=new WeakMap,fe=new WeakMap,cn=new WeakMap,Ss=new WeakMap,je=new WeakMap,Ls=new WeakMap,xi=new WeakMap,_o=new WeakMap,Ns=new WeakMap,Ci=new WeakMap,xo=new WeakMap,Fs=new WeakMap,Pr=new WeakMap,nr=new WeakMap,hn=new WeakMap,dn=new WeakMap,Tt=new WeakMap,Co=new WeakMap,Fh=new WeakMap,To=new WeakSet,Y0=function([t,e],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/t,this.y+=i/e,this.fixAndSetPosition()},So=new WeakSet,K0=function(t,e,r){switch(r){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Lo=new WeakSet,J0=function(t){switch(t){case 90:{const[e,r]=this.pageDimensions;return[0,-e/r,r/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,r]=this.pageDimensions;return[0,e/r,-r/e,0]}default:return[1,0,0,1]}},Rh=new WeakSet,Yp=function(){if(o(this,je))return;b(this,je,document.createElement("div")),o(this,je).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const r of t){const i=document.createElement("div");o(this,je).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",A(this,kh,Kp).bind(this,r),{signal:e}),i.addEventListener("contextmenu",Ft,{signal:e}),i.tabIndex=-1}this.div.prepend(o(this,je))},kh=new WeakSet,Kp=function(t,e){var m;e.preventDefault();const{isMac:r}=lt.platform;if(e.button!==0||e.ctrlKey&&r)return;(m=o(this,fe))==null||m.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,n=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,Fo,Q0).bind(this,t),{passive:!0,capture:!0,signal:n}),window.addEventListener("contextmenu",Ft,{signal:n});const u=this.x,l=this.y,c=this.width,h=this.height,d=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var v;s.abort(),this.parent.togglePointerEvents(!0),(v=o(this,fe))==null||v.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=d,this.div.style.cursor=f,A(this,No,Z0).call(this,u,l,c,h)};window.addEventListener("pointerup",p,{signal:n}),window.addEventListener("blur",p,{signal:n})},No=new WeakSet,Z0=function(t,e,r,i){const s=this.x,n=this.y,u=this.width,l=this.height;s===t&&n===e&&u===r&&l===i||this.addCommands({cmd:()=>{this.width=u,this.height=l,this.x=s,this.y=n;const[c,h]=this.parentDimensions;this.setDims(c*u,h*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=t,this.y=e;const[c,h]=this.parentDimensions;this.setDims(c*r,h*i),this.fixAndSetPosition()},mustExec:!0})},Fo=new WeakSet,Q0=function(t,e){const[r,i]=this.parentDimensions,s=this.x,n=this.y,u=this.width,l=this.height,c=ae.MIN_SIZE/r,h=ae.MIN_SIZE/i,d=k=>Math.round(k*1e4)/1e4,f=A(this,Lo,J0).call(this,this.rotation),p=(k,I)=>[f[0]*k+f[2]*I,f[1]*k+f[3]*I],m=A(this,Lo,J0).call(this,360-this.rotation),v=(k,I)=>[m[0]*k+m[2]*I,m[1]*k+m[3]*I];let E,y,D=!1,w=!1;switch(t){case"topLeft":D=!0,E=(k,I)=>[0,0],y=(k,I)=>[k,I];break;case"topMiddle":E=(k,I)=>[k/2,0],y=(k,I)=>[k/2,I];break;case"topRight":D=!0,E=(k,I)=>[k,0],y=(k,I)=>[0,I];break;case"middleRight":w=!0,E=(k,I)=>[k,I/2],y=(k,I)=>[0,I/2];break;case"bottomRight":D=!0,E=(k,I)=>[k,I],y=(k,I)=>[0,0];break;case"bottomMiddle":E=(k,I)=>[k/2,I],y=(k,I)=>[k/2,0];break;case"bottomLeft":D=!0,E=(k,I)=>[0,I],y=(k,I)=>[k,0];break;case"middleLeft":w=!0,E=(k,I)=>[0,I/2],y=(k,I)=>[k,I/2];break}const _=E(u,l),T=y(u,l);let x=p(...T);const L=d(s+x[0]),S=d(n+x[1]);let O=1,U=1,[C,F]=this.screenToPageTranslation(e.movementX,e.movementY);if([C,F]=v(C/r,F/i),D){const k=Math.hypot(u,l);O=U=Math.max(Math.min(Math.hypot(T[0]-_[0]-C,T[1]-_[1]-F)/k,1/u,1/l),c/u,h/l)}else w?O=Math.max(c,Math.min(1,Math.abs(T[0]-_[0]-C)))/u:U=Math.max(h,Math.min(1,Math.abs(T[1]-_[1]-F)))/l;const N=d(u*O),R=d(l*U);x=p(...y(N,R));const M=L-x[0],G=S-x[1];this.width=N,this.height=R,this.x=M,this.y=G,this.setDims(r*N,i*R),this.fixAndSetPosition()},Ro=new WeakSet,ef=function(t){const{isMac:e}=lt.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Ph=new WeakSet,Jp=function(t){const e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(e){this.div.classList.add("moving"),b(this,hn,t.clientX),b(this,dn,t.clientY);const n=u=>{const{clientX:l,clientY:c}=u,[h,d]=this.screenToPageTranslation(l-o(this,hn),c-o(this,dn));b(this,hn,l),b(this,dn,c),this._uiManager.dragSelectedEditors(h,d)};window.addEventListener("pointermove",n,{passive:!0,capture:!0,signal:i})}const s=()=>{r.abort(),e&&this.div.classList.remove("moving"),b(this,Ns,!1),this._uiManager.endDragSession()||A(this,Ro,ef).call(this,t)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})},ko=new WeakSet,tf=function(){if(o(this,xi)||!this.div)return;b(this,xi,new AbortController);const t=this._uiManager.combinedSignal(o(this,xi));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Mh=new WeakSet,Zp=function(t){ae._resizerKeyboardManager.exec(this,t)},Bh=new WeakSet,Qp=function(t){var e;o(this,Pr)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==o(this,je)&&A(this,Rs,Bu).call(this)},Ih=new WeakSet,eg=function(t){b(this,_o,o(this,Pr)?t:"")},Po=new WeakSet,rf=function(t){if(o(this,Ht))for(const e of o(this,Ht))e.tabIndex=t},Rs=new WeakSet,Bu=function(){if(b(this,Pr,!1),A(this,Po,rf).call(this,-1),o(this,Ls)){const{savedX:t,savedY:e,savedWidth:r,savedHeight:i}=o(this,Ls);A(this,No,Z0).call(this,t,e,r,i),b(this,Ls,null)}},g(ae,So),$(ae,"_l10nPromise",null),$(ae,"_l10nResizer",null),$(ae,"_borderLineWidth",-1),$(ae,"_colorManager",new U0),$(ae,"_zIndex",1),$(ae,"_telemetryTimeout",1e3);let ne=ae;class cb extends ne{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const j2=3285377520,xt=4294901760,Xt=65535;class tg{constructor(t){this.h1=t?t&4294967295:j2,this.h2=t?t&4294967295:j2}update(t){let e,r;if(typeof t=="string"){e=new Uint8Array(t.length*2),r=0;for(let v=0,E=t.length;v<E;v++){const y=t.charCodeAt(v);y<=255?e[r++]=y:(e[r++]=y>>>8,e[r++]=y&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),r=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,n=new Uint32Array(e.buffer,0,i);let u=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&Xt,m=f&Xt;for(let v=0;v<i;v++)v&1?(u=n[v],u=u*d&xt|u*p&Xt,u=u<<15|u>>>17,u=u*f&xt|u*m&Xt,c^=u,c=c<<13|c>>>19,c=c*5+3864292196):(l=n[v],l=l*d&xt|l*p&Xt,l=l<<15|l>>>17,l=l*f&xt|l*m&Xt,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(u=0,s){case 3:u^=e[i*4+2]<<16;case 2:u^=e[i*4+1]<<8;case 1:u^=e[i*4],u=u*d&xt|u*p&Xt,u=u<<15|u>>>17,u=u*f&xt|u*m&Xt,i&1?c^=u:h^=u}this.h1=c,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&xt|t*36045&Xt,e=e*4283543511&xt|((e<<16|t>>>16)*2950163797&xt)>>>16,t^=e>>>1,t=t*444984403&xt|t*60499&Xt,e=e*3301882366&xt|((e<<16|t>>>16)*3120437893&xt)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const sf=Object.freeze({map:null,hash:"",transfer:void 0});var ks,Ps,Be,Oh,rg;class c2{constructor(){g(this,Oh);g(this,ks,!1);g(this,Ps,null);g(this,Be,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const r=o(this,Be).get(t);return r===void 0?e:Object.assign(e,r)}getRawValue(t){return o(this,Be).get(t)}remove(t){if(o(this,Be).delete(t),o(this,Be).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of o(this,Be).values())if(e instanceof ne)return;this.onAnnotationEditor(null)}}setValue(t,e){const r=o(this,Be).get(t);let i=!1;if(r!==void 0)for(const[s,n]of Object.entries(e))r[s]!==n&&(i=!0,r[s]=n);else i=!0,o(this,Be).set(t,e);i&&A(this,Oh,rg).call(this),e instanceof ne&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return o(this,Be).has(t)}getAll(){return o(this,Be).size>0?s2(o(this,Be)):null}setAll(t){for(const[e,r]of Object.entries(t))this.setValue(e,r)}get size(){return o(this,Be).size}resetModified(){o(this,ks)&&(b(this,ks,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ig(this)}get serializable(){if(o(this,Be).size===0)return sf;const t=new Map,e=new tg,r=[],i=Object.create(null);let s=!1;for(const[n,u]of o(this,Be)){const l=u instanceof ne?u.serialize(!1,i):u;l&&(t.set(n,l),e.update(`${n}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const n of t.values())n.bitmap&&r.push(n.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:r}:sf}get editorStats(){let t=null;const e=new Map;for(const r of o(this,Be).values()){if(!(r instanceof ne))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;e.has(s)||e.set(s,Object.getPrototypeOf(r).constructor),t||(t=Object.create(null));const n=t[s]||(t[s]=new Map);for(const[u,l]of Object.entries(i)){if(u==="type")continue;let c=n.get(u);c||(c=new Map,n.set(u,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[r,i]of e)t[r]=i.computeTelemetryFinalData(t[r]);return t}resetModifiedIds(){b(this,Ps,null)}get modifiedIds(){if(o(this,Ps))return o(this,Ps);const t=[];for(const e of o(this,Be).values())!(e instanceof ne)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return b(this,Ps,{ids:new Set(t),hash:t.join(",")})}}ks=new WeakMap,Ps=new WeakMap,Be=new WeakMap,Oh=new WeakSet,rg=function(){o(this,ks)||(b(this,ks,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Mo;class ig extends c2{constructor(e){super();g(this,Mo,void 0);const{map:r,hash:i,transfer:s}=e.serializable,n=structuredClone(r,s?{transfer:s}:null);b(this,Mo,{map:n,hash:i,transfer:s})}get print(){_e("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,Mo)}get modifiedIds(){return re(this,"modifiedIds",{ids:new Set,hash:""})}}Mo=new WeakMap;var fn;class hb{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){g(this,fn,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),o(this,fn).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||o(this,fn).has(t.loadedName))){if(Le(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=t,n=new FontFace(r,i,s);this.addNativeFontFace(n);try{await n.load(),o(this,fn).add(r),e==null||e(t)}catch{J(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(n)}return}_e("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const r=t.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw J(`Failed to load font '${r.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return re(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ke||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),re(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Le(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:e,callback:t};return r.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return re(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function r(_,T){return _.charCodeAt(T)<<24|_.charCodeAt(T+1)<<16|_.charCodeAt(T+2)<<8|_.charCodeAt(T+3)&255}function i(_,T,x,L){const S=_.substring(0,T),O=_.substring(T+x);return S+L+O}let s,n;const u=this._document.createElement("canvas");u.width=1,u.height=1;const l=u.getContext("2d");let c=0;function h(_,T){if(++c>30){J("Load test font never loaded."),T();return}if(l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(h.bind(null,_,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const m=16,v=1482184792;let E=r(f,m);for(s=0,n=d.length-3;s<n;s+=4)E=E-v+r(d,s)|0;s<d.length&&(E=E-v+r(d+"XXX",s)|0),f=i(f,m,4,Wm(E));const y=`url(data:font/opentype;base64,${btoa(f)});`,D=`@font-face {font-family:"${d}";src:${y}}`;this.insertRule(D);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const _ of[t.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=_,w.append(T)}this._document.body.append(w),h(d,()=>{w.remove(),e.complete()})}}fn=new WeakMap;class db{constructor(t,{disableFontFace:e=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=e===!0,this._inspectFont=r}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=Dp(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),r}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let r;try{r=t.get(this.loadedName+"_path_"+e)}catch(s){J(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[e]=function(s,n){};const i=[];for(let s=0,n=r.length;s<n;)switch(r[s++]){case yr.BEZIER_CURVE_TO:{const[u,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(u,l,c,h,d,f)),s+=6}break;case yr.MOVE_TO:{const[u,l]=r.slice(s,s+2);i.push(c=>c.moveTo(u,l)),s+=2}break;case yr.LINE_TO:{const[u,l]=r.slice(s,s+2);i.push(c=>c.lineTo(u,l)),s+=2}break;case yr.QUADRATIC_CURVE_TO:{const[u,l,c,h]=r.slice(s,s+4);i.push(d=>d.quadraticCurveTo(u,l,c,h)),s+=4}break;case yr.RESTORE:i.push(u=>u.restore());break;case yr.SAVE:i.push(u=>u.save());break;case yr.SCALE:Le(i.length===2,"Scale command is only valid at the third position.");break;case yr.TRANSFORM:{const[u,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.transform(u,l,c,h,d,f)),s+=6}break;case yr.TRANSLATE:{const[u,l]=r.slice(s,s+2);i.push(c=>c.translate(u,l)),s+=2}break}return this.compiledGlyphs[e]=function(n,u){i[0](n),i[1](n),n.scale(u,-u);for(let l=2,c=i.length;l<c;l++)i[l](n)}}}if(Ke){var af=Promise.withResolvers(),$u=null;(async()=>{const t=await Nu(()=>import("./__vite-browser-external-b25bb000.js"),[]),e=await Nu(()=>import("./__vite-browser-external-b25bb000.js"),[]),r=await Nu(()=>import("./__vite-browser-external-b25bb000.js"),[]),i=await Nu(()=>import("./__vite-browser-external-b25bb000.js"),[]);let s,n;return new Map(Object.entries({fs:t,http:e,https:r,url:i,canvas:s,path2d:n}))})().then(t=>{$u=t,af.resolve()},t=>{J(`loadPackages: ${t}`),$u=new Map,af.resolve()})}class Ki{static get promise(){return af.promise}static get(t){return $u==null?void 0:$u.get(t)}}const sg=function(a){return Ki.get("fs").promises.readFile(a).then(e=>new Uint8Array(e))};class fb extends wp{}class pb extends _p{_createCanvas(t,e){return Ki.get("canvas").createCanvas(t,e)}}class gb extends xp{_fetchData(t,e){return sg(t).then(r=>({cMapData:r,compressionType:e}))}}class mb extends Cp{_fetchData(t){return sg(t)}}const Qe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function nf(a,t){if(!t)return;const e=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,r),a.clip(i)}class h2{getPattern(){_e("Abstract method `getPattern` called.")}}class bb extends h2{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)e.addColorStop(r[0],r[1]);return e}getPattern(t,e,r,i){let s;if(i===Qe.STROKE||i===Qe.FILL){const n=e.current.getClippedPathBoundingBox(i,ge(t))||[0,0,0,0],u=Math.ceil(n[2]-n[0])||1,l=Math.ceil(n[3]-n[1])||1,c=e.cachedCanvases.getCanvas("pattern",u,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-n[0],-n[1]),r=q.transform(r,[1,0,0,1,n[0],n[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),nf(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else nf(t,this._bbox),s=this._createGradient(t);return s}}function D0(a,t,e,r,i,s,n,u){const l=t.coords,c=t.colors,h=a.data,d=a.width*4;let f;l[e+1]>l[r+1]&&(f=e,e=r,r=f,f=s,s=n,n=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=n,n=u,u=f),l[e+1]>l[r+1]&&(f=e,e=r,r=f,f=s,s=n,n=f);const p=(l[e]+t.offsetX)*t.scaleX,m=(l[e+1]+t.offsetY)*t.scaleY,v=(l[r]+t.offsetX)*t.scaleX,E=(l[r+1]+t.offsetY)*t.scaleY,y=(l[i]+t.offsetX)*t.scaleX,D=(l[i+1]+t.offsetY)*t.scaleY;if(m>=D)return;const w=c[s],_=c[s+1],T=c[s+2],x=c[n],L=c[n+1],S=c[n+2],O=c[u],U=c[u+1],C=c[u+2],F=Math.round(m),N=Math.round(D);let R,M,G,k,I,B,H,Y;for(let z=F;z<=N;z++){if(z<E){const V=z<m?0:(m-z)/(m-E);R=p-(p-v)*V,M=w-(w-x)*V,G=_-(_-L)*V,k=T-(T-S)*V}else{let V;z>D?V=1:E===D?V=0:V=(E-z)/(E-D),R=v-(v-y)*V,M=x-(x-O)*V,G=L-(L-U)*V,k=S-(S-C)*V}let Z;z<m?Z=0:z>D?Z=1:Z=(m-z)/(m-D),I=p-(p-y)*Z,B=w-(w-O)*Z,H=_-(_-U)*Z,Y=T-(T-C)*Z;const ye=Math.round(Math.min(R,I)),Ee=Math.round(Math.max(R,I));let ie=d*z+ye*4;for(let V=ye;V<=Ee;V++)Z=(R-V)/(R-I),Z<0?Z=0:Z>1&&(Z=1),h[ie++]=M-(M-B)*Z|0,h[ie++]=G-(G-H)*Z|0,h[ie++]=k-(k-Y)*Z|0,h[ie++]=255}}function Ab(a,t,e){const r=t.coords,i=t.colors;let s,n;switch(t.type){case"lattice":const u=t.verticesPerRow,l=Math.floor(r.length/u)-1,c=u-1;for(s=0;s<l;s++){let h=s*u;for(let d=0;d<c;d++,h++)D0(a,e,r[h],r[h+1],r[h+u],i[h],i[h+1],i[h+u]),D0(a,e,r[h+u+1],r[h+1],r[h+u],i[h+u+1],i[h+1],i[h+u])}break;case"triangles":for(s=0,n=r.length;s<n;s+=3)D0(a,e,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class vb extends h2{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,r){const u=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-u,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),p=c/d,m=h/f,v={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-l,scaleX:1/p,scaleY:1/m},E=d+2*2,y=f+2*2,D=r.getCanvas("mesh",E,y),w=D.context,_=w.createImageData(d,f);if(e){const x=_.data;for(let L=0,S=x.length;L<S;L+=4)x[L]=e[0],x[L+1]=e[1],x[L+2]=e[2],x[L+3]=255}for(const x of this._figures)Ab(_,x,v);return w.putImageData(_,2,2),{canvas:D.canvas,offsetX:u-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(t,e,r,i){nf(t,this._bbox);let s;if(i===Qe.SHADING)s=q.singularValueDecompose2dScale(ge(t));else if(s=q.singularValueDecompose2dScale(e.baseTransform),this.matrix){const u=q.singularValueDecompose2dScale(this.matrix);s=[s[0]*u[0],s[1]*u[1]]}const n=this._createMeshCanvas(s,i===Qe.SHADING?null:this._background,e.cachedCanvases);return i!==Qe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(n.offsetX,n.offsetY),t.scale(n.scaleX,n.scaleY),t.createPattern(n.canvas,"no-repeat")}}class yb extends h2{getPattern(){return"hotpink"}}function Eb(a){switch(a[0]){case"RadialAxial":return new bb(a);case"Mesh":return new vb(a);case"Dummy":return new yb}throw new Error(`Unknown IR type: ${a[0]}`)}const U2={COLORED:1,UNCOLORED:2},qh=class qh{constructor(t,e,r,i,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:r,paintType:i,tilingType:s,color:n,canvasGraphicsFactory:u}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Wd("TilingType: "+s);const h=e[0],d=e[1],f=e[2],p=e[3],m=f-h,v=p-d,E=q.singularValueDecompose2dScale(this.matrix),y=q.singularValueDecompose2dScale(this.baseTransform),D=E[0]*y[0],w=E[1]*y[1];let _=m,T=v,x=!1,L=!1;const S=Math.ceil(l*D),O=Math.ceil(c*w),U=Math.ceil(m*D),C=Math.ceil(v*w);S>=U?_=l:x=!0,O>=C?T=c:L=!0;const F=this.getSizeAndScale(_,this.ctx.canvas.width,D),N=this.getSizeAndScale(T,this.ctx.canvas.height,w),R=t.cachedCanvases.getCanvas("pattern",F.size,N.size),M=R.context,G=u.createCanvasGraphics(M);if(G.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(G,i,n),M.translate(-F.scale*h,-N.scale*d),G.transform(F.scale,0,0,N.scale,0,0),M.save(),this.clipBbox(G,h,d,f,p),G.baseTransform=ge(G.ctx),G.executeOperatorList(r),G.endDrawing(),M.restore(),x||L){const k=R.canvas;x&&(_=l),L&&(T=c);const I=this.getSizeAndScale(_,this.ctx.canvas.width,D),B=this.getSizeAndScale(T,this.ctx.canvas.height,w),H=I.size,Y=B.size,z=t.cachedCanvases.getCanvas("pattern-workaround",H,Y),Z=z.context,ye=x?Math.floor(m/l):0,Ee=L?Math.floor(v/c):0;for(let ie=0;ie<=ye;ie++)for(let V=0;V<=Ee;V++)Z.drawImage(k,H*ie,Y*V,H,Y,0,0,H,Y);return{canvas:z.canvas,scaleX:I.scale,scaleY:B.scale,offsetX:h,offsetY:d}}return{canvas:R.canvas,scaleX:F.scale,scaleY:N.scale,offsetX:h,offsetY:d}}getSizeAndScale(t,e,r){const i=Math.max(qh.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*r);return s>=i?s=i:r=s/t,{scale:r,size:s}}clipBbox(t,e,r,i,s){const n=i-e,u=s-r;t.ctx.rect(e,r,n,u),t.current.updateRectMinMax(ge(t.ctx),[e,r,i,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,r){const i=t.ctx,s=t.current;switch(e){case U2.COLORED:const n=this.ctx;i.fillStyle=n.fillStyle,i.strokeStyle=n.strokeStyle,s.fillColor=n.fillStyle,s.strokeColor=n.strokeStyle;break;case U2.UNCOLORED:const u=q.makeHexColor(r[0],r[1],r[2]);i.fillStyle=u,i.strokeStyle=u,s.fillColor=u,s.strokeColor=u;break;default:throw new $m(`Unsupported paint type: ${e}`)}}getPattern(t,e,r,i){let s=r;i!==Qe.SHADING&&(s=q.transform(s,e.baseTransform),this.matrix&&(s=q.transform(s,this.matrix)));const n=this.createPatternCanvas(e);let u=new DOMMatrix(s);u=u.translate(n.offsetX,n.offsetY),u=u.scale(1/n.scaleX,1/n.scaleY);const l=t.createPattern(n.canvas,"repeat");return l.setTransform(u),l}};$(qh,"MAX_PATTERN_SIZE",3e3);let uf=qh;function Db({src:a,srcPos:t=0,dest:e,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:n=!1}){const u=lt.isLittleEndian?4278190080:255,[l,c]=n?[s,u]:[u,s],h=r>>3,d=r&7,f=a.length;e=new Uint32Array(e.buffer);let p=0;for(let m=0;m<i;m++){for(const E=t+h;t<E;t++){const y=t<f?a[t]:255;e[p++]=y&128?c:l,e[p++]=y&64?c:l,e[p++]=y&32?c:l,e[p++]=y&16?c:l,e[p++]=y&8?c:l,e[p++]=y&4?c:l,e[p++]=y&2?c:l,e[p++]=y&1?c:l}if(d===0)continue;const v=t<f?a[t++]:255;for(let E=0;E<d;E++)e[p++]=v&1<<7-E?c:l}return{srcPos:t,destPos:p}}const V2=16,G2=100,wb=15,z2=10,$2=1e3,nt=16;function _b(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(r,i){t.translate(r,i),this.__originalTranslate(r,i)},a.scale=function(r,i){t.scale(r,i),this.__originalScale(r,i)},a.transform=function(r,i,s,n,u,l){t.transform(r,i,s,n,u,l),this.__originalTransform(r,i,s,n,u,l)},a.setTransform=function(r,i,s,n,u,l){t.setTransform(r,i,s,n,u,l),this.__originalSetTransform(r,i,s,n,u,l)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(r){t.rotate(r),this.__originalRotate(r)},a.clip=function(r){t.clip(r),this.__originalClip(r)},a.moveTo=function(e,r){t.moveTo(e,r),this.__originalMoveTo(e,r)},a.lineTo=function(e,r){t.lineTo(e,r),this.__originalLineTo(e,r)},a.bezierCurveTo=function(e,r,i,s,n,u){t.bezierCurveTo(e,r,i,s,n,u),this.__originalBezierCurveTo(e,r,i,s,n,u)},a.rect=function(e,r,i,s){t.rect(e,r,i,s),this.__originalRect(e,r,i,s)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class xb{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,r){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,r)):(i=this.canvasFactory.create(e,r),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function pc(a,t,e,r,i,s,n,u,l,c){const[h,d,f,p,m,v]=ge(a);if(d===0&&f===0){const D=n*h+m,w=Math.round(D),_=u*p+v,T=Math.round(_),x=(n+l)*h+m,L=Math.abs(Math.round(x)-w)||1,S=(u+c)*p+v,O=Math.abs(Math.round(S)-T)||1;return a.setTransform(Math.sign(h),0,0,Math.sign(p),w,T),a.drawImage(t,e,r,i,s,0,0,L,O),a.setTransform(h,d,f,p,m,v),[L,O]}if(h===0&&p===0){const D=u*f+m,w=Math.round(D),_=n*d+v,T=Math.round(_),x=(u+c)*f+m,L=Math.abs(Math.round(x)-w)||1,S=(n+l)*d+v,O=Math.abs(Math.round(S)-T)||1;return a.setTransform(0,Math.sign(d),Math.sign(f),0,w,T),a.drawImage(t,e,r,i,s,0,0,O,L),a.setTransform(h,d,f,p,m,v),[O,L]}a.drawImage(t,e,r,i,s,n,u,l,c);const E=Math.hypot(h,d),y=Math.hypot(f,p);return[E*l,y*c]}function Cb(a){const{width:t,height:e}=a;if(t>$2||e>$2)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let n=new Uint8Array(s*(e+1)),u,l,c;const h=t+7&-8;let d=new Uint8Array(h*e),f=0;for(const y of a.data){let D=128;for(;D>0;)d[f++]=y&D?0:255,D>>=1}let p=0;for(f=0,d[f]!==0&&(n[0]=1,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(n[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(n[l]=2,++p),u=1;u<e;u++){f=u*h,c=u*s,d[f-h]!==d[f]&&(n[c]=d[f]?1:8,++p);let y=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<t;l++)y=(y>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),i[y]&&(n[c+l]=i[y],++p),f++;if(d[f-h]!==d[f]&&(n[c+l]=d[f]?2:4,++p),p>r)return null}for(f=h*(e-1),c=u*s,d[f]!==0&&(n[c]=8,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(n[c+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(n[c+l]=4,++p),p>r)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(u=0;p&&u<=e;u++){let y=u*s;const D=y+t;for(;y<D&&!n[y];)y++;if(y===D)continue;v.moveTo(y%s,u);const w=y;let _=n[y];do{const T=m[_];do y+=T;while(!n[y]);const x=n[y];x!==5&&x!==10?(_=x,n[y]=0):(_=x&51*_>>4,n[y]&=_>>2|_<<2),v.lineTo(y%s,y/s|0),n[y]||--p}while(w!==y);--u}return d=null,n=null,function(y){y.save(),y.scale(1/t,-1/e),y.translate(0,-e),y.fill(v),y.beginPath(),y.restore()}}class W2{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=yp,this.textMatrixScale=1,this.fontMatrix=F0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ve.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,r){[e,r]=q.applyTransform([e,r],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(t,e){const r=q.applyTransform(e,t),i=q.applyTransform(e.slice(2),t),s=q.applyTransform([e[0],e[3]],t),n=q.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,r[0],i[0],s[0],n[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],n[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],n[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],n[1])}updateScalingPathMinMax(t,e){q.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,r,i,s,n,u,l,c,h){const d=q.bezierBoundingBox(e,r,i,s,n,u,l,c,h);h||this.updateRectMinMax(t,d)}getPathBoundingBox(t=Qe.FILL,e=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(t===Qe.STROKE){e||_e("Stroke bounding box must include transform.");const i=q.singularValueDecompose2dScale(e),s=i[0]*this.lineWidth/2,n=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=n,r[2]+=s,r[3]+=n}return r}updateClipFromPath(){const t=q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Qe.FILL,e=null){return q.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function X2(a,t){if(typeof ImageData<"u"&&t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,r=t.width,i=e%nt,s=(e-i)/nt,n=i===0?s:s+1,u=a.createImageData(r,nt);let l=0,c;const h=t.data,d=u.data;let f,p,m,v;if(t.kind===Ec.GRAYSCALE_1BPP){const E=h.byteLength,y=new Uint32Array(d.buffer,0,d.byteLength>>2),D=y.length,w=r+7>>3,_=4294967295,T=lt.isLittleEndian?4278190080:255;for(f=0;f<n;f++){for(m=f<s?nt:i,c=0,p=0;p<m;p++){const x=E-l;let L=0;const S=x>w?r:x*8-7,O=S&-8;let U=0,C=0;for(;L<O;L+=8)C=h[l++],y[c++]=C&128?_:T,y[c++]=C&64?_:T,y[c++]=C&32?_:T,y[c++]=C&16?_:T,y[c++]=C&8?_:T,y[c++]=C&4?_:T,y[c++]=C&2?_:T,y[c++]=C&1?_:T;for(;L<S;L++)U===0&&(C=h[l++],U=128),y[c++]=C&U?_:T,U>>=1}for(;c<D;)y[c++]=0;a.putImageData(u,0,f*nt)}}else if(t.kind===Ec.RGBA_32BPP){for(p=0,v=r*nt*4,f=0;f<s;f++)d.set(h.subarray(l,l+v)),l+=v,a.putImageData(u,0,p),p+=nt;f<n&&(v=r*i*4,d.set(h.subarray(l,l+v)),a.putImageData(u,0,p))}else if(t.kind===Ec.RGB_24BPP)for(m=nt,v=r*m,f=0;f<n;f++){for(f>=s&&(m=i,v=r*m),c=0,p=v;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;a.putImageData(u,0,f*nt)}else throw new Error(`bad image kind: ${t.kind}`)}function Y2(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,r=t.width,i=e%nt,s=(e-i)/nt,n=i===0?s:s+1,u=a.createImageData(r,nt);let l=0;const c=t.data,h=u.data;for(let d=0;d<n;d++){const f=d<s?nt:i;({srcPos:l}=Db({src:c,srcPos:l,dest:h,width:r,height:f,nonBlackColor:0})),a.putImageData(u,0,d*nt)}}function _u(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of e)a[r]!==void 0&&(t[r]=a[r]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function gc(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!Ke){const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}}function K2(a,t){if(t)return!0;const e=q.singularValueDecompose2dScale(a);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Yi.PDF_TO_CSS_UNITS);return e[0]<=r&&e[1]<=r}const Tb=["butt","round","square"],Sb=["miter","round","bevel"],Lb={},J2={};var Bo,of,Io,lf;const F2=class F2{constructor(t,e,r,i,s,{optionalContentConfig:n,markedContentStack:u=null},l,c){g(this,Bo);g(this,Io);this.ctx=t,this.current=new W2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=n,this.cachedCanvases=new xb(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,n=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,n),this.ctx.fillStyle=u,r){const l=this.cachedCanvases.getCanvas("transparent",s,n);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...ge(this.compositeCtx))}this.ctx.save(),gc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ge(this.ctx)}executeOperatorList(t,e,r,i){const s=t.argsArray,n=t.fnArray;let u=e||0;const l=s.length;if(l===u)return u;const c=l-u>z2&&typeof r=="function",h=c?Date.now()+wb:0;let d=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,r),u;if(m=n[u],m!==Mt.dependency)this[m].apply(this,s[u]);else for(const v of s[u]){const E=v.startsWith("g_")?f:p;if(!E.has(v))return E.get(v,r),u}if(u++,u===l)return u;if(c&&++d>z2){if(Date.now()>h)return r(),u;d=0}}}endDrawing(){A(this,Bo,of).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),A(this,Io,lf).call(this)}_scaleImage(t,e){const r=t.width,i=t.height;let s=Math.max(Math.hypot(e[0],e[1]),1),n=Math.max(Math.hypot(e[2],e[3]),1),u=r,l=i,c="prescale1",h,d;for(;s>2&&u>1||n>2&&l>1;){let f=u,p=l;s>2&&u>1&&(f=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),s/=u/f),n>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,n/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,u,l,0,0,f,p),t=h.canvas,u=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:r,height:i}=t,s=this.current.fillColor,n=this.current.patternFill,u=ge(e);let l,c,h,d;if((t.bitmap||t.data)&&t.count>1){const S=t.bitmap||t.data.buffer;c=JSON.stringify(n?u:[u.slice(0,4),s]),l=this._cachedBitmapsMap.get(S),l||(l=new Map,this._cachedBitmapsMap.set(S,l));const O=l.get(c);if(O&&!n){const U=Math.round(Math.min(u[0],u[2])+u[4]),C=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:O,offsetX:U,offsetY:C}}h=O}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),Y2(d.context,t));let f=q.transform(u,[1/r,0,0,-1/i,0,0]);f=q.transform(f,[1,0,0,1,0,-i]);const[p,m,v,E]=q.getAxialAlignedBoundingBox([0,0,r,i],f),y=Math.round(v-p)||1,D=Math.round(E-m)||1,w=this.cachedCanvases.getCanvas("fillCanvas",y,D),_=w.context,T=p,x=m;_.translate(-T,-x),_.transform(...f),h||(h=this._scaleImage(d.canvas,Er(_)),h=h.img,l&&n&&l.set(c,h)),_.imageSmoothingEnabled=K2(ge(_),t.interpolate),pc(_,h,0,0,h.width,h.height,0,0,r,i),_.globalCompositeOperation="source-in";const L=q.transform(Er(_),[1,0,0,1,-T,-x]);return _.fillStyle=n?s.getPattern(e,this,L,Qe.FILL):s,_.fillRect(0,0,r,i),l&&!n&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(T),offsetY:Math.round(x)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Tb[t]}setLineJoin(t){this.ctx.lineJoin=Sb[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,r]of t)switch(e){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...ge(this.suspendedCtx)),_u(this.suspendedCtx,s),_b(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,r,i){const s=i[0],n=i[1],u=i[2]-s,l=i[3]-n;u===0||l===0||(this.genericComposeSMask(e.context,r,u,l,e.subtype,e.backdrop,e.transferMap,s,n,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(r.canvas,0,0),t.restore())}genericComposeSMask(t,e,r,i,s,n,u,l,c,h,d){let f=t.canvas,p=l-h,m=c-d;if(n){if(p<0||m<0||p+r>f.width||m+i>f.height){const E=this.cachedCanvases.getCanvas("maskExtension",r,i),y=E.context;y.drawImage(f,-p,-m),n.some(D=>D!==0)&&(y.globalCompositeOperation="destination-atop",y.fillStyle=q.makeHexColor(...n),y.fillRect(0,0,r,i),y.globalCompositeOperation="source-over"),f=E.canvas,p=m=0}else if(n.some(E=>E!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(p,m,r,i),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=q.makeHexColor(...n),t.fillRect(p,m,r,i),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const v=new Path2D;v.rect(l,c,r,i),e.clip(v),e.globalCompositeOperation="destination-in",e.drawImage(f,p,m,r,i,l,c,r,i),e.restore()}save(){this.inSMaskMode?(_u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,r,i,s,n){this.ctx.transform(t,e,r,i,s,n),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,r){const i=this.ctx,s=this.current;let n=s.x,u=s.y,l,c;const h=ge(i),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?r.slice(0):null;for(let p=0,m=0,v=t.length;p<v;p++)switch(t[p]|0){case Mt.rectangle:n=e[m++],u=e[m++];const E=e[m++],y=e[m++],D=n+E,w=u+y;i.moveTo(n,u),E===0||y===0?i.lineTo(D,w):(i.lineTo(D,u),i.lineTo(D,w),i.lineTo(n,w)),d||s.updateRectMinMax(h,[n,u,D,w]),i.closePath();break;case Mt.moveTo:n=e[m++],u=e[m++],i.moveTo(n,u),d||s.updatePathMinMax(h,n,u);break;case Mt.lineTo:n=e[m++],u=e[m++],i.lineTo(n,u),d||s.updatePathMinMax(h,n,u);break;case Mt.curveTo:l=n,c=u,n=e[m+4],u=e[m+5],i.bezierCurveTo(e[m],e[m+1],e[m+2],e[m+3],n,u),s.updateCurvePathMinMax(h,l,c,e[m],e[m+1],e[m+2],e[m+3],n,u,f),m+=6;break;case Mt.curveTo2:l=n,c=u,i.bezierCurveTo(n,u,e[m],e[m+1],e[m+2],e[m+3]),s.updateCurvePathMinMax(h,l,c,n,u,e[m],e[m+1],e[m+2],e[m+3],f),n=e[m+2],u=e[m+3],m+=4;break;case Mt.curveTo3:l=n,c=u,n=e[m+2],u=e[m+3],i.bezierCurveTo(e[m],e[m+1],n,u,n,u),s.updateCurvePathMinMax(h,l,c,e[m],e[m+1],n,u,n,u,f),m+=4;break;case Mt.closePath:i.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(n,u)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,r=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(e.save(),e.strokeStyle=r.getPattern(e,this,Er(e),Qe.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(e.save(),e.fillStyle=r.getPattern(e,this,Er(e),Qe.FILL),s=!0);const n=this.current.getClippedPathBoundingBox();this.contentVisible&&n!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),t&&this.consumePath(n)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Lb}eoClip(){this.pendingClip=J2}beginText(){this.current.textMatrix=yp,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const r of t)e.setTransform(...r.transform),e.translate(r.x,r.y),r.addToPath(e,r.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var h;const r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=r.fontMatrix||F0,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&J("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;const s=r.loadedName||"sans-serif",n=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const l=r.italic?"italic":"normal";let c=e;e<V2?c=V2:e>G2&&(c=G2),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${u} ${c}px ${n}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,r,i,s,n){this.current.textMatrix=[t,e,r,i,s,n],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,r,i){const s=this.ctx,n=this.current,u=n.font,l=n.textRenderingMode,c=n.fontSize/n.fontSizeScale,h=l&Ve.FILL_STROKE_MASK,d=!!(l&Ve.ADD_TO_PATH_FLAG),f=n.patternFill&&!u.missingFile;let p;(u.disableFontFace||d||f)&&(p=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||f?(s.save(),s.translate(e,r),s.beginPath(),p(s,c),i&&s.setTransform(...i),(h===Ve.FILL||h===Ve.FILL_STROKE)&&s.fill(),(h===Ve.STROKE||h===Ve.FILL_STROKE)&&s.stroke(),s.restore()):((h===Ve.FILL||h===Ve.FILL_STROKE)&&s.fillText(t,e,r),(h===Ve.STROKE||h===Ve.FILL_STROKE)&&s.strokeText(t,e,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ge(s),x:e,y:r,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){r=!0;break}return re(this,"isFontSubpixelAAEnabled",r)}showText(t){const e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(i===0)return;const s=this.ctx,n=e.fontSizeScale,u=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,d=t.length,f=r.vertical,p=f?1:-1,m=r.defaultVMetrics,v=i*e.fontMatrix[0],E=e.textRenderingMode===Ve.FILL&&!r.disableFontFace&&!e.patternFill;s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),c>0?s.scale(h,-1):s.scale(h,1);let y;if(e.patternFill){s.save();const x=e.fillColor.getPattern(s,this,Er(s),Qe.FILL);y=ge(s),s.restore(),s.fillStyle=x}let D=e.lineWidth;const w=e.textMatrixScale;if(w===0||D===0){const x=e.textRenderingMode&Ve.FILL_STROKE_MASK;(x===Ve.STROKE||x===Ve.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=w;if(n!==1&&(s.scale(n,n),D/=n),s.lineWidth=D,r.isInvalidPDFjsFont){const x=[];let L=0;for(const S of t)x.push(S.unicode),L+=S.width;s.fillText(x.join(""),0,0),e.x+=L*v*h,s.restore(),this.compose();return}let _=0,T;for(T=0;T<d;++T){const x=t[T];if(typeof x=="number"){_+=p*x*i/1e3;continue}let L=!1;const S=(x.isSpace?l:0)+u,O=x.fontChar,U=x.accent;let C,F,N=x.width;if(f){const M=x.vmetric||m,G=-(x.vmetric?M[1]:N*.5)*v,k=M[2]*v;N=M?-M[0]:N,C=G/n,F=(_+k)/n}else C=_/n,F=0;if(r.remeasure&&N>0){const M=s.measureText(O).width*1e3/i*n;if(N<M&&this.isFontSubpixelAAEnabled){const G=N/M;L=!0,s.save(),s.scale(G,1),C/=G}else N!==M&&(C+=(N-M)/2e3*i/n)}if(this.contentVisible&&(x.isInFont||r.missingFile)){if(E&&!U)s.fillText(O,C,F);else if(this.paintChar(O,C,F,y),U){const M=C+i*U.offset.x/n,G=F-i*U.offset.y/n;this.paintChar(U.fontChar,M,G,y)}}const R=f?N*v-S*c:N*v+S*c;_+=R,L&&s.restore()}f?e.y-=_:e.x+=_*h,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,r=this.current,i=r.font,s=r.fontSize,n=r.fontDirection,u=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*n,d=r.fontMatrix||F0,f=t.length,p=r.textRenderingMode===Ve.INVISIBLE;let m,v,E,y;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...r.textMatrix),e.translate(r.x,r.y),e.scale(h,n),m=0;m<f;++m){if(v=t[m],typeof v=="number"){y=u*v*s/1e3,this.ctx.translate(y,0),r.x+=y*h;continue}const D=(v.isSpace?c:0)+l,w=i.charProcOperatorList[v.operatorListId];if(!w){J(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),e.scale(s,s),e.transform(...d),this.executeOperatorList(w),this.restore()),E=q.applyTransform([v.width,0],d)[0]*s+D,e.translate(E,0),r.x+=E*h}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,r,i,s,n){this.ctx.rect(r,i,s-r,n-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const r=t[1],i=this.baseTransform||ge(this.ctx),s={createCanvasGraphics:n=>new F2(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new uf(t,r,this.ctx,s,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,r){this.ctx.strokeStyle=this.current.strokeColor=q.makeHexColor(t,e,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,r){this.ctx.fillStyle=this.current.fillColor=q.makeHexColor(t,e,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=Eb(this.getObject(t)),this.cachedPatterns.set(t,r)),e&&(r.matrix=e),r}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const r=this._getPattern(t);e.fillStyle=r.getPattern(e,this,Er(e),Qe.SHADING);const i=Er(e);if(i){const{width:s,height:n}=e.canvas,[u,l,c,h]=q.getAxialAlignedBoundingBox([0,0,s,n],i);this.ctx.fillRect(u,l,c-u,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){_e("Should not call beginInlineImage")}beginImageData(){_e("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ge(this.ctx),e)){const r=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],r,i),this.current.updateRectMinMax(ge(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Wd("TODO: Support non-isolated groups."),t.knockout&&J("Knockout groups not supported.");const r=ge(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=q.getAxialAlignedBoundingBox(t.bbox,ge(e));const s=[0,0,e.canvas.width,e.canvas.height];i=q.intersect(i,s)||[0,0,0,0];const n=Math.floor(i[0]),u=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-n,1),c=Math.max(Math.ceil(i[3])-u,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-n,-u),f.transform(...r),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:n,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(n,u),e.save()),_u(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=ge(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=q.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],i);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,r,i,s){if(A(this,Bo,of).call(this),gc(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const n=e[2]-e[0],u=e[3]-e[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=e[0],r[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=n,e[3]=u;const[l,c]=q.singularValueDecompose2dScale(ge(this.ctx)),{viewportScale:h}=this,d=Math.ceil(n*this.outputScaleX*h),f=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,u*c),gc(this.ctx)}else gc(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],n,u),this.ctx.clip(),this.ctx.beginPath()}this.current=new W2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,Io,lf).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Cb(t)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(t),n=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(n,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,r=0,i=0,s,n){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const l=ge(u);u.transform(e,r,i,s,0,0);const c=this._createMaskCanvas(t);u.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=n.length;h<d;h+=2){const f=q.transform(l,[e,r,i,s,n[h],n[h+1]]),[p,m]=q.applyTransform([0,0],f);u.drawImage(c.canvas,p,m)}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of t){const{data:n,width:u,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",u,l),d=h.context;d.save();const f=this.getObject(n,s);Y2(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,Er(e),Qe.FILL):r,d.fillRect(0,0,u,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),pc(e,h.canvas,0,0,u,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){J("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,r,i){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){J("Dependent image isn't ready yet");return}const n=s.width,u=s.height,l=[];for(let c=0,h=i.length;c<h;c+=2)l.push({transform:[e,0,0,r,i[c],i[c+1]],x:0,y:0,w:n,h:u});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:r,height:i}=t,s=this.cachedCanvases.getCanvas("inlineImage",r,i),n=s.context;return n.filter=this.current.transferMaps,n.drawImage(e,0,0),n.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,r=t.height,i=this.ctx;if(this.save(),!Ke){const{filter:u}=i;u!=="none"&&u!==""&&(i.filter="none")}i.scale(1/e,-1/r);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,r).context;X2(l,t),s=this.applyTransferMapsToCanvas(l)}const n=this._scaleImage(s,Er(i));i.imageSmoothingEnabled=K2(ge(i),t.interpolate),pc(i,n.img,0,0,n.paintWidth,n.paintHeight,0,-r,e,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const r=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const s=t.width,n=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,n).context;X2(l,t),i=this.applyTransferMapsToCanvas(l)}for(const s of e)r.save(),r.transform(...s.transform),r.scale(1,-1),pc(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(e||(this.pendingClip===J2?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ge(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:r,c:i,d:s}=this.ctx.getTransform();let n,u;if(r===0&&i===0){const l=Math.abs(e),c=Math.abs(s);if(l===c)if(t===0)n=u=1/l;else{const h=l*t;n=u=h<1?1/h:1}else if(t===0)n=1/l,u=1/c;else{const h=l*t,d=c*t;n=h<1?1/h:1,u=d<1?1/d:1}}else{const l=Math.abs(e*s-r*i),c=Math.hypot(e,r),h=Math.hypot(i,s);if(t===0)n=h/l,u=c/l;else{const d=t*l;n=h>d?h/d:1,u=c>d?c/d:1}}this._cachedScaleForStroking[0]=n,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(e.lineWidth=r||1,i===1&&s===1){e.stroke();return}const n=e.getLineDash();if(t&&e.save(),e.scale(i,s),n.length>0){const u=Math.max(i,s);e.setLineDash(n.map(l=>l/u)),e.lineDashOffset/=u}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Bo=new WeakSet,of=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Io=new WeakSet,lf=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Ga=F2;for(const a in Mt)Ga.prototype[a]!==void 0&&(Ga.prototype[Mt[a]]=Ga.prototype[a]);var Oo,qo;class ri{static get workerPort(){return o(this,Oo)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");b(this,Oo,t)}static get workerSrc(){return o(this,qo)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");b(this,qo,t)}}Oo=new WeakMap,qo=new WeakMap,g(ri,Oo,null),g(ri,qo,"");const mc={UNKNOWN:0,DATA:1,ERROR:2},De={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dt(a){switch(a instanceof Error||typeof a=="object"&&a!==null||_e('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new _a(a.message);case"MissingPDFException":return new wa(a.message);case"PasswordException":return new k0(a.message,a.code);case"UnexpectedResponseException":return new Xd(a.message,a.status);case"UnknownErrorException":return new P0(a.message,a.details);default:return new P0(a.message,a.toString())}}var Hh,ag,jh,ng,pn,Nc;class Iu{constructor(t,e,r){g(this,Hh);g(this,jh);g(this,pn);this.sourceName=t,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){A(this,jh,ng).call(this,s);return}if(s.callback){const u=s.callbackId,l=this.callbackCapabilities[u];if(!l)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],s.callback===mc.DATA)l.resolve(s.data);else if(s.callback===mc.ERROR)l.reject(dt(s.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[s.action];if(!n)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const u=this.sourceName,l=s.sourceName;new Promise(function(c){c(n(s.data))}).then(function(c){r.postMessage({sourceName:u,targetName:l,callback:mc.DATA,callbackId:s.callbackId,data:c})},function(c){r.postMessage({sourceName:u,targetName:l,callback:mc.ERROR,callbackId:s.callbackId,reason:dt(c)})});return}if(s.streamId){A(this,Hh,ag).call(this,s);return}n(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(t,e){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=e}send(t,e,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}sendWithPromise(t,e,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},r)}catch(n){s.reject(n)}return s.promise}sendWithStream(t,e,r,i){const s=this.streamId++,n=this.sourceName,u=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:n,targetName:u,action:t,streamId:s,data:e,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:n,targetName:u,stream:De.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{Le(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:n,targetName:u,stream:De.CANCEL,streamId:s,reason:dt(c)}),h.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Hh=new WeakSet,ag=function(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,s=this.comObj,n=this,u=this.actionHandler[t.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:De.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:De.CLOSE,streamId:e}),delete n.streamSinks[e])},error(c){Le(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:De.ERROR,streamId:e,reason:dt(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(c){c(u(t.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:De.START_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:De.START_COMPLETE,streamId:e,reason:dt(c)})})},jh=new WeakSet,ng=function(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,s=this.comObj,n=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case De.START_COMPLETE:t.success?n.startCall.resolve():n.startCall.reject(dt(t.reason));break;case De.PULL_COMPLETE:t.success?n.pullCall.resolve():n.pullCall.reject(dt(t.reason));break;case De.PULL:if(!u){s.postMessage({sourceName:r,targetName:i,stream:De.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,new Promise(function(l){var c;l((c=u.onPull)==null?void 0:c.call(u))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:De.PULL_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:De.PULL_COMPLETE,streamId:e,reason:dt(l)})});break;case De.ENQUEUE:if(Le(n,"enqueue should have stream controller"),n.isClosed)break;n.controller.enqueue(t.chunk);break;case De.CLOSE:if(Le(n,"close should have stream controller"),n.isClosed)break;n.isClosed=!0,n.controller.close(),A(this,pn,Nc).call(this,n,e);break;case De.ERROR:Le(n,"error should have stream controller"),n.controller.error(dt(t.reason)),A(this,pn,Nc).call(this,n,e);break;case De.CANCEL_COMPLETE:t.success?n.cancelCall.resolve():n.cancelCall.reject(dt(t.reason)),A(this,pn,Nc).call(this,n,e);break;case De.CANCEL:if(!u)break;new Promise(function(l){var c;l((c=u.onCancel)==null?void 0:c.call(u,dt(t.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:De.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:De.CANCEL_COMPLETE,streamId:e,reason:dt(l)})}),u.sinkCapability.reject(dt(t.reason)),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},pn=new WeakSet,Nc=async function(t,e){var r,i,s;await Promise.allSettled([(r=t.startCall)==null?void 0:r.promise,(i=t.pullCall)==null?void 0:i.promise,(s=t.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[e]};var Ms,Ho;class Nb{constructor({parsedData:t,rawData:e}){g(this,Ms,void 0);g(this,Ho,void 0);b(this,Ms,t),b(this,Ho,e)}getRaw(){return o(this,Ho)}get(t){return o(this,Ms).get(t)??null}getAll(){return s2(o(this,Ms))}has(t){return o(this,Ms).has(t)}}Ms=new WeakMap,Ho=new WeakMap;const li=Symbol("INTERNAL");var jo,Uo,Vo,gn;class Fb{constructor(t,{name:e,intent:r,usage:i}){g(this,jo,!1);g(this,Uo,!1);g(this,Vo,!1);g(this,gn,!0);b(this,jo,!!(t&yt.DISPLAY)),b(this,Uo,!!(t&yt.PRINT)),this.name=e,this.intent=r,this.usage=i}get visible(){if(o(this,Vo))return o(this,gn);if(!o(this,gn))return!1;const{print:t,view:e}=this.usage;return o(this,jo)?(e==null?void 0:e.viewState)!=="OFF":o(this,Uo)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,r=!1){t!==li&&_e("Internal method `_setVisible` called."),b(this,Vo,r),b(this,gn,e)}}jo=new WeakMap,Uo=new WeakMap,Vo=new WeakMap,gn=new WeakMap;var Ti,oe,mn,bn,Go,cf;class Rb{constructor(t,e=yt.DISPLAY){g(this,Go);g(this,Ti,null);g(this,oe,new Map);g(this,mn,null);g(this,bn,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,b(this,bn,t.order);for(const r of t.groups)o(this,oe).set(r.id,new Fb(e,r));if(t.baseState==="OFF")for(const r of o(this,oe).values())r._setVisible(li,!1);for(const r of t.on)o(this,oe).get(r)._setVisible(li,!0);for(const r of t.off)o(this,oe).get(r)._setVisible(li,!1);b(this,mn,this.getHash())}}isVisible(t){if(o(this,oe).size===0)return!0;if(!t)return Wd("Optional content group not defined."),!0;if(t.type==="OCG")return o(this,oe).has(t.id)?o(this,oe).get(t.id).visible:(J(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return A(this,Go,cf).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!o(this,oe).has(e))return J(`Optional content group not found: ${e}`),!0;if(o(this,oe).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!o(this,oe).has(e))return J(`Optional content group not found: ${e}`),!0;if(!o(this,oe).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!o(this,oe).has(e))return J(`Optional content group not found: ${e}`),!0;if(!o(this,oe).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!o(this,oe).has(e))return J(`Optional content group not found: ${e}`),!0;if(o(this,oe).get(e).visible)return!1}return!0}return J(`Unknown optional content policy ${t.policy}.`),!0}return J(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const r=o(this,oe).get(t);if(!r){J(`Optional content group not found: ${t}`);return}r._setVisible(li,!!e,!0),b(this,Ti,null)}setOCGState({state:t,preserveRB:e}){let r;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=o(this,oe).get(i);if(s)switch(r){case"ON":s._setVisible(li,!0);break;case"OFF":s._setVisible(li,!1);break;case"Toggle":s._setVisible(li,!s.visible);break}}b(this,Ti,null)}get hasInitialVisibility(){return o(this,mn)===null||this.getHash()===o(this,mn)}getOrder(){return o(this,oe).size?o(this,bn)?o(this,bn).slice():[...o(this,oe).keys()]:null}getGroups(){return o(this,oe).size>0?s2(o(this,oe)):null}getGroup(t){return o(this,oe).get(t)||null}getHash(){if(o(this,Ti)!==null)return o(this,Ti);const t=new tg;for(const[e,r]of o(this,oe))t.update(`${e}:${r.visible}`);return b(this,Ti,t.hexdigest())}}Ti=new WeakMap,oe=new WeakMap,mn=new WeakMap,bn=new WeakMap,Go=new WeakSet,cf=function(t){const e=t.length;if(e<2)return!0;const r=t[0];for(let i=1;i<e;i++){const s=t[i];let n;if(Array.isArray(s))n=A(this,Go,cf).call(this,s);else if(o(this,oe).has(s))n=o(this,oe).get(s).visible;else return J(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!n)return!1;break;case"Or":if(n)return!0;break;case"Not":return!n;default:return!0}}return r==="And"};class kb{constructor(t,{disableRange:e=!1,disableStream:r=!1}){Le(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:n,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=n,this._contentDispositionFilename=u,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!r,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const r=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(r),!0)});Le(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,r,i,s;t.total===void 0?(r=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||r.call(e,{loaded:t.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Le(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Pb(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new Mb(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeReaders.slice(0))r.cancel(t);this._pdfDataRangeTransport.abort()}}class Pb{constructor(t,e,r=!1,i=null){this._stream=t,this._done=r||!1,this._filename=o2(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Mb{constructor(t,e,r){this._stream=t,this._begin=e,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Bb(a){let t=!0,e=r("filename\\*","i").exec(a);if(e){e=e[1];let h=u(e);return h=unescape(h),h=l(h),h=c(h),s(h)}if(e=n(a),e){const h=c(e);return s(h)}if(e=r("filename","i").exec(a),e){e=e[1];let h=u(e);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=Yd(d);d=f.decode(p),t=!1}catch{}}return d}function s(h){return t&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),t&&(h=i("iso-8859-1",h))),h}function n(h){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,v,E,y]=f;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[E,y]}const m=[];for(let v=0;v<d.length&&v in d;++v){let[E,y]=d[v];y=u(y),E&&(y=unescape(y),v===0&&(y=l(y))),m.push(y)}return m.join("")}function u(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),m=h.slice(d+1).replace(/^[^']*'/,"");return i(f,m)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,E){return String.fromCharCode(parseInt(E,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function d2(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const r in t){const i=t[r];i!==void 0&&e.append(r,i)}return e}function f2({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(a.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*e)||r||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function p2(a){const t=a.get("Content-Disposition");if(t){let e=Bb(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(o2(e))return e}return null}function Zd(a,t){return a===404||a===0&&t.startsWith("file:")?new wa('Missing PDF "'+t+'".'):new Xd(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a)}function ug(a){return a===200||a===206}function og(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function lg(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(J(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class Z2{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=d2(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Le(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ib(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new Ob(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeRequestReaders.slice(0))r.cancel(t)}}class Ib{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const r=new Headers(t.headers),i=e.url;fetch(i,og(r,this._withCredentials,this._abortController)).then(s=>{if(!ug(s.status))throw Zd(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const n=s.headers,{allowRangeRequests:u,suggestedLength:l}=f2({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=l||this._contentLength,this._filename=p2(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _a("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:lg(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class Ob{constructor(t,e,r){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${r-1}`);const n=i.url;fetch(n,og(s,this._withCredentials,this._abortController)).then(u=>{if(!ug(u.status))throw Zd(u.status,n);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:lg(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const w0=200,_0=206;function qb(a){const t=a.response;return typeof t!="string"?t:Yd(t).buffer}class Hb{constructor({url:t,httpHeaders:e,withCredentials:r}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=d2(this.isHttp,e),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,r){const i={begin:t,end:e};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,n]of this.headers)e.setRequestHeader(s,n);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=_0):i.expectedStatus=w0,e.responseType="arraybuffer",t.onError&&(e.onerror=function(s){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,r),e.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),r}onProgress(t,e){var i;const r=this.pendingRequests[t];r&&((i=r.onProgress)==null||i.call(r,e))}onStateChange(t,e){var l,c,h;const r=this.pendingRequests[t];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||w0;if(!(s===w0&&r.expectedStatus===_0)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const u=qb(i);if(s===_0){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(f[1],10),chunk:u})}else u?r.onDone({begin:0,chunk:u}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class jb{constructor(t){this._source=t,this._manager=new Hb(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Le(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ub(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const r=new Vb(this._manager,t,e);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeRequestReaders.slice(0))r.cancel(t)}}class Ub{constructor(t,e){this._manager=t;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),r=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(n=>{const[u,...l]=n.split(": ");return[u,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:s}=f2({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=p2(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Zd(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Vb{constructor(t,e,r){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Zd(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Gb=/^[a-z][a-z0-9\-+.]+:/i;function zb(a){if(Gb.test(a))return new URL(a);const t=Ki.get("url");return new URL(t.pathToFileURL(a))}function cg(a,t,e){return a.protocol==="http:"?Ki.get("http").request(a,{headers:t},e):Ki.get("https").request(a,{headers:t},e)}class $b{constructor(t){this.source=t,this.url=zb(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=d2(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Le(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Yb(this):new Wb(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=this.isFsUrl?new Kb(this,t,e):new Xb(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeRequestReaders.slice(0))r.cancel(t)}}class hg{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _a("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class dg{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class Wb extends hg{constructor(t){super(t);const e=Object.fromEntries(t.headers),r=i=>{if(i.statusCode===404){const l=new wa(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=new Headers(this._readableStream.headers),{allowRangeRequests:n,suggestedLength:u}=f2({responseHeaders:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=n,this._contentLength=u||this._contentLength,this._filename=p2(s)};this._request=cg(this._url,e,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class Xb extends dg{constructor(t,e,r){super(t);const i=Object.fromEntries(t.headers);i.Range=`bytes=${e}-${r-1}`;const s=n=>{if(n.statusCode===404){const u=new wa(`Missing PDF "${this._url}".`);this._storedError=u;return}this._setReadableStream(n)};this._request=cg(this._url,i,s),this._request.on("error",n=>{this._storedError=n}),this._request.end()}}class Yb extends hg{constructor(t){super(t);const e=Ki.get("fs");e.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new wa(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class Kb extends dg{constructor(t,e,r){super(t);const i=Ki.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:e,end:r-1}))}}const Jb=1e5,tt=30,Zb=.8;var bp,Si,st,zo,$o,Bs,Mr,Wo,Xo,Is,An,vn,Li,yn,Yo,En,Os,Ko,Jo,qs,Hs,Zo,Ni,Dn,Uh,fg,Vh,pg,Qo,hf,wn,Fc,el,df,Gh,gg,zh,mg;const me=class me{constructor({textContentSource:t,container:e,viewport:r}){g(this,Uh);g(this,Vh);g(this,Qo);g(this,Si,Promise.withResolvers());g(this,st,null);g(this,zo,!1);g(this,$o,!!((bp=globalThis.FontInspector)!=null&&bp.enabled));g(this,Bs,null);g(this,Mr,null);g(this,Wo,0);g(this,Xo,0);g(this,Is,null);g(this,An,null);g(this,vn,0);g(this,Li,0);g(this,yn,Object.create(null));g(this,Yo,[]);g(this,En,null);g(this,Os,[]);g(this,Ko,new WeakMap);g(this,Jo,null);var l;if(t instanceof ReadableStream)b(this,En,t);else if(typeof t=="object")b(this,En,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,st,b(this,An,e)),b(this,Li,r.scale*(globalThis.devicePixelRatio||1)),b(this,vn,r.rotation),b(this,Mr,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:n,pageY:u}=r.rawDims;b(this,Jo,[1,0,0,-1,-n,u+s]),b(this,Xo,i),b(this,Wo,s),A(l=me,Gh,gg).call(l),va(e,r),o(this,Si).promise.finally(()=>{o(me,Dn).delete(this),b(this,Mr,null),b(this,yn,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=lt.platform;return re(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{o(this,Is).read().then(({value:e,done:r})=>{if(r){o(this,Si).resolve();return}o(this,Bs)??b(this,Bs,e.lang),Object.assign(o(this,yn),e.styles),A(this,Uh,fg).call(this,e.items),t()},o(this,Si).reject)};return b(this,Is,o(this,En).getReader()),o(me,Dn).add(this),t(),o(this,Si).promise}update({viewport:t,onBefore:e=null}){var s;const r=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==o(this,vn)&&(e==null||e(),b(this,vn,i),va(o(this,An),{rotation:i})),r!==o(this,Li)){e==null||e(),b(this,Li,r);const n={div:null,properties:null,ctx:A(s=me,wn,Fc).call(s,o(this,Bs))};for(const u of o(this,Os))n.properties=o(this,Ko).get(u),n.div=u,A(this,Qo,hf).call(this,n)}}cancel(){var e;const t=new _a("TextLayer task cancelled.");(e=o(this,Is))==null||e.cancel(t).catch(()=>{}),b(this,Is,null),o(this,Si).reject(t)}get textDivs(){return o(this,Os)}get textContentItemsStr(){return o(this,Yo)}static cleanup(){if(!(o(this,Dn).size>0)){o(this,qs).clear();for(const{canvas:t}of o(this,Hs).values())t.remove();o(this,Hs).clear()}}};Si=new WeakMap,st=new WeakMap,zo=new WeakMap,$o=new WeakMap,Bs=new WeakMap,Mr=new WeakMap,Wo=new WeakMap,Xo=new WeakMap,Is=new WeakMap,An=new WeakMap,vn=new WeakMap,Li=new WeakMap,yn=new WeakMap,Yo=new WeakMap,En=new WeakMap,Os=new WeakMap,Ko=new WeakMap,Jo=new WeakMap,qs=new WeakMap,Hs=new WeakMap,Zo=new WeakMap,Ni=new WeakMap,Dn=new WeakMap,Uh=new WeakSet,fg=function(t){var i,s;if(o(this,zo))return;(s=o(this,Mr)).ctx??(s.ctx=A(i=me,wn,Fc).call(i,o(this,Bs)));const e=o(this,Os),r=o(this,Yo);for(const n of t){if(e.length>Jb){J("Ignoring additional textDivs for performance reasons."),b(this,zo,!0);return}if(n.str===void 0){if(n.type==="beginMarkedContentProps"||n.type==="beginMarkedContent"){const u=o(this,st);b(this,st,document.createElement("span")),o(this,st).classList.add("markedContent"),n.id!==null&&o(this,st).setAttribute("id",`${n.id}`),u.append(o(this,st))}else n.type==="endMarkedContent"&&b(this,st,o(this,st).parentNode);continue}r.push(n.str),A(this,Vh,pg).call(this,n)}},Vh=new WeakSet,pg=function(t){var v;const e=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};o(this,Os).push(e);const i=q.transform(o(this,Jo),t.transform);let s=Math.atan2(i[1],i[0]);const n=o(this,yn)[t.fontName];n.vertical&&(s+=Math.PI/2);let u=o(this,$o)&&n.fontSubstitution||n.fontFamily;u=me.fontFamilyMap.get(u)||u;const l=Math.hypot(i[2],i[3]),c=l*A(v=me,zh,mg).call(v,u,o(this,Bs));let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",p=e.style;o(this,st)===o(this,An)?(p.left=`${(100*h/o(this,Xo)).toFixed(2)}%`,p.top=`${(100*d/o(this,Wo)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(o(me,Ni)*l).toFixed(2)}px)`,p.fontFamily=u,r.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,o(this,$o)&&(e.dataset.fontName=n.fontSubstitutionLoadedName||t.fontName),s!==0&&(r.angle=s*(180/Math.PI));let m=!1;if(t.str.length>1)m=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),y=Math.abs(t.transform[3]);E!==y&&Math.max(E,y)/Math.min(E,y)>1.5&&(m=!0)}if(m&&(r.canvasWidth=n.vertical?t.height:t.width),o(this,Ko).set(e,r),o(this,Mr).div=e,o(this,Mr).properties=r,A(this,Qo,hf).call(this,o(this,Mr)),r.hasText&&o(this,st).append(e),r.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),o(this,st).append(E)}},Qo=new WeakSet,hf=function(t){var u;const{div:e,properties:r,ctx:i}=t,{style:s}=e;let n="";if(o(me,Ni)>1&&(n=`scale(${1/o(me,Ni)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:h}=r;A(u=me,el,df).call(u,i,h*o(this,Li),l);const{width:d}=i.measureText(e.textContent);d>0&&(n=`scaleX(${c*o(this,Li)/d}) ${n}`)}r.angle!==0&&(n=`rotate(${r.angle}deg) ${n}`),n.length>0&&(s.transform=n)},wn=new WeakSet,Fc=function(t=null){let e=o(this,Hs).get(t||(t=""));if(!e){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=t,document.body.append(r),e=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),o(this,Hs).set(t,e),o(this,Zo).set(e,{size:0,family:""})}return e},el=new WeakSet,df=function(t,e,r){const i=o(this,Zo).get(t);e===i.size&&r===i.family||(t.font=`${e}px ${r}`,i.size=e,i.family=r)},Gh=new WeakSet,gg=function(){if(o(this,Ni)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),b(this,Ni,t.getBoundingClientRect().height),t.remove()},zh=new WeakSet,mg=function(t,e){const r=o(this,qs).get(t);if(r)return r;const i=A(this,wn,Fc).call(this,e);i.canvas.width=i.canvas.height=tt,A(this,el,df).call(this,i,tt,t);const s=i.measureText("");let n=s.fontBoundingBoxAscent,u=Math.abs(s.fontBoundingBoxDescent);if(n){const h=n/(n+u);return o(this,qs).set(t,h),i.canvas.width=i.canvas.height=0,h}i.strokeStyle="red",i.clearRect(0,0,tt,tt),i.strokeText("g",0,0);let l=i.getImageData(0,0,tt,tt).data;u=0;for(let h=l.length-1-3;h>=0;h-=4)if(l[h]>0){u=Math.ceil(h/4/tt);break}i.clearRect(0,0,tt,tt),i.strokeText("A",0,tt),l=i.getImageData(0,0,tt,tt).data,n=0;for(let h=0,d=l.length;h<d;h+=4)if(l[h]>0){n=tt-Math.floor(h/4/tt);break}i.canvas.width=i.canvas.height=0;const c=n?n/(n+u):Zb;return o(this,qs).set(t,c),c},g(me,wn),g(me,el),g(me,Gh),g(me,zh),g(me,qs,new Map),g(me,Hs,new Map),g(me,Zo,new WeakMap),g(me,Ni,null),g(me,Dn,new Set);let Yu=me;class Ku{static textContent(t){const e=[],r={items:e,styles:Object.create(null)};function i(s){var l;if(!s)return;let n=null;const u=s.name;if(u==="#text")n=s.value;else if(Ku.shouldBuildText(u))(l=s==null?void 0:s.attributes)!=null&&l.textContent?n=s.attributes.textContent:s.value&&(n=s.value);else return;if(n!==null&&e.push({str:n}),!!s.children)for(const c of s.children)i(c)}return i(t),r}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Qb=65536,eA=100,tA=5e3,rA=Ke?pb:tb,iA=Ke?gb:Sp,sA=Ke?fb:eb,aA=Ke?mb:Lp;function nA(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new ff,{docId:e}=t,r=a.url?uA(a.url):null,i=a.data?oA(a.data):null,s=a.httpHeaders||null,n=a.withCredentials===!0,u=a.password??null,l=a.range instanceof bg?a.range:null,c=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:Qb;let h=a.worker instanceof za?a.worker:null;const d=a.verbosity,f=typeof a.docBaseUrl=="string"&&!Jd(a.docBaseUrl)?a.docBaseUrl:null,p=typeof a.cMapUrl=="string"?a.cMapUrl:null,m=a.cMapPacked!==!1,v=a.CMapReaderFactory||iA,E=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,y=a.StandardFontDataFactory||aA,D=a.stopAtErrors!==!0,w=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,_=a.isEvalSupported!==!1,T=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Ke,x=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,L=typeof a.disableFontFace=="boolean"?a.disableFontFace:Ke,S=a.fontExtraProperties===!0,O=a.enableXfa===!0,U=a.ownerDocument||globalThis.document,C=a.disableRange===!0,F=a.disableStream===!0,N=a.disableAutoFetch===!0,R=a.pdfBug===!0,M=a.CanvasFactory||rA,G=a.FilterFactory||sA,k=a.enableHWA===!0,I=l?l.length:a.length??NaN,B=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Ke&&!L,H=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:v===Sp&&y===Lp&&p&&E&&Pu(p,document.baseURI)&&Pu(E,document.baseURI);a.canvasFactory&&q2("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&q2("`filterFactory`-instance option, please use `FilterFactory` instead.");const Y=null;Um(d);const z={canvasFactory:new M({ownerDocument:U,enableHWA:k}),filterFactory:new G({docId:e,ownerDocument:U}),cMapReaderFactory:H?null:new v({baseUrl:p,isCompressed:m}),standardFontDataFactory:H?null:new y({baseUrl:E})};if(!h){const Ee={verbosity:d,port:ri.workerPort};h=Ee.port?za.fromPort(Ee):new za(Ee),t._worker=h}const Z={docId:e,apiVersion:"4.7.76",data:i,password:u,disableAutoFetch:N,rangeChunkSize:c,length:I,docBaseUrl:f,enableXfa:O,evaluatorOptions:{maxImageSize:w,disableFontFace:L,ignoreErrors:D,isEvalSupported:_,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:x,fontExtraProperties:S,useSystemFonts:B,cMapUrl:H?p:null,standardFontDataUrl:H?E:null}},ye={disableFontFace:L,fontExtraProperties:S,ownerDocument:U,pdfBug:R,styleElement:Y,loadingParams:{disableAutoFetch:N,enableXfa:O}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ee=h.messageHandler.sendWithPromise("GetDocRequest",Z,i?[i.buffer]:null);let ie;if(l)ie=new kb(l,{disableRange:C,disableStream:F});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let V;Ke?V=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Pu(r)?Z2:$b:V=Pu(r)?Z2:jb,ie=new V({url:r,length:I,httpHeaders:s,withCredentials:n,rangeChunkSize:c,disableRange:C,disableStream:F})}return Ee.then(V=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ht=new Iu(e,V,h.port),Ar=new dA(ht,t,ie,ye,z);t._transport=Ar,ht.send("Ready",null)})}).catch(t._capability.reject),t}function uA(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(Ke&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function oA(a){if(Ke&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Yd(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Q2(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var $h;const Wh=class Wh{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Je(Wh,$h)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$h=new WeakMap,g(Wh,$h,0);let ff=Wh;class bg{constructor(t,e,r=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const r of this._rangeListeners)r(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){_e("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class lA{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return re(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Fi,Br,Ri,Pa,_n,Rc;class cA{constructor(t,e,r,i=!1){g(this,Ri);g(this,_n);g(this,Fi,null);g(this,Br,!1);this._pageIndex=t,this._pageInfo=e,this._transport=r,this._stats=i?new O2:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new Ag,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new nc({viewBox:this.view,scale:t,rotation:e,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return re(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:r="display",annotationMode:i=di.ENABLE,transform:s=null,background:n=null,optionalContentConfigPromise:u=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:d=!1}){var _,T;(_=this._stats)==null||_.time("Overall");const f=this._transport.getRenderingIntent(r,i,h,d),{renderingIntent:p,cacheKey:m}=f;b(this,Br,!1),A(this,_n,Rc).call(this),u||(u=this._transport.getOptionalContentConfig(p));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const E=!!(p&yt.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(f));const y=x=>{var L;v.renderTasks.delete(D),(this._maybeCleanupAfterRender||E)&&b(this,Br,!0),A(this,Ri,Pa).call(this,!E),x?(D.capability.reject(x),this._abortOperatorList({intentState:v,reason:x instanceof Error?x:new Error(x)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new gf({callback:y,params:{canvasContext:t,viewport:e,transform:s,background:n},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||(v.renderTasks=new Set)).add(D);const w=D.task;return Promise.all([v.displayReadyCapability.promise,u]).then(([x,L])=>{var S;if(this.destroyed){y();return}if((S=this._stats)==null||S.time("Rendering"),!(L.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:x,optionalContentConfig:L}),D.operatorListChanged()}).catch(y),w}getOperatorList({intent:t="display",annotationMode:e=di.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(l))}const n=this._transport.getRenderingIntent(t,e,r,i,!0);let u=this._intentStates.get(n.cacheKey);u||(u=Object.create(null),this._intentStates.set(n.cacheKey,u));let l;return u.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(l),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(n)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Ku.textContent(r));const e=this.streamTextContent(t);return new Promise(function(r,i){function s(){n.read().then(function({value:l,done:c}){if(c){r(u);return}u.lang??(u.lang=l.lang),Object.assign(u.styles,l.styles),u.items.push(...l.items),s()},i)}const n=e.getReader(),u={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const r of e.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),b(this,Br,!1),A(this,_n,Rc).call(this),Promise.all(t)}cleanup(t=!1){b(this,Br,!0);const e=A(this,Ri,Pa).call(this,!1);return t&&e&&this._stats&&(this._stats=new O2),e}_startRenderPage(t,e){var i,s;const r=this._intentStates.get(e);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let r=0,i=t.length;r<i;r++)e.operatorList.fnArray.push(t.fnArray[r]),e.operatorList.argsArray.push(t.argsArray[r]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const r of e.renderTasks)r.operatorListChanged();t.lastChunk&&A(this,Ri,Pa).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:n}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:i},n).getReader(),c=this._intentStates.get(e);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();A(this,Ri,Pa).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:t,reason:e,force:r=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(e instanceof u2){let i=eA;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new _a(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Fi=new WeakMap,Br=new WeakMap,Ri=new WeakSet,Pa=function(t=!1){if(A(this,_n,Rc).call(this),!o(this,Br)||this.destroyed)return!1;if(t)return b(this,Fi,setTimeout(()=>{b(this,Fi,null),A(this,Ri,Pa).call(this,!1)},tA)),!1;for(const{renderTasks:e,operatorList:r}of this._intentStates.values())if(e.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Br,!1),!0},_n=new WeakSet,Rc=function(){o(this,Fi)&&(clearTimeout(o(this,Fi)),b(this,Fi,null))};var js,Xh;class hA{constructor(){g(this,js,new Set);g(this,Xh,Promise.resolve())}postMessage(t,e){const r={data:structuredClone(t,e?{transfer:e}:null)};o(this,Xh).then(()=>{for(const i of o(this,js))i.call(this,r)})}addEventListener(t,e){o(this,js).add(e)}removeEventListener(t,e){o(this,js).delete(e)}terminate(){o(this,js).clear()}}js=new WeakMap,Xh=new WeakMap;var Yh,Us,Vs,xn,kc,Cn,Pc;const he=class he{constructor({name:t=null,port:e=null,verbosity:r=Vm()}={}){g(this,xn);var i;if(this.name=t,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((i=o(he,Vs))!=null&&i.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(o(he,Vs)||b(he,Vs,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Ke?Promise.all([Ki.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Iu("main","worker",t),this._messageHandler.on("ready",function(){}),A(this,xn,kc).call(this)}_initialize(){if(o(he,Us)||o(he,Cn,Pc)){this._setupFakeWorker();return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location.href,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),r=new Iu("main","worker",e),i=()=>{s.abort(),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",u=>{if(s.abort(),this.destroyed||!u){i();return}this._messageHandler=r,this._port=e,this._webWorker=e,A(this,xn,kc).call(this)}),r.on("ready",u=>{if(s.abort(),this.destroyed){i();return}try{n()}catch{this._setupFakeWorker()}});const n=()=>{const u=new Uint8Array;r.send("test",u,[u.buffer])};n();return}catch{Wd("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){o(he,Us)||(J("Setting up fake worker."),b(he,Us,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new hA;this._port=e;const r=`fake${Je(he,Yh)._++}`,i=new Iu(r+"_worker",r,e);t.setup(i,e),this._messageHandler=new Iu(r,r+"_worker",e),A(this,xn,kc).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=o(he,Vs))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var r;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(r=o(this,Vs))==null?void 0:r.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(ri.workerSrc)return ri.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return re(this,"_setupFakeWorkerGlobal",(async()=>o(this,Cn,Pc)?o(this,Cn,Pc):(await Nu(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};Yh=new WeakMap,Us=new WeakMap,Vs=new WeakMap,xn=new WeakSet,kc=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Cn=new WeakSet,Pc=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},g(he,Cn),g(he,Yh,0),g(he,Us,!1),g(he,Vs,void 0),Ke&&(b(he,Us,!0),ri.workerSrc||(ri.workerSrc="./pdf.worker.mjs")),he._isSameOrigin=(t,e)=>{let r;try{if(r=new URL(t),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(e,r);return r.origin===i.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let za=he;var Ir,ur,Tn,Sn,or,Gs,Ou;class dA{constructor(t,e,r,i,s){g(this,Gs);g(this,Ir,new Map);g(this,ur,new Map);g(this,Tn,new Map);g(this,Sn,new Map);g(this,or,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ag,this.fontLoader=new hb({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return re(this,"annotationStorage",new c2)}getRenderingIntent(t,e=di.ENABLE,r=null,i=!1,s=!1){let n=yt.DISPLAY,u=sf;switch(t){case"any":n=yt.ANY;break;case"display":break;case"print":n=yt.PRINT;break;default:J(`getRenderingIntent - invalid intent: ${t}`)}const l=n&yt.PRINT&&r instanceof ig?r:this.annotationStorage;switch(e){case di.DISABLE:n+=yt.ANNOTATIONS_DISABLE;break;case di.ENABLE:break;case di.ENABLE_FORMS:n+=yt.ANNOTATIONS_FORMS;break;case di.ENABLE_STORAGE:n+=yt.ANNOTATIONS_STORAGE,u=l.serializable;break;default:J(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(n+=yt.IS_EDITING),s&&(n+=yt.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[n,u.hash,h];return{renderingIntent:n,cacheKey:d.join("_"),annotationStorageSerializable:u,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=o(this,or))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of o(this,ur).values())t.push(i._destroy());o(this,ur).clear(),o(this,Tn).clear(),o(this,Sn).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),o(this,Ir).clear(),this.filterFactory.destroy(),Yu.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new _a("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(r,i)=>{Le(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:n}){if(n){i.close();return}Le(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(n=>{if(!this.destroyed)throw n})}}),t.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var n;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((n=e.onProgress)==null||n.call(e,this._lastProgress)),s.onProgress=u=>{var l;(l=e.onProgress)==null||l.call(e,{loaded:u.loaded,total:u.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),t.on("GetRangeReader",(r,i)=>{Le(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:n,done:u}){if(u){i.close();return}Le(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(n),1,[n])}).catch(n=>{i.error(n)})},i.onCancel=n=>{s.cancel(n),i.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,e._capability.resolve(new lA(r,this))}),t.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new k0(r.message,r.code);break;case"InvalidPDFException":i=new Ep(r.message);break;case"MissingPDFException":i=new wa(r.message);break;case"UnexpectedResponseException":i=new Xd(r.message,r.status);break;case"UnknownErrorException":i=new P0(r.message,r.details);break;default:_e("DocException - expected a valid Error.")}e._capability.reject(i)}),t.on("PasswordRequest",r=>{if(b(this,or,Promise.withResolvers()),e.onPassword){const i=s=>{s instanceof Error?o(this,or).reject(s):o(this,or).resolve({password:s})};try{e.onPassword(i,r.code)}catch(s){o(this,or).reject(s)}}else o(this,or).reject(new k0(r.message,r.code));return o(this,or).promise}),t.on("DataLoaded",r=>{var i;(i=e.onProgress)==null||i.call(e,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),t.on("StartRenderPage",r=>{if(this.destroyed)return;o(this,ur).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),t.on("commonobj",([r,i,s])=>{var n;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:u,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const p=s.error;J(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const h=c&&((n=globalThis.FontInspector)!=null&&n.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new db(s,{disableFontFace:u,inspectFont:h});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:f}=s;Le(f,"The imageRef must be defined.");for(const p of o(this,ur).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([r,i,s,n])=>{var l;if(this.destroyed)return;const u=o(this,ur).get(i);if(!u.objs.has(r)){if(u._intentStates.size===0){(l=n==null?void 0:n.bitmap)==null||l.close();return}switch(s){case"Image":u.objs.resolve(r,n),(n==null?void 0:n.dataLen)>Om&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(r,n);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",r=>{var i;this.destroyed||(i=e.onProgress)==null||i.call(e,{loaded:r.loaded,total:r.total})}),t.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&J("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((r=this._fullReader)==null?void 0:r.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,r=o(this,Tn).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&o(this,Sn).set(s.refStr,t);const n=new cA(e,s,this,this._params.pdfBug);return o(this,ur).set(e,n),n});return o(this,Tn).set(e,i),i}getPageIndex(t){return Q2(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return A(this,Gs,Ou).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Gs,Ou).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Gs,Ou).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return A(this,Gs,Ou).call(this,"GetOptionalContentConfig").then(e=>new Rb(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=o(this,Ir).get(t);if(e)return e;const r=this.messageHandler.sendWithPromise(t,null).then(i=>{var s,n;return{info:i[0],metadata:i[1]?new Nb(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((n=this._fullReader)==null?void 0:n.contentLength)??null}});return o(this,Ir).set(t,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of o(this,ur).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),o(this,Ir).clear(),this.filterFactory.destroy(!0),Yu.cleanup()}}cachedPageNumber(t){if(!Q2(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return o(this,Sn).get(e)??null}}Ir=new WeakMap,ur=new WeakMap,Tn=new WeakMap,Sn=new WeakMap,or=new WeakMap,Gs=new WeakSet,Ou=function(t,e=null){const r=o(this,Ir).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise(t,e);return o(this,Ir).set(t,i),i};const bc=Symbol("INITIAL_DATA");var jt,tl,pf;class Ag{constructor(){g(this,tl);g(this,jt,Object.create(null))}get(t,e=null){if(e){const i=A(this,tl,pf).call(this,t);return i.promise.then(()=>e(i.data)),null}const r=o(this,jt)[t];if(!r||r.data===bc)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){const e=o(this,jt)[t];return!!e&&e.data!==bc}resolve(t,e=null){const r=A(this,tl,pf).call(this,t);r.data=e,r.resolve()}clear(){var t;for(const e in o(this,jt)){const{data:r}=o(this,jt)[e];(t=r==null?void 0:r.bitmap)==null||t.close()}b(this,jt,Object.create(null))}*[Symbol.iterator](){for(const t in o(this,jt)){const{data:e}=o(this,jt)[t];e!==bc&&(yield[t,e])}}}jt=new WeakMap,tl=new WeakSet,pf=function(t){var e;return(e=o(this,jt))[t]||(e[t]={...Promise.withResolvers(),data:bc})};var ki;class fA{constructor(t){g(this,ki,null);b(this,ki,t),this.onContinue=null}get promise(){return o(this,ki).capability.promise}cancel(t=0){o(this,ki).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=o(this,ki).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=o(this,ki);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}ki=new WeakMap;var Pi,zs;const cs=class cs{constructor({callback:t,params:e,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:n,pageIndex:u,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){g(this,Pi,null);this.callback=t,this.params=e,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=n,this._pageIndex=u,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new fA(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,l;if(this.cancelled)return;if(this._canvas){if(o(cs,zs).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o(cs,zs).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:n}=this.params;this.gfx=new Ga(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:n}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),o(this,Pi)&&(window.cancelAnimationFrame(o(this,Pi)),b(this,Pi,null)),o(cs,zs).delete(this._canvas),this.callback(t||new u2(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Pi,window.requestAnimationFrame(()=>{b(this,Pi,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),o(cs,zs).delete(this._canvas),this.callback())))}};Pi=new WeakMap,zs=new WeakMap,g(cs,zs,new WeakSet);let gf=cs;const pA="4.7.76",gA="8b73b828b";function ep(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function xu(a){return Math.max(0,Math.min(255,255*a))}class tp{static CMYK_G([t,e,r,i]){return["G",1-Math.min(1,.3*t+.59*r+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=xu(t),[t,t,t]}static G_HTML([t]){const e=ep(t);return`#${e}${e}${e}`}static RGB_G([t,e,r]){return["G",.3*t+.59*e+.11*r]}static RGB_rgb(t){return t.map(xu)}static RGB_HTML(t){return`#${t.map(ep).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,r,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,r,i]){return[xu(1-Math.min(1,t+i)),xu(1-Math.min(1,r+i)),xu(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,r]){const i=1-t,s=1-e,n=1-r,u=Math.min(i,s,n);return["CMYK",i,s,n,u]}}class vg{static setupStorage(t,e,r,i,s){const n=i.getValue(e,{value:null});switch(r.name){case"textarea":if(n.value!==null&&(t.textContent=n.value),s==="print")break;t.addEventListener("input",u=>{i.setValue(e,{value:u.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(n.value===r.attributes.xfaOn?t.setAttribute("checked",!0):n.value===r.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",u=>{i.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(n.value!==null&&t.setAttribute("value",n.value),s==="print")break;t.addEventListener("input",u=>{i.setValue(e,{value:u.target.value})})}break;case"select":if(n.value!==null){t.setAttribute("value",n.value);for(const u of r.children)u.attributes.value===n.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const l=u.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:r=null,intent:i,linkService:s}){const{attributes:n}=e,u=t instanceof HTMLAnchorElement;n.type==="radio"&&(n.name=`${n.name}-${i}`);for(const[l,c]of Object.entries(n))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!u||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}u&&s.addLinkAttributes(t,n.href,n.newWindow),r&&n.dataId&&this.setupStorage(t,n.dataId,e,r)}static render(t){var d,f;const e=t.annotationStorage,r=t.linkService,i=t.xfaHtml,s=t.intent||"display",n=document.createElement(i.name);i.attributes&&this.setAttributes({html:n,element:i,intent:s,linkService:r});const u=s!=="richText",l=t.div;if(l.append(n),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}u&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);n.append(p),u&&Ku.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const h=[[i,-1,n]];for(;h.length>0;){const[p,m,v]=h.at(-1);if(m+1===p.children.length){h.pop();continue}const E=p.children[++h.at(-1)[1]];if(E===null)continue;const{name:y}=E;if(y==="#text"){const w=document.createTextNode(E.value);c.push(w),v.append(w);continue}const D=(d=E==null?void 0:E.attributes)!=null&&d.xmlns?document.createElementNS(E.attributes.xmlns,y):document.createElement(y);if(v.append(D),E.attributes&&this.setAttributes({html:D,element:E,storage:e,intent:s,linkService:r}),((f=E.children)==null?void 0:f.length)>0)h.push([E,-1,D]);else if(E.value){const w=document.createTextNode(E.value);u&&Ku.shouldBuildText(y)&&c.push(w),D.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const oc=1e3,mA=9,Ea=new WeakSet;function si(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class bA{static create(t){switch(t.data.annotationType){case xe.LINK:return new yg(t);case xe.TEXT:return new AA(t);case xe.WIDGET:switch(t.data.fieldType){case"Tx":return new vA(t);case"Btn":return t.data.radioButton?new wg(t):t.data.checkBox?new EA(t):new DA(t);case"Ch":return new wA(t);case"Sig":return new yA(t)}return new xa(t);case xe.POPUP:return new bf(t);case xe.FREETEXT:return new Sg(t);case xe.LINE:return new xA(t);case xe.SQUARE:return new CA(t);case xe.CIRCLE:return new TA(t);case xe.POLYLINE:return new Lg(t);case xe.CARET:return new LA(t);case xe.INK:return new g2(t);case xe.POLYGON:return new SA(t);case xe.HIGHLIGHT:return new Ng(t);case xe.UNDERLINE:return new NA(t);case xe.SQUIGGLY:return new FA(t);case xe.STRIKEOUT:return new RA(t);case xe.STAMP:return new Fg(t);case xe.FILEATTACHMENT:return new kA(t);default:return new ve(t)}}}var $s,Ln,Nn,rl,mf;const R2=class R2{constructor(t,{isRenderable:e=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){g(this,rl);g(this,$s,null);g(this,Ln,!1);g(this,Nn,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:r}){return!!(t!=null&&t.str||e!=null&&e.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return R2._hasPopupData(this.data)}updateEdited(t){var r;if(!this.container)return;o(this,$s)||b(this,$s,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&A(this,rl,mf).call(this,e),(r=o(this,Nn))==null||r.popup.updateEdited(t)}resetEdited(){var t;o(this,$s)&&(A(this,rl,mf).call(this,o(this,$s).rect),(t=o(this,Nn))==null||t.popup.resetEdited(),b(this,$s,null))}_createContainer(t){const{data:e,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof xa||(s.tabIndex=oc);const{style:n}=s;if(n.zIndex=this.parent.zIndex++,e.popupRef&&s.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof bf){const{rotation:v}=e;return!e.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:u,height:l}=si(e.rect);if(!t&&e.borderStyle.width>0){n.borderWidth=`${e.borderStyle.width}px`;const v=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(v>0||E>0){const D=`calc(${v}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;n.borderRadius=D}else if(this instanceof wg){const D=`calc(${u}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;n.borderRadius=D}switch(e.borderStyle.style){case wu.SOLID:n.borderStyle="solid";break;case wu.DASHED:n.borderStyle="dashed";break;case wu.BEVELED:J("Unimplemented border style: beveled");break;case wu.INSET:J("Unimplemented border style: inset");break;case wu.UNDERLINE:n.borderBottomStyle="solid";break}const y=e.borderColor||null;y?(b(this,Ln,!0),n.borderColor=q.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):n.borderWidth=0}const c=q.normalizeRect([e.rect[0],r.view[3]-e.rect[1]+r.view[1],e.rect[2],r.view[3]-e.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=i.rawDims;n.left=`${100*(c[0]-f)/h}%`,n.top=`${100*(c[1]-p)/d}%`;const{rotation:m}=e;return e.hasOwnCanvas||m===0?(n.width=`${100*u/h}%`,n.height=`${100*l/d}%`):this.setRotation(m,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:n}=si(this.data.rect);let u,l;t%180===0?(u=100*s/r,l=100*n/i):(u=100*n/r,l=100*s/i),e.style.width=`${u}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,r,i)=>{const s=i.detail[e],n=s[0],u=s.slice(1);i.target.style[r]=tp[`${n}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[r]:tp[`${n}_rgb`](u)})};return re(this,"_commonActions",{display:e=>{const{display:r}=e.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:r}=e.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const r=e.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(t,e){const r=this._commonActions;for(const i of Object.keys(e.detail)){const s=t[i]||r[i];s==null||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const r=this._commonActions;for(const[i,s]of Object.entries(e)){const n=r[i];if(n){const u={detail:{[i]:s},target:t};n(u),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,r,i,s]=this.data.rect.map(v=>Math.fround(v));if(t.length===8){const[v,E,y,D]=t.subarray(2,6);if(i===v&&s===E&&e===y&&r===D)return}const{style:n}=this.container;let u;if(o(this,Ln)){const{borderColor:v,borderWidth:E}=n;n.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=i-e,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,E=t.length;v<E;v+=8){const y=t[v],D=t[v+1],w=t[v+2],_=t[v+3],T=h.createElement("rect"),x=(w-e)/l,L=(s-D)/c,S=(y-w)/l,O=(D-_)/c;T.setAttribute("x",x),T.setAttribute("y",L),T.setAttribute("width",S),T.setAttribute("height",O),p.append(T),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${x}" y="${L}" width="${S}" height="${O}"/>`)}o(this,Ln)&&(u.push("</g></svg>')"),n.backgroundImage=u.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const r=b(this,Nn,new bf({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){_e("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:s,id:n,exportValues:u}of i){if(s===-1||n===e)continue;const l=typeof u=="string"?u:null,c=document.querySelector(`[data-element-id="${n}"]`);if(c&&!Ea.has(c)){J(`_getElementsByName - element not allowed: ${n}`);continue}r.push({id:n,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(t)){const{exportValue:s}=i,n=i.getAttribute("data-element-id");n!==e&&Ea.has(i)&&r.push({id:n,exportValue:s,domElement:i})}return r}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};$s=new WeakMap,Ln=new WeakMap,Nn=new WeakMap,rl=new WeakSet,mf=function(t){const{container:{style:e},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:n,pageX:u,pageY:l}}}}=this;r==null||r.splice(0,4,...t);const{width:c,height:h}=si(t);e.left=`${100*(t[0]-u)/s}%`,e.top=`${100*(n-t[3]+l)/n}%`,i===0?(e.width=`${100*c/s}%`,e.height=`${100*h/n}%`):this.setRotation(i)};let ve=R2;var Or,ss,Kh,Eg,Jh,Dg;class yg extends ve{constructor(e,r=null){super(e,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});g(this,Or);g(this,Kh);g(this,Jh);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let s=!1;return e.url?(r.addLinkAttributes(i,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(i,e.action),s=!0):e.attachment?(A(this,Kh,Eg).call(this,i,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(A(this,Jh,Dg).call(this,i,e.setOCGState),s=!0):e.dest?(this._bindLink(i,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),s=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(e,r){e.href=this.linkService.getDestinationHash(r),e.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&A(this,Or,ss).call(this)}_bindNamedAction(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(r),!1),A(this,Or,ss).call(this)}_bindJSAction(e,r){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const n=i.get(s);n&&(e[n]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}e.onclick||(e.onclick=()=>!1),A(this,Or,ss).call(this)}_bindResetFormAction(e,r){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),A(this,Or,ss).call(this),!this._fieldObjects){J('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var d;i==null||i();const{fields:s,refs:n,include:u}=r,l=[];if(s.length!==0||n.length!==0){const f=new Set(n);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:v}of m)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===u&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Ea.has(m)){J(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Or=new WeakSet,ss=function(){this.container.setAttribute("data-internal-link","")},Kh=new WeakSet,Eg=function(e,r,i=null){e.href=this.linkService.getAnchorUrl(""),r.description&&(e.title=r.description),e.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},A(this,Or,ss).call(this)},Jh=new WeakSet,Dg=function(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(r),!1),A(this,Or,ss).call(this)};class AA extends ve{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class xa extends ve{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return lt.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,r,i,s){r.includes("mouse")?t.addEventListener(r,n=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(n),shift:n.shiftKey,modifier:this._getKeyModifier(n)}})}):t.addEventListener(r,n=>{var u;if(r==="blur"){if(!e.focused||!n.relatedTarget)return;e.focused=!1}else if(r==="focus"){if(e.focused)return;e.focused=!0}s&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(n)}}))})}_setEventListeners(t,e,r,i){var s,n,u;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,i),c==="Focus"&&!((n=this.data.actions)!=null&&n.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":q.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||mA,s=t.style;let n;const u=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-u),h=Math.round(c/(v0*i))||1,d=c/h;n=Math.min(i,l(d/v0))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-u);n=Math.min(i,l(c/v0))}s.fontSize=`calc(${n}px * var(--scale-factor))`,s.color=q.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class vA extends xa{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,r,i){const s=this.annotationStorage;for(const n of this._getElementsByName(t.name,t.id))n.domElement&&(n.domElement[e]=r),s.setValue(n.id,{[i]:r})}render(){var i,s;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const n=t.getValue(e,{value:this.data.fieldValue});let u=n.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&u.length>l&&(u=u.slice(0,l));let c=n.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:u,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??u,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??u),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Ea.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=oc,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var v;if(h.focused)return;const{target:m}=p;h.userValue&&(m.value=h.userValue),h.lastCommittedValue=m.value,h.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(v){h.userValue=v.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:E}=v.detail;h.formattedValue=E,E!=null&&v.target!==document.activeElement&&(v.target.value=E),t.setValue(e,{formattedValue:E})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var w;const{charLimit:E}=v.detail,{target:y}=v;if(E===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",E);let D=h.userValue;!D||D.length<=E||(D=D.slice(0,E),y.value=h.userValue=D,t.setValue(e,{value:D}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var E;h.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(h.commitKey=3),m===-1)return;const{value:v}=p.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,r.addEventListener("blur",p=>{var v,E;if(!h.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(h.focused=!1);const{value:m}=p.target;h.userValue=m,h.lastCommittedValue!==m&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var T;h.lastCommittedValue=null;const{data:m,target:v}=p,{value:E,selectionStart:y,selectionEnd:D}=v;let w=y,_=D;switch(p.inputType){case"deleteWordBackward":{const x=E.substring(0,y).match(/\w*[^\w]*$/);x&&(w-=x[0].length);break}case"deleteWordForward":{const x=E.substring(y).match(/^[^\w]*\w*/);x&&(_+=x[0].length);break}case"deleteContentBackward":y===D&&(w-=1);break;case"deleteContentForward":y===D&&(_+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,change:m||"",willCommit:!1,selStart:w,selEnd:_}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class yA extends xa{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class EA extends xa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,r=e.id;let i=t.getValue(r,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ea.add(s),s.setAttribute("data-element-id",r),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=oc,s.addEventListener("change",n=>{const{name:u,checked:l}=n.target;for(const c of this._getElementsByName(u,r)){const h=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=h),t.setValue(c.id,{value:h})}t.setValue(r,{value:l})}),s.addEventListener("resetform",n=>{const u=e.defaultFieldValue||"Off";n.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",n=>{const u={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(u,n)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],n=>n.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class wg extends xa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,r=e.id;let i=t.getValue(r,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(r,{value:i})),i)for(const n of this._getElementsByName(e.fieldName,r))t.setValue(n.id,{value:!1});const s=document.createElement("input");if(Ea.add(s),s.setAttribute("data-element-id",r),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=oc,s.addEventListener("change",n=>{const{name:u,checked:l}=n.target;for(const c of this._getElementsByName(u,r))t.setValue(c.id,{value:!1});t.setValue(r,{value:l})}),s.addEventListener("resetform",n=>{const u=e.defaultFieldValue;n.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const n=e.buttonValue;s.addEventListener("updatefromsandbox",u=>{const l={value:c=>{const h=n===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===r;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,u)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class DA extends yg{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),t}}class wA extends xa{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,r=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Ea.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=oc;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let n=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),n=()=>{h.remove(),i.removeEventListener("input",n),n=null},i.addEventListener("input",n)}const u=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=u(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(f){n==null||n();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=m.has(v.value);t.setValue(e,{value:u(!0)}),l=u(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,E=>E.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:u(!0),items:c(f)}),l=u(!1)},clear(f){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),l=u(!1)},insert(f){const{index:p,displayValue:m,exportValue:v}=f.detail.insert,E=i.children[p],y=document.createElement("option");y.textContent=m,y.value=v,E?E.before(y):i.append(y),t.setValue(e,{value:u(!0),items:c(f)}),l=u(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:v,exportValue:E}=m,y=document.createElement("option");y.textContent=v,y.value=E,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:u(!0),items:c(f)}),l=u(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);t.setValue(e,{value:u(!0)}),l=u(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{var p;const d=u(!0),f=u(!1);t.setValue(e,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class bf extends ve{constructor(t){const{data:e,elements:r}=t;super(t,{isRenderable:ve._hasPopupData(e)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new _A({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const r of this.elements)r.popup=t,e.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(r=>`${a2}${r}`).join(",")),this.container}}var Fn,Zh,Qh,Rn,Ws,be,qr,kn,il,sl,Pn,Hr,Ut,jr,al,Ur,nl,Xs,Ys,Mn,Mc,ul,Af,ed,_g,td,xg,rd,Cg,id,Tg,Bn,Bc,In,Ic,ol,vf;class _A{constructor({container:t,color:e,elements:r,titleObj:i,modificationDate:s,contentsObj:n,richText:u,parent:l,rect:c,parentRect:h,open:d}){g(this,Mn);g(this,ul);g(this,ed);g(this,td);g(this,rd);g(this,id);g(this,Bn);g(this,In);g(this,ol);g(this,Fn,A(this,rd,Cg).bind(this));g(this,Zh,A(this,ol,vf).bind(this));g(this,Qh,A(this,In,Ic).bind(this));g(this,Rn,A(this,Bn,Bc).bind(this));g(this,Ws,null);g(this,be,null);g(this,qr,null);g(this,kn,null);g(this,il,null);g(this,sl,null);g(this,Pn,null);g(this,Hr,!1);g(this,Ut,null);g(this,jr,null);g(this,al,null);g(this,Ur,null);g(this,nl,null);g(this,Xs,null);g(this,Ys,!1);var f;b(this,be,t),b(this,nl,i),b(this,qr,n),b(this,Ur,u),b(this,sl,l),b(this,Ws,e),b(this,al,c),b(this,Pn,h),b(this,il,r),b(this,kn,Np.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",o(this,Rn)),p.addEventListener("mouseenter",o(this,Qh)),p.addEventListener("mouseleave",o(this,Zh)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",o(this,Fn));o(this,be).hidden=!0,d&&A(this,Bn,Bc).call(this)}render(){if(o(this,Ut))return;const t=b(this,Ut,document.createElement("div"));if(t.className="popup",o(this,Ws)){const s=t.style.outlineColor=q.makeHexColor(...o(this,Ws));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:t.style.backgroundColor=q.makeHexColor(...o(this,Ws).map(u=>Math.floor(.7*(255-u)+u)))}const e=document.createElement("span");e.className="header";const r=document.createElement("h1");if(e.append(r),{dir:r.dir,str:r.textContent}=o(this,nl),t.append(e),o(this,kn)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:o(this,kn).valueOf()})),e.append(s)}const i=o(this,Mn,Mc);if(i)vg.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(o(this,qr));t.append(s)}o(this,be).append(t)}_formatContents({str:t,dir:e}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=e;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,n=i.length;s<n;++s){const u=i[s];r.append(document.createTextNode(u)),s<n-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:t,popupContent:e}){var r;o(this,Xs)||b(this,Xs,{contentsObj:o(this,qr),richText:o(this,Ur)}),t&&b(this,jr,null),e&&(b(this,Ur,A(this,td,xg).call(this,e)),b(this,qr,null)),(r=o(this,Ut))==null||r.remove(),b(this,Ut,null)}resetEdited(){var t;o(this,Xs)&&({contentsObj:Je(this,qr)._,richText:Je(this,Ur)._}=o(this,Xs),b(this,Xs,null),(t=o(this,Ut))==null||t.remove(),b(this,Ut,null),b(this,jr,null))}forceHide(){b(this,Ys,this.isVisible),o(this,Ys)&&(o(this,be).hidden=!0)}maybeShow(){o(this,Ys)&&(o(this,Ut)||A(this,In,Ic).call(this),b(this,Ys,!1),o(this,be).hidden=!1)}get isVisible(){return o(this,be).hidden===!1}}Fn=new WeakMap,Zh=new WeakMap,Qh=new WeakMap,Rn=new WeakMap,Ws=new WeakMap,be=new WeakMap,qr=new WeakMap,kn=new WeakMap,il=new WeakMap,sl=new WeakMap,Pn=new WeakMap,Hr=new WeakMap,Ut=new WeakMap,jr=new WeakMap,al=new WeakMap,Ur=new WeakMap,nl=new WeakMap,Xs=new WeakMap,Ys=new WeakMap,Mn=new WeakSet,Mc=function(){const t=o(this,Ur),e=o(this,qr);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&o(this,Ur).html||null},ul=new WeakSet,Af=function(){var t,e,r;return((r=(e=(t=o(this,Mn,Mc))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:r.fontSize)||0},ed=new WeakSet,_g=function(){var t,e,r;return((r=(e=(t=o(this,Mn,Mc))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:r.color)||null},td=new WeakSet,xg=function(t){const e=[],r={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:o(this,ed,_g),fontSize:o(this,ul,Af)?`calc(${o(this,ul,Af)}px * var(--scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:i});return r},rd=new WeakSet,Cg=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&o(this,Hr))&&A(this,Bn,Bc).call(this)},id=new WeakSet,Tg=function(){if(o(this,jr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:r,pageX:i,pageY:s}}}=o(this,sl);let n=!!o(this,Pn),u=n?o(this,Pn):o(this,al);for(const m of o(this,il))if(!u||q.intersect(m.data.rect,u)!==null){u=m.data.rect,n=!0;break}const l=q.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),c=5,h=n?u[2]-u[0]+c:0,d=l[0]+h,f=l[1];b(this,jr,[100*(d-i)/e,100*(f-s)/r]);const{style:p}=o(this,be);p.left=`${o(this,jr)[0]}%`,p.top=`${o(this,jr)[1]}%`},Bn=new WeakSet,Bc=function(){b(this,Hr,!o(this,Hr)),o(this,Hr)?(A(this,In,Ic).call(this),o(this,be).addEventListener("click",o(this,Rn)),o(this,be).addEventListener("keydown",o(this,Fn))):(A(this,ol,vf).call(this),o(this,be).removeEventListener("click",o(this,Rn)),o(this,be).removeEventListener("keydown",o(this,Fn)))},In=new WeakSet,Ic=function(){o(this,Ut)||this.render(),this.isVisible?o(this,Hr)&&o(this,be).classList.add("focused"):(A(this,id,Tg).call(this),o(this,be).hidden=!1,o(this,be).style.zIndex=parseInt(o(this,be).style.zIndex)+1e3)},ol=new WeakSet,vf=function(){o(this,be).classList.remove("focused"),!(o(this,Hr)||!this.isVisible)&&(o(this,be).hidden=!0,o(this,be).style.zIndex=parseInt(o(this,be).style.zIndex)-1e3)};class Sg extends ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=K.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const r=document.createElement("span");r.textContent=e,t.append(r)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ll;class xA extends ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});g(this,ll,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:r,height:i}=si(e.rect),s=this.svgFactory.create(r,i,!0),n=b(this,ll,this.svgFactory.createElement("svg:line"));return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),s.append(n),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,ll)}addHighlightArea(){this.container.classList.add("highlightArea")}}ll=new WeakMap;var cl;class CA extends ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});g(this,cl,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:r,height:i}=si(e.rect),s=this.svgFactory.create(r,i,!0),n=e.borderStyle.width,u=b(this,cl,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",n/2),u.setAttribute("y",n/2),u.setAttribute("width",r-n),u.setAttribute("height",i-n),u.setAttribute("stroke-width",n||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),s.append(u),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,cl)}addHighlightArea(){this.container.classList.add("highlightArea")}}cl=new WeakMap;var hl;class TA extends ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});g(this,hl,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:r,height:i}=si(e.rect),s=this.svgFactory.create(r,i,!0),n=e.borderStyle.width,u=b(this,hl,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",r/2),u.setAttribute("cy",i/2),u.setAttribute("rx",r/2-n/2),u.setAttribute("ry",i/2-n/2),u.setAttribute("stroke-width",n||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),s.append(u),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,hl)}addHighlightArea(){this.container.classList.add("highlightArea")}}hl=new WeakMap;var dl;class Lg extends ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});g(this,dl,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:n,height:u}=si(e),l=this.svgFactory.create(n,u,!0);let c=[];for(let d=0,f=r.length;d<f;d+=2){const p=r[d]-e[0],m=e[3]-r[d+1];c.push(`${p},${m}`)}c=c.join(" ");const h=b(this,dl,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,dl)}addHighlightArea(){this.container.classList.add("highlightArea")}}dl=new WeakMap;class SA extends Lg{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class LA extends ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var fl;class g2 extends ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});g(this,fl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?K.HIGHLIGHT:K.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:n,height:u}=si(e),l=this.svgFactory.create(n,u,!0);for(const c of r){let h=[];for(let f=0,p=c.length;f<p;f+=2){const m=c[f]-e[0],v=e[3]-c[f+1];h.push(`${m},${v}`)}h=h.join(" ");const d=this.svgFactory.createElement(this.svgElementName);o(this,fl).push(d),d.setAttribute("points",h),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return o(this,fl)}addHighlightArea(){this.container.classList.add("highlightArea")}}fl=new WeakMap;class Ng extends ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=K.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class NA extends ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class FA extends ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class RA extends ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Fg extends ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=K.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var pl,gl,yf;class kA extends ve{constructor(e){var i;super(e,{isRenderable:!0});g(this,gl);g(this,pl,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,gl,yf).bind(this)),b(this,pl,i);const{isMac:s}=lt.platform;return e.addEventListener("keydown",n=>{n.key==="Enter"&&(s?n.metaKey:n.ctrlKey)&&A(this,gl,yf).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return o(this,pl)}addHighlightArea(){this.container.classList.add("highlightArea")}}pl=new WeakMap,gl=new WeakSet,yf=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var ml,Ks,Js,bl,sd,Rg,Al,Ef;class PA{constructor({div:t,accessibilityManager:e,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:n,structTreeLayer:u}){g(this,sd);g(this,Al);g(this,ml,null);g(this,Ks,null);g(this,Js,new Map);g(this,bl,null);this.div=t,b(this,ml,e),b(this,Ks,r),b(this,bl,u||null),this.page=s,this.viewport=n,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return o(this,Js).size>0}async render(t){var n;const{annotations:e}=t,r=this.div;va(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new n2,annotationStorage:t.annotationStorage||new c2,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const l=u.annotationType===xe.POPUP;if(l){const d=i.get(u.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=si(u.rect);if(d<=0||f<=0)continue}s.data=u;const c=bA.create(s);if(!c.isRenderable)continue;if(!l&&u.popupRef){const d=i.get(u.popupRef);d?d.push(c):i.set(u.popupRef,[c])}const h=c.render();u.hidden&&(h.style.visibility="hidden"),await A(this,sd,Rg).call(this,h,u.id),c._isEditable&&(o(this,Js).set(c.data.id,c),(n=this._annotationEditorUIManager)==null||n.renderAnnotationElement(c))}A(this,Al,Ef).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,va(e,{rotation:t.rotation}),A(this,Al,Ef).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(o(this,Js).values())}getEditableAnnotation(t){return o(this,Js).get(t)}}ml=new WeakMap,Ks=new WeakMap,Js=new WeakMap,bl=new WeakMap,sd=new WeakSet,Rg=async function(t,e){var n,u;const r=t.firstChild||t,i=r.id=`${a2}${e}`,s=await((n=o(this,bl))==null?void 0:n.getAriaAttributes(i));if(s)for(const[l,c]of s)r.setAttribute(l,c);this.div.append(t),(u=o(this,ml))==null||u.moveElementInDOM(this.div,t,r,!1)},Al=new WeakSet,Ef=function(){if(!o(this,Ks))return;const t=this.div;for(const[e,r]of o(this,Ks)){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}o(this,Ks).clear()};const Ac=/\r\n?|\n/g;var Vt,gt,vl,Zs,mt,ad,kg,nd,Pg,ud,Mg,On,Oc,qn,qc,Hn,Hc,od,Bg,yl,wf,ld,Ig;const le=class le extends ne{constructor(e){super({...e,name:"freeTextEditor"});g(this,ad);g(this,nd);g(this,ud);g(this,On);g(this,Hn);g(this,od);g(this,ld);g(this,Vt,void 0);g(this,gt,"");g(this,vl,`${this.id}-editor`);g(this,Zs,null);g(this,mt,void 0);b(this,Vt,e.color||le._defaultColor||ne._defaultLineColor),b(this,mt,e.fontSize||le._defaultFontSize)}static get _keyboardManager(){const e=le.prototype,r=n=>n.isEmpty(),i=ya.TRANSLATE_SMALL,s=ya.TRANSLATE_BIG;return re(this,"_keyboardManager",new uc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(e,r){ne.initialize(e,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,r){switch(e){case W.FREETEXT_SIZE:le._defaultFontSize=r;break;case W.FREETEXT_COLOR:le._defaultColor=r;break}}updateParams(e,r){switch(e){case W.FREETEXT_SIZE:A(this,ad,kg).call(this,r);break;case W.FREETEXT_COLOR:A(this,nd,Pg).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[W.FREETEXT_SIZE,le._defaultFontSize],[W.FREETEXT_COLOR,le._defaultColor||ne._defaultLineColor]]}get propertiesToUpdate(){return[[W.FREETEXT_SIZE,o(this,mt)],[W.FREETEXT_COLOR,o(this,Vt)]]}_translateEmpty(e,r){this._uiManager.translateSelectedEditors(e,r,!0)}getInitialTranslation(){const e=this.parentScale;return[-le._internalPadding*e,-(le._internalPadding+o(this,mt))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(K.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,Zs,new AbortController);const e=this._uiManager.combinedSignal(o(this,Zs));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",o(this,vl)),this._isDraggable=!0,(e=o(this,Zs))==null||e.abort(),b(this,Zs,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=o(this,gt),r=b(this,gt,A(this,ud,Mg).call(this).trimEnd());if(e===r)return;const i=s=>{if(b(this,gt,s),!s){this.remove();return}A(this,Hn,Hc).call(this),this._uiManager.rebuild(this),A(this,On,Oc).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(e)},mustExec:!1}),A(this,On,Oc).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){le._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,r;this.width&&(e=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",o(this,vl)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ne._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var n;return(n=this.editorDiv)==null?void 0:n.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${o(this,mt)}px * var(--scale-factor))`,i.color=o(this,Vt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Qc(this,this.div,["dblclick","keydown"]),this.width){const[s,n]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=e+(u[0]-f)/h,v=r+this.height-(u[1]-p)/d;break;case 90:m=e+(u[0]-f)/h,v=r-(u[1]-p)/d,[l,c]=[c,-l];break;case 180:m=e-this.width+(u[0]-f)/h,v=r-(u[1]-p)/d,[l,c]=[-l,-c];break;case 270:m=e+(u[0]-f-this.height*d)/h,v=r+(u[1]-p-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(m*s,v*n,l,c)}else this.setAt(e*s,r*n,this.width*s,this.height*n);A(this,Hn,Hc).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var m,v,E;const r=e.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const s=A(m=le,yl,wf).call(m,r.getData("text")||"").replaceAll(Ac,`
`);if(!s)return;const n=window.getSelection();if(!n.rangeCount)return;this.editorDiv.normalize(),n.deleteFromDocument();const u=n.getRangeAt(0);if(!s.includes(`
`)){u.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),n.collapseToStart();return}const{startContainer:l,startOffset:c}=u,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(Ac,"")),y!==this.editorDiv){let D=h;for(const w of this.editorDiv.childNodes){if(w===y){D=d;continue}D.push(A(v=le,qn,qc).call(v,w))}}h.push(l.nodeValue.slice(0,c).replaceAll(Ac,""))}else if(l===this.editorDiv){let y=h,D=0;for(const w of this.editorDiv.childNodes)D++===c&&(y=d),y.push(A(E=le,qn,qc).call(E,w))}b(this,gt,`${h.join(`
`)}${s}${d.join(`
`)}`),A(this,Hn,Hc).call(this);const f=new Range;let p=h.reduce((y,D)=>y+D.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const D=y.nodeValue.length;if(p<=D){f.setStart(y,p),f.setEnd(y,p);break}p-=D}n.removeAllRanges(),n.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,r,i){var u;let s=null;if(e instanceof Sg){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f,popupRef:p},textContent:m,textPosition:v,parent:{page:{pageNumber:E}}}=e;if(!m||m.length===0)return null;s=e={annotationType:K.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:v,pageIndex:E-1,rect:h.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const n=await super.deserialize(e,r,i);return b(n,mt,e.fontSize),b(n,Vt,q.makeHexColor(...e.color)),b(n,gt,A(u=le,yl,wf).call(u,e.value)),n.annotationElementId=e.id||null,n._initialData=s,n}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=le._internalPadding*this.parentScale,i=this.getRect(r,r),s=ne._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:o(this,Vt)),n={annotationType:K.FREETEXT,color:s,fontSize:o(this,mt),value:A(this,od,Bg).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?n:this.annotationElementId&&!A(this,ld,Ig).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(e){const r=super.renderAnnotationElement(e);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${o(this,mt)}px * var(--scale-factor))`,i.color=o(this,Vt),r.replaceChildren();for(const n of o(this,gt).split(`
`)){const u=document.createElement("div");u.append(n?document.createTextNode(n):document.createElement("br")),r.append(u)}const s=le._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:o(this,gt)}),r}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Vt=new WeakMap,gt=new WeakMap,vl=new WeakMap,Zs=new WeakMap,mt=new WeakMap,ad=new WeakSet,kg=function(e){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-o(this,mt))*this.parentScale),b(this,mt,s),A(this,On,Oc).call(this)},i=o(this,mt);this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},nd=new WeakSet,Pg=function(e){const r=s=>{b(this,Vt,this.editorDiv.style.color=s)},i=o(this,Vt);this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ud=new WeakSet,Mg=function(){var i;const e=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(A(i=le,qn,qc).call(i,s)),r=s);return e.join(`
`)},On=new WeakSet,Oc=function(){const[e,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:n}=this,u=n.style.display,l=n.classList.contains("hidden");n.classList.remove("hidden"),n.style.display="hidden",s.div.append(this.div),i=n.getBoundingClientRect(),n.remove(),n.style.display=u,n.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/r):(this.width=i.height/e,this.height=i.width/r),this.fixAndSetPosition()},qn=new WeakSet,qc=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ac,"")},Hn=new WeakSet,Hc=function(){if(this.editorDiv.replaceChildren(),!!o(this,gt))for(const e of o(this,gt).split(`
`)){const r=document.createElement("div");r.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(r)}},od=new WeakSet,Bg=function(){return o(this,gt).replaceAll(" "," ")},yl=new WeakSet,wf=function(e){return e.replaceAll(" "," ")},ld=new WeakSet,Ig=function(e){const{value:r,fontSize:i,color:s,pageIndex:n}=this._initialData;return this._hasBeenMoved||e.value!==r||e.fontSize!==i||e.color.some((u,l)=>u!==s[l])||e.pageIndex!==n},g(le,qn),g(le,yl),$(le,"_freeTextDefaultContent",""),$(le,"_internalPadding",0),$(le,"_defaultColor",null),$(le,"_defaultFontSize",10),$(le,"_type","freetext"),$(le,"_editorType",K.FREETEXT);let Df=le;var El,Mi,Gt,cd,Og,jn,jc,hd,qg,dd,Hg,Dl,_f;class rp{constructor(t,e=0,r=0,i=!0){g(this,cd);g(this,jn);g(this,hd);g(this,dd);g(this,Dl);g(this,El,void 0);g(this,Mi,[]);g(this,Gt,[]);let s=1/0,n=-1/0,u=1/0,l=-1/0;const h=10**-4;for(const{x:y,y:D,width:w,height:_}of t){const T=Math.floor((y-e)/h)*h,x=Math.ceil((y+w+e)/h)*h,L=Math.floor((D-e)/h)*h,S=Math.ceil((D+_+e)/h)*h,O=[T,L,S,!0],U=[x,L,S,!1];o(this,Mi).push(O,U),s=Math.min(s,T),n=Math.max(n,x),u=Math.min(u,L),l=Math.max(l,S)}const d=n-s+2*r,f=l-u+2*r,p=s-r,m=u-r,v=o(this,Mi).at(i?-1:-2),E=[v[0],v[2]];for(const y of o(this,Mi)){const[D,w,_]=y;y[0]=(D-p)/d,y[1]=(w-m)/f,y[2]=(_-m)/f}b(this,El,{x:p,y:m,width:d,height:f,lastPoint:E})}getOutlines(){o(this,Mi).sort((e,r)=>e[0]-r[0]||e[1]-r[1]||e[2]-r[2]);const t=[];for(const e of o(this,Mi))e[3]?(t.push(...A(this,Dl,_f).call(this,e)),A(this,hd,qg).call(this,e)):(A(this,dd,Hg).call(this,e),t.push(...A(this,Dl,_f).call(this,e)));return A(this,cd,Og).call(this,t)}}El=new WeakMap,Mi=new WeakMap,Gt=new WeakMap,cd=new WeakSet,Og=function(t){const e=[],r=new Set;for(const n of t){const[u,l,c]=n;e.push([u,l,n],[u,c,n])}e.sort((n,u)=>n[1]-u[1]||n[0]-u[0]);for(let n=0,u=e.length;n<u;n+=2){const l=e[n][2],c=e[n+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const n=r.values().next().value;let[u,l,c,h,d]=n;r.delete(n);let f=u,p=l;for(s=[u,c],i.push(s);;){let m;if(r.has(h))m=h;else if(r.has(d))m=d;else break;r.delete(m),[u,l,c,h,d]=m,f!==u&&(s.push(f,p,u,p===l?l:c),f=u),p=p===l?c:l}s.push(f,p)}return new MA(i,o(this,El))},jn=new WeakSet,jc=function(t){const e=o(this,Gt);let r=0,i=e.length-1;for(;r<=i;){const s=r+i>>1,n=e[s][0];if(n===t)return s;n<t?r=s+1:i=s-1}return i+1},hd=new WeakSet,qg=function([,t,e]){const r=A(this,jn,jc).call(this,t);o(this,Gt).splice(r,0,[t,e])},dd=new WeakSet,Hg=function([,t,e]){const r=A(this,jn,jc).call(this,t);for(let i=r;i<o(this,Gt).length;i++){const[s,n]=o(this,Gt)[i];if(s!==t)break;if(s===t&&n===e){o(this,Gt).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,n]=o(this,Gt)[i];if(s!==t)break;if(s===t&&n===e){o(this,Gt).splice(i,1);return}}},Dl=new WeakSet,_f=function(t){const[e,r,i]=t,s=[[e,r,i]],n=A(this,jn,jc).call(this,i);for(let u=0;u<n;u++){const[l,c]=o(this,Gt)[u];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>c&&s.push([e,c,p])}}}return s};class jg{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Cf}}var wl,Un;class MA extends jg{constructor(e,r){super();g(this,wl,void 0);g(this,Un,void 0);b(this,Un,e),b(this,wl,r)}toSVGPath(){const e=[];for(const r of o(this,Un)){let[i,s]=r;e.push(`M${i} ${s}`);for(let n=2;n<r.length;n+=2){const u=r[n],l=r[n+1];u===i?(e.push(`V${l}`),s=l):l===s&&(e.push(`H${u}`),i=u)}e.push("Z")}return e.join(" ")}serialize([e,r,i,s],n){const u=[],l=i-e,c=s-r;for(const h of o(this,Un)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=e+h[f]*l,d[f+1]=s-h[f+1]*c;u.push(d)}return u}get box(){return o(this,wl)}}wl=new WeakMap,Un=new WeakMap;var lr,Vr,Vn,Gn,cr,ee,Qs,ea,_l,xl,zn,$n,Bi,Cl,fd,pd,Tl,xf;const Sr=class Sr{constructor({x:t,y:e},r,i,s,n,u=0){g(this,Tl);g(this,lr,void 0);g(this,Vr,[]);g(this,Vn,void 0);g(this,Gn,void 0);g(this,cr,[]);g(this,ee,new Float64Array(18));g(this,Qs,void 0);g(this,ea,void 0);g(this,_l,void 0);g(this,xl,void 0);g(this,zn,void 0);g(this,$n,void 0);g(this,Bi,[]);b(this,lr,r),b(this,$n,s*i),b(this,Gn,n),o(this,ee).set([NaN,NaN,NaN,NaN,t,e],6),b(this,Vn,u),b(this,xl,o(Sr,Cl)*i),b(this,_l,o(Sr,pd)*i),b(this,zn,i),o(this,Bi).push(t,e)}get free(){return!0}isEmpty(){return isNaN(o(this,ee)[8])}add({x:t,y:e}){var O;b(this,Qs,t),b(this,ea,e);const[r,i,s,n]=o(this,lr);let[u,l,c,h]=o(this,ee).subarray(8,12);const d=t-c,f=e-h,p=Math.hypot(d,f);if(p<o(this,_l))return!1;const m=p-o(this,xl),v=m/p,E=v*d,y=v*f;let D=u,w=l;u=c,l=h,c+=E,h+=y,(O=o(this,Bi))==null||O.push(t,e);const _=-y/m,T=E/m,x=_*o(this,$n),L=T*o(this,$n);return o(this,ee).set(o(this,ee).subarray(2,8),0),o(this,ee).set([c+x,h+L],4),o(this,ee).set(o(this,ee).subarray(14,18),12),o(this,ee).set([c-x,h-L],16),isNaN(o(this,ee)[6])?(o(this,cr).length===0&&(o(this,ee).set([u+x,l+L],2),o(this,cr).push(NaN,NaN,NaN,NaN,(u+x-r)/s,(l+L-i)/n),o(this,ee).set([u-x,l-L],14),o(this,Vr).push(NaN,NaN,NaN,NaN,(u-x-r)/s,(l-L-i)/n)),o(this,ee).set([D,w,u,l,c,h],6),!this.isEmpty()):(o(this,ee).set([D,w,u,l,c,h],6),Math.abs(Math.atan2(w-l,D-u)-Math.atan2(y,E))<Math.PI/2?([u,l,c,h]=o(this,ee).subarray(2,6),o(this,cr).push(NaN,NaN,NaN,NaN,((u+c)/2-r)/s,((l+h)/2-i)/n),[u,l,D,w]=o(this,ee).subarray(14,18),o(this,Vr).push(NaN,NaN,NaN,NaN,((D+u)/2-r)/s,((w+l)/2-i)/n),!0):([D,w,u,l,c,h]=o(this,ee).subarray(0,6),o(this,cr).push(((D+5*u)/6-r)/s,((w+5*l)/6-i)/n,((5*u+c)/6-r)/s,((5*l+h)/6-i)/n,((u+c)/2-r)/s,((l+h)/2-i)/n),[c,h,u,l,D,w]=o(this,ee).subarray(12,18),o(this,Vr).push(((D+5*u)/6-r)/s,((w+5*l)/6-i)/n,((5*u+c)/6-r)/s,((5*l+h)/6-i)/n,((u+c)/2-r)/s,((l+h)/2-i)/n),!0))}toSVGPath(){if(this.isEmpty())return"";const t=o(this,cr),e=o(this,Vr),r=o(this,ee).subarray(4,6),i=o(this,ee).subarray(16,18),[s,n,u,l]=o(this,lr),[c,h,d,f]=A(this,Tl,xf).call(this);if(isNaN(o(this,ee)[6])&&!this.isEmpty())return`M${(o(this,ee)[2]-s)/u} ${(o(this,ee)[3]-n)/l} L${(o(this,ee)[4]-s)/u} ${(o(this,ee)[5]-n)/l} L${c} ${h} L${d} ${f} L${(o(this,ee)[16]-s)/u} ${(o(this,ee)[17]-n)/l} L${(o(this,ee)[14]-s)/u} ${(o(this,ee)[15]-n)/l} Z`;const p=[];p.push(`M${t[4]} ${t[5]}`);for(let m=6;m<t.length;m+=6)isNaN(t[m])?p.push(`L${t[m+4]} ${t[m+5]}`):p.push(`C${t[m]} ${t[m+1]} ${t[m+2]} ${t[m+3]} ${t[m+4]} ${t[m+5]}`);p.push(`L${(r[0]-s)/u} ${(r[1]-n)/l} L${c} ${h} L${d} ${f} L${(i[0]-s)/u} ${(i[1]-n)/l}`);for(let m=e.length-6;m>=6;m-=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);return p.push(`L${e[4]} ${e[5]} Z`),p.join(" ")}getOutlines(){var y;const t=o(this,cr),e=o(this,Vr),r=o(this,ee),i=r.subarray(4,6),s=r.subarray(16,18),[n,u,l,c]=o(this,lr),h=new Float64Array((((y=o(this,Bi))==null?void 0:y.length)??0)+2);for(let D=0,w=h.length-2;D<w;D+=2)h[D]=(o(this,Bi)[D]-n)/l,h[D+1]=(o(this,Bi)[D+1]-u)/c;h[h.length-2]=(o(this,Qs)-n)/l,h[h.length-1]=(o(this,ea)-u)/c;const[d,f,p,m]=A(this,Tl,xf).call(this);if(isNaN(r[6])&&!this.isEmpty()){const D=new Float64Array(36);return D.set([NaN,NaN,NaN,NaN,(r[2]-n)/l,(r[3]-u)/c,NaN,NaN,NaN,NaN,(r[4]-n)/l,(r[5]-u)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-n)/l,(r[17]-u)/c,NaN,NaN,NaN,NaN,(r[14]-n)/l,(r[15]-u)/c],0),new Cf(D,h,o(this,lr),o(this,zn),o(this,Vn),o(this,Gn))}const v=new Float64Array(o(this,cr).length+24+o(this,Vr).length);let E=t.length;for(let D=0;D<E;D+=2){if(isNaN(t[D])){v[D]=v[D+1]=NaN;continue}v[D]=t[D],v[D+1]=t[D+1]}v.set([NaN,NaN,NaN,NaN,(i[0]-n)/l,(i[1]-u)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-n)/l,(s[1]-u)/c],E),E+=24;for(let D=e.length-6;D>=6;D-=6)for(let w=0;w<6;w+=2){if(isNaN(e[D+w])){v[E]=v[E+1]=NaN,E+=2;continue}v[E]=e[D+w],v[E+1]=e[D+w+1],E+=2}return v.set([NaN,NaN,NaN,NaN,e[4],e[5]],E),new Cf(v,h,o(this,lr),o(this,zn),o(this,Vn),o(this,Gn))}};lr=new WeakMap,Vr=new WeakMap,Vn=new WeakMap,Gn=new WeakMap,cr=new WeakMap,ee=new WeakMap,Qs=new WeakMap,ea=new WeakMap,_l=new WeakMap,xl=new WeakMap,zn=new WeakMap,$n=new WeakMap,Bi=new WeakMap,Cl=new WeakMap,fd=new WeakMap,pd=new WeakMap,Tl=new WeakSet,xf=function(){const t=o(this,ee).subarray(4,6),e=o(this,ee).subarray(16,18),[r,i,s,n]=o(this,lr);return[(o(this,Qs)+(t[0]-e[0])/2-r)/s,(o(this,ea)+(t[1]-e[1])/2-i)/n,(o(this,Qs)+(e[0]-t[0])/2-r)/s,(o(this,ea)+(e[1]-t[1])/2-i)/n]},g(Sr,Cl,8),g(Sr,fd,2),g(Sr,pd,o(Sr,Cl)+o(Sr,fd));let Ju=Sr;var Wn,ta,Gr,Sl,bt,Ll,Ae,ra,qu,ia,Hu,gd,Ug;class Cf extends jg{constructor(e,r,i,s,n,u){super();g(this,ra);g(this,ia);g(this,gd);g(this,Wn,void 0);g(this,ta,null);g(this,Gr,void 0);g(this,Sl,void 0);g(this,bt,void 0);g(this,Ll,void 0);g(this,Ae,void 0);b(this,Ae,e),b(this,bt,r),b(this,Wn,i),b(this,Ll,s),b(this,Gr,n),b(this,Sl,u),A(this,gd,Ug).call(this,u);const{x:l,y:c,width:h,height:d}=o(this,ta);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/h,e[f+1]=(e[f+1]-c)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/h,r[f+1]=(r[f+1]-c)/d}toSVGPath(){const e=[`M${o(this,Ae)[4]} ${o(this,Ae)[5]}`];for(let r=6,i=o(this,Ae).length;r<i;r+=6){if(isNaN(o(this,Ae)[r])){e.push(`L${o(this,Ae)[r+4]} ${o(this,Ae)[r+5]}`);continue}e.push(`C${o(this,Ae)[r]} ${o(this,Ae)[r+1]} ${o(this,Ae)[r+2]} ${o(this,Ae)[r+3]} ${o(this,Ae)[r+4]} ${o(this,Ae)[r+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,r,i,s],n){const u=i-e,l=s-r;let c,h;switch(n){case 0:c=A(this,ra,qu).call(this,o(this,Ae),e,s,u,-l),h=A(this,ra,qu).call(this,o(this,bt),e,s,u,-l);break;case 90:c=A(this,ia,Hu).call(this,o(this,Ae),e,r,u,l),h=A(this,ia,Hu).call(this,o(this,bt),e,r,u,l);break;case 180:c=A(this,ra,qu).call(this,o(this,Ae),i,r,-u,l),h=A(this,ra,qu).call(this,o(this,bt),i,r,-u,l);break;case 270:c=A(this,ia,Hu).call(this,o(this,Ae),i,s,-u,-l),h=A(this,ia,Hu).call(this,o(this,bt),i,s,-u,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return o(this,ta)}getNewOutline(e,r){const{x:i,y:s,width:n,height:u}=o(this,ta),[l,c,h,d]=o(this,Wn),f=n*h,p=u*d,m=i*h+l,v=s*d+c,E=new Ju({x:o(this,bt)[0]*f+m,y:o(this,bt)[1]*p+v},o(this,Wn),o(this,Ll),e,o(this,Sl),r??o(this,Gr));for(let y=2;y<o(this,bt).length;y+=2)E.add({x:o(this,bt)[y]*f+m,y:o(this,bt)[y+1]*p+v});return E.getOutlines()}}Wn=new WeakMap,ta=new WeakMap,Gr=new WeakMap,Sl=new WeakMap,bt=new WeakMap,Ll=new WeakMap,Ae=new WeakMap,ra=new WeakSet,qu=function(e,r,i,s,n){const u=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)u[l]=r+e[l]*s,u[l+1]=i+e[l+1]*n;return u},ia=new WeakSet,Hu=function(e,r,i,s,n){const u=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)u[l]=r+e[l+1]*s,u[l+1]=i+e[l]*n;return u},gd=new WeakSet,Ug=function(e){const r=o(this,Ae);let i=r[4],s=r[5],n=i,u=s,l=i,c=s,h=i,d=s;const f=e?Math.max:Math.min;for(let y=6,D=r.length;y<D;y+=6){if(isNaN(r[y]))n=Math.min(n,r[y+4]),u=Math.min(u,r[y+5]),l=Math.max(l,r[y+4]),c=Math.max(c,r[y+5]),d<r[y+5]?(h=r[y+4],d=r[y+5]):d===r[y+5]&&(h=f(h,r[y+4]));else{const w=q.bezierBoundingBox(i,s,...r.slice(y,y+6));n=Math.min(n,w[0]),u=Math.min(u,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),d<w[3]?(h=w[2],d=w[3]):d===w[3]&&(h=f(h,w[2]))}i=r[y+4],s=r[y+5]}const p=n-o(this,Gr),m=u-o(this,Gr),v=l-n+2*o(this,Gr),E=c-u+2*o(this,Gr);b(this,ta,{x:p,y:m,width:v,height:E,lastPoint:[h,d]})};var Nl,Fl,zt,sa,Xn,Te,Rl,Yn,kl,Pl,$t,Kn,Ml,Bl,Tf,Il,Sf,md,Vg,zr,as,bd,Gg,hr,ci;const rt=class rt{constructor({editor:t=null,uiManager:e=null}){g(this,Bl);g(this,Il);g(this,md);g(this,zr);g(this,bd);g(this,hr);g(this,Nl,A(this,md,Vg).bind(this));g(this,Fl,A(this,bd,Gg).bind(this));g(this,zt,null);g(this,sa,null);g(this,Xn,void 0);g(this,Te,null);g(this,Rl,!1);g(this,Yn,!1);g(this,kl,null);g(this,Pl,void 0);g(this,$t,null);g(this,Kn,void 0);var r;t?(b(this,Yn,!1),b(this,Kn,W.HIGHLIGHT_COLOR),b(this,kl,t)):(b(this,Yn,!0),b(this,Kn,W.HIGHLIGHT_DEFAULT_COLOR)),b(this,$t,(t==null?void 0:t._uiManager)||e),b(this,Pl,o(this,$t)._eventBus),b(this,Xn,(t==null?void 0:t.color)||((r=o(this,$t))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),o(rt,Ml)||b(rt,Ml,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return re(this,"_keyboardManager",new uc([[["Escape","mac+Escape"],rt.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],rt.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],rt.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],rt.prototype._moveToPrevious],[["Home","mac+Home"],rt.prototype._moveToBeginning],[["End","mac+End"],rt.prototype._moveToEnd]]))}renderButton(){const t=b(this,zt,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=o(this,$t)._signal;t.addEventListener("click",A(this,zr,as).bind(this),{signal:e}),t.addEventListener("keydown",o(this,Nl),{signal:e});const r=b(this,sa,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=o(this,Xn),t.append(r),t}renderMainDropdown(){const t=b(this,Te,A(this,Bl,Tf).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===o(this,zt)){A(this,zr,as).call(this,t);return}const e=t.target.getAttribute("data-color");e&&A(this,Il,Sf).call(this,e,t)}_moveToNext(t){var e,r;if(!o(this,hr,ci)){A(this,zr,as).call(this,t);return}if(t.target===o(this,zt)){(e=o(this,Te).firstChild)==null||e.focus();return}(r=t.target.nextSibling)==null||r.focus()}_moveToPrevious(t){var e,r;if(t.target===((e=o(this,Te))==null?void 0:e.firstChild)||t.target===o(this,zt)){o(this,hr,ci)&&this._hideDropdownFromKeyboard();return}o(this,hr,ci)||A(this,zr,as).call(this,t),(r=t.target.previousSibling)==null||r.focus()}_moveToBeginning(t){var e;if(!o(this,hr,ci)){A(this,zr,as).call(this,t);return}(e=o(this,Te).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!o(this,hr,ci)){A(this,zr,as).call(this,t);return}(e=o(this,Te).lastChild)==null||e.focus()}hideDropdown(){var t;(t=o(this,Te))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",o(this,Fl))}_hideDropdownFromKeyboard(){var t;if(!o(this,Yn)){if(!o(this,hr,ci)){(t=o(this,kl))==null||t.unselect();return}this.hideDropdown(),o(this,zt).focus({preventScroll:!0,focusVisible:o(this,Rl)})}}updateColor(t){if(o(this,sa)&&(o(this,sa).style.backgroundColor=t),!o(this,Te))return;const e=o(this,$t).highlightColors.values();for(const r of o(this,Te).children)r.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=o(this,zt))==null||t.remove(),b(this,zt,null),b(this,sa,null),(e=o(this,Te))==null||e.remove(),b(this,Te,null)}};Nl=new WeakMap,Fl=new WeakMap,zt=new WeakMap,sa=new WeakMap,Xn=new WeakMap,Te=new WeakMap,Rl=new WeakMap,Yn=new WeakMap,kl=new WeakMap,Pl=new WeakMap,$t=new WeakMap,Kn=new WeakMap,Ml=new WeakMap,Bl=new WeakSet,Tf=function(){const t=document.createElement("div"),e=o(this,$t)._signal;t.addEventListener("contextmenu",Ft,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of o(this,$t).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",o(rt,Ml)[r]);const n=document.createElement("span");s.append(n),n.className="swatch",n.style.backgroundColor=i,s.setAttribute("aria-selected",i===o(this,Xn)),s.addEventListener("click",A(this,Il,Sf).bind(this,i),{signal:e}),t.append(s)}return t.addEventListener("keydown",o(this,Nl),{signal:e}),t},Il=new WeakSet,Sf=function(t,e){e.stopPropagation(),o(this,Pl).dispatch("switchannotationeditorparams",{source:this,type:o(this,Kn),value:t})},md=new WeakSet,Vg=function(t){rt._keyboardManager.exec(this,t)},zr=new WeakSet,as=function(t){if(o(this,hr,ci)){this.hideDropdown();return}if(b(this,Rl,t.detail===0),window.addEventListener("pointerdown",o(this,Fl),{signal:o(this,$t)._signal}),o(this,Te)){o(this,Te).classList.remove("hidden");return}const e=b(this,Te,A(this,Bl,Tf).call(this));o(this,zt).append(e)},bd=new WeakSet,Gg=function(t){var e;(e=o(this,Te))!=null&&e.contains(t.target)||this.hideDropdown()},hr=new WeakSet,ci=function(){return o(this,Te)&&!o(this,Te).classList.contains("hidden")},g(rt,Ml,null);let th=rt;var Jn,Ol,$r,aa,Zn,St,ql,Hl,na,Wt,We,at,Qn,Wr,Se,eu,Lt,jl,Ul,Lf,tu,Uc,Ad,zg,vd,$g,yd,Wg,Vl,Nf,Xr,ns,Ii,Ma,Ed,Xg,ru,Vc,ua,ju,Dd,Yg,wd,Kg,_d,Jg,xd,Zg,Cd,Qg;const se=class se extends ne{constructor(e){super({...e,name:"highlightEditor"});g(this,Ul);g(this,tu);g(this,Ad);g(this,vd);g(this,yd);g(this,Vl);g(this,Xr);g(this,Ed);g(this,ru);g(this,ua);g(this,Dd);g(this,wd);g(this,Cd);g(this,Jn,null);g(this,Ol,0);g(this,$r,void 0);g(this,aa,null);g(this,Zn,null);g(this,St,null);g(this,ql,null);g(this,Hl,0);g(this,na,null);g(this,Wt,null);g(this,We,null);g(this,at,!1);g(this,Qn,null);g(this,Wr,void 0);g(this,Se,null);g(this,eu,"");g(this,Lt,void 0);g(this,jl,"");this.color=e.color||se._defaultColor,b(this,Lt,e.thickness||se._defaultThickness),b(this,Wr,e.opacity||se._defaultOpacity),b(this,$r,e.boxes||null),b(this,jl,e.methodOfCreation||""),b(this,eu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(b(this,at,!0),A(this,tu,Uc).call(this,e),A(this,Xr,ns).call(this)):o(this,$r)&&(b(this,Jn,e.anchorNode),b(this,Ol,e.anchorOffset),b(this,ql,e.focusNode),b(this,Hl,e.focusOffset),A(this,Ul,Lf).call(this),A(this,Xr,ns).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=se.prototype;return re(this,"_keyboardManager",new uc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:o(this,at)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:o(this,Lt),methodOfCreation:o(this,jl)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,r){var i;ne.initialize(e,r),se._defaultColor||(se._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,r){switch(e){case W.HIGHLIGHT_DEFAULT_COLOR:se._defaultColor=r;break;case W.HIGHLIGHT_THICKNESS:se._defaultThickness=r;break}}translateInPage(e,r){}get toolbarPosition(){return o(this,Qn)}updateParams(e,r){switch(e){case W.HIGHLIGHT_COLOR:A(this,Ad,zg).call(this,r);break;case W.HIGHLIGHT_THICKNESS:A(this,vd,$g).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[W.HIGHLIGHT_DEFAULT_COLOR,se._defaultColor],[W.HIGHLIGHT_THICKNESS,se._defaultThickness]]}get propertiesToUpdate(){return[[W.HIGHLIGHT_COLOR,this.color||se._defaultColor],[W.HIGHLIGHT_THICKNESS,o(this,Lt)||se._defaultThickness],[W.HIGHLIGHT_FREE,o(this,at)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(b(this,Zn,new th({editor:this})),e.addColorPicker(o(this,Zn))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,ua,ju).call(this))}getBaseTranslation(){return[0,0]}getRect(e,r){return super.getRect(e,r,A(this,ua,ju).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,Vl,Nf).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,Xr,ns).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let r=!1;this.parent&&!e?A(this,Vl,Nf).call(this):e&&(A(this,Xr,ns).call(this,e),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),r&&this.select()}rotate(e){var s,n,u;const{drawLayer:r}=this.parent;let i;o(this,at)?(e=(e-this.rotation+360)%360,i=A(s=se,Ii,Ma).call(s,o(this,Wt).box,e)):i=A(n=se,Ii,Ma).call(n,this,e),r.rotate(o(this,We),e),r.rotate(o(this,Se),e),r.updateBox(o(this,We),i),r.updateBox(o(this,Se),A(u=se,Ii,Ma).call(u,o(this,St).box,e))}render(){if(this.div)return this.div;const e=super.render();o(this,eu)&&(e.setAttribute("aria-label",o(this,eu)),e.setAttribute("role","mark")),o(this,at)?e.classList.add("free"):this.div.addEventListener("keydown",A(this,Ed,Xg).bind(this),{signal:this._uiManager._signal});const r=b(this,na,document.createElement("div"));e.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=o(this,aa);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Qc(this,o(this,na),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(o(this,Se),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(o(this,Se),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:A(this,ru,Vc).call(this,!0);break;case 1:case 3:A(this,ru,Vc).call(this,!1);break}}select(){var e,r;super.select(),o(this,Se)&&((e=this.parent)==null||e.drawLayer.removeClass(o(this,Se),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(o(this,Se),"selected"))}unselect(){var e;super.unselect(),o(this,Se)&&((e=this.parent)==null||e.drawLayer.removeClass(o(this,Se),"selected"),o(this,at)||A(this,ru,Vc).call(this,!1))}get _mustFixPosition(){return!o(this,at)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(o(this,We),e),this.parent.drawLayer.show(o(this,Se),e))}static startHighlighting(e,r,{target:i,x:s,y:n}){const{x:u,y:l,width:c,height:h}=i.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=v=>{v.preventDefault(),v.stopPropagation()},m=v=>{d.abort(),A(this,xd,Zg).call(this,e,v)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",p,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ft,{signal:f}),i.addEventListener("pointermove",A(this,_d,Jg).bind(this,e),{signal:f}),this._freeHighlight=new Ju({x:s,y:n},[u,l,c,h],e.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,r,i){var v,E,y,D;let s=null;if(e instanceof Ng){const{data:{quadPoints:w,rect:_,rotation:T,id:x,color:L,opacity:S,popupRef:O},parent:{page:{pageNumber:U}}}=e;s=e={annotationType:K.HIGHLIGHT,color:Array.from(L),opacity:S,quadPoints:w,boxes:null,pageIndex:U-1,rect:_.slice(0),rotation:T,id:x,deleted:!1,popupRef:O}}else if(e instanceof g2){const{data:{inkLists:w,rect:_,rotation:T,id:x,color:L,borderStyle:{rawWidth:S},popupRef:O},parent:{page:{pageNumber:U}}}=e;s=e={annotationType:K.HIGHLIGHT,color:Array.from(L),thickness:S,inkLists:w,boxes:null,pageIndex:U-1,rect:_.slice(0),rotation:T,id:x,deleted:!1,popupRef:O}}const{color:n,quadPoints:u,inkLists:l,opacity:c}=e,h=await super.deserialize(e,r,i);h.color=q.makeHexColor(...n),b(h,Wr,c||1),l&&b(h,Lt,e.thickness),h.annotationElementId=e.id||null,h._initialData=s;const[d,f]=h.pageDimensions,[p,m]=h.pageTranslation;if(u){const w=b(h,$r,[]);for(let _=0;_<u.length;_+=8)w.push({x:(u[_]-p)/d,y:1-(u[_+1]-m)/f,width:(u[_+2]-u[_])/d,height:(u[_+1]-u[_+5])/f});A(v=h,Ul,Lf).call(v),A(E=h,Xr,ns).call(E),h.rotate(h.rotation)}else if(l){b(h,at,!0);const w=l[0],_={x:w[0]-p,y:f-(w[1]-m)},T=new Ju(_,[0,0,d,f],1,o(h,Lt)/2,!0,.001);for(let S=0,O=w.length;S<O;S+=2)_.x=w[S]-p,_.y=f-(w[S+1]-m),T.add(_);const{id:x,clipPathId:L}=r.drawLayer.highlight(T,h.color,h._defaultOpacity,!0);A(y=h,tu,Uc).call(y,{highlightOutlines:T.getOutlines(),highlightId:x,clipPathId:L}),A(D=h,Xr,ns).call(D)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=ne._colorManager.convert(this.color),s={annotationType:K.HIGHLIGHT,color:i,opacity:o(this,Wr),thickness:o(this,Lt),quadPoints:A(this,Dd,Yg).call(this),outlines:A(this,wd,Kg).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:A(this,ua,ju).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,Cd,Qg).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Jn=new WeakMap,Ol=new WeakMap,$r=new WeakMap,aa=new WeakMap,Zn=new WeakMap,St=new WeakMap,ql=new WeakMap,Hl=new WeakMap,na=new WeakMap,Wt=new WeakMap,We=new WeakMap,at=new WeakMap,Qn=new WeakMap,Wr=new WeakMap,Se=new WeakMap,eu=new WeakMap,Lt=new WeakMap,jl=new WeakMap,Ul=new WeakSet,Lf=function(){const e=new rp(o(this,$r),.001);b(this,Wt,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=o(this,Wt).box;const r=new rp(o(this,$r),.0025,.001,this._uiManager.direction==="ltr");b(this,St,r.getOutlines());const{lastPoint:i}=o(this,St).box;b(this,Qn,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},tu=new WeakSet,Uc=function({highlightOutlines:e,highlightId:r,clipPathId:i}){var d,f;b(this,Wt,e);const s=1.5;if(b(this,St,e.getNewOutline(o(this,Lt)/2+s,.0025)),r>=0)b(this,We,r),b(this,aa,i),this.parent.drawLayer.finalizeLine(r,e),b(this,Se,this.parent.drawLayer.highlightOutline(o(this,St)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(o(this,We),e),this.parent.drawLayer.updateBox(o(this,We),A(d=se,Ii,Ma).call(d,o(this,Wt).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(o(this,Se),o(this,St)),this.parent.drawLayer.updateBox(o(this,Se),A(f=se,Ii,Ma).call(f,o(this,St).box,p))}const{x:n,y:u,width:l,height:c}=e.box;switch(this.rotation){case 0:this.x=n,this.y=u,this.width=l,this.height=c;break;case 90:{const[p,m]=this.parentDimensions;this.x=u,this.y=1-n,this.width=l*m/p,this.height=c*p/m;break}case 180:this.x=1-n,this.y=1-u,this.width=l,this.height=c;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-u,this.y=n,this.width=l*m/p,this.height=c*p/m;break}}const{lastPoint:h}=o(this,St).box;b(this,Qn,[(h[0]-n)/l,(h[1]-u)/c])},Ad=new WeakSet,zg=function(e){const r=(n,u)=>{var l,c,h;this.color=n,(l=this.parent)==null||l.drawLayer.changeColor(o(this,We),n),(c=o(this,Zn))==null||c.updateColor(n),b(this,Wr,u),(h=this.parent)==null||h.drawLayer.changeOpacity(o(this,We),u)},i=this.color,s=o(this,Wr);this.addCommands({cmd:r.bind(this,e,se._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},vd=new WeakSet,$g=function(e){const r=o(this,Lt),i=s=>{b(this,Lt,s),A(this,yd,Wg).call(this,s)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},yd=new WeakSet,Wg=function(e){if(!o(this,at))return;A(this,tu,Uc).call(this,{highlightOutlines:o(this,Wt).getNewOutline(e/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},Vl=new WeakSet,Nf=function(){o(this,We)===null||!this.parent||(this.parent.drawLayer.remove(o(this,We)),b(this,We,null),this.parent.drawLayer.remove(o(this,Se)),b(this,Se,null))},Xr=new WeakSet,ns=function(e=this.parent){o(this,We)===null&&({id:Je(this,We)._,clipPathId:Je(this,aa)._}=e.drawLayer.highlight(o(this,Wt),this.color,o(this,Wr)),b(this,Se,e.drawLayer.highlightOutline(o(this,St))),o(this,na)&&(o(this,na).style.clipPath=o(this,aa)))},Ii=new WeakSet,Ma=function({x:e,y:r,width:i,height:s},n){switch(n){case 90:return{x:1-r-s,y:e,width:s,height:i};case 180:return{x:1-e-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-e-i,width:s,height:i}}return{x:e,y:r,width:i,height:s}},Ed=new WeakSet,Xg=function(e){se._keyboardManager.exec(this,e)},ru=new WeakSet,Vc=function(e){if(!o(this,Jn))return;const r=window.getSelection();e?r.setPosition(o(this,Jn),o(this,Ol)):r.setPosition(o(this,ql),o(this,Hl))},ua=new WeakSet,ju=function(){return o(this,at)?this.rotation:0},Dd=new WeakSet,Yg=function(){if(o(this,at))return null;const[e,r]=this.pageDimensions,[i,s]=this.pageTranslation,n=o(this,$r),u=new Float32Array(n.length*8);let l=0;for(const{x:c,y:h,width:d,height:f}of n){const p=c*e+i,m=(1-h-f)*r+s;u[l]=u[l+4]=p,u[l+1]=u[l+3]=m,u[l+2]=u[l+6]=p+d*e,u[l+5]=u[l+7]=m+f*r,l+=8}return u},wd=new WeakSet,Kg=function(e){return o(this,Wt).serialize(e,A(this,ua,ju).call(this))},_d=new WeakSet,Jg=function(e,r){this._freeHighlight.add(r)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},xd=new WeakSet,Zg=function(e,r){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Cd=new WeakSet,Qg=function(e){const{color:r}=this._initialData;return e.color.some((i,s)=>i!==r[s])},g(se,Ii),g(se,_d),g(se,xd),$(se,"_defaultColor",null),$(se,"_defaultOpacity",1),$(se,"_defaultThickness",12),$(se,"_type","highlight"),$(se,"_editorType",K.HIGHLIGHT),$(se,"_freeHighlightId",-1),$(se,"_freeHighlight",null),$(se,"_freeHighlightClipId","");let rh=se;var oa,la,dr,Yr,Nt,ca,ha,da,Kr,iu,fa,pa,Oi,Td,e1,Sd,t1,Ld,r1,Nd,i1,Gl,Rf,Fd,s1,zl,kf,Rd,a1,kd,n1,Pd,u1,Md,o1,Bd,l1,Jr,us,$l,Pf,Wl,Mf,Xl,Bf,su,Gc,au,zc,qi,Ba,Yl,If,nu,$c,Id,c1,Kl,Of,Od,h1,qd,d1,Jl,qf,uu,Wc,ga,Uu;const ce=class ce extends ne{constructor(e){super({...e,name:"inkEditor"});g(this,Td);g(this,Sd);g(this,Ld);g(this,Nd);g(this,Gl);g(this,Fd);g(this,zl);g(this,Rd);g(this,kd);g(this,Pd);g(this,Md);g(this,Bd);g(this,Jr);g(this,$l);g(this,Wl);g(this,Xl);g(this,su);g(this,au);g(this,qi);g(this,Yl);g(this,nu);g(this,qd);g(this,Jl);g(this,uu);g(this,ga);g(this,oa,0);g(this,la,0);g(this,dr,null);g(this,Yr,new Path2D);g(this,Nt,!1);g(this,ca,null);g(this,ha,!1);g(this,da,!1);g(this,Kr,null);g(this,iu,null);g(this,fa,0);g(this,pa,0);g(this,Oi,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,r){ne.initialize(e,r)}static updateDefaultParams(e,r){switch(e){case W.INK_THICKNESS:ce._defaultThickness=r;break;case W.INK_COLOR:ce._defaultColor=r;break;case W.INK_OPACITY:ce._defaultOpacity=r/100;break}}updateParams(e,r){switch(e){case W.INK_THICKNESS:A(this,Td,e1).call(this,r);break;case W.INK_COLOR:A(this,Sd,t1).call(this,r);break;case W.INK_OPACITY:A(this,Ld,r1).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[W.INK_THICKNESS,ce._defaultThickness],[W.INK_COLOR,ce._defaultColor||ne._defaultLineColor],[W.INK_OPACITY,Math.round(ce._defaultOpacity*100)]]}get propertiesToUpdate(){return[[W.INK_THICKNESS,this.thickness||ce._defaultThickness],[W.INK_COLOR,this.color||ce._defaultColor||ne._defaultLineColor],[W.INK_OPACITY,Math.round(100*(this.opacity??ce._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,su,Gc).call(this),A(this,au,zc).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,qi,Ba).call(this)),A(this,ga,Uu).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,o(this,dr)&&(clearTimeout(o(this,dr)),b(this,dr,null)),(e=o(this,Kr))==null||e.disconnect(),b(this,Kr,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,r]=this.parentDimensions,i=this.width*e,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){o(this,Nt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,A(this,$l,Pf).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),A(this,Wl,Mf).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){o(this,Nt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,Nt,!0),this.div.classList.add("disabled"),A(this,ga,Uu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||o(this,Nt)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,Fd,s1).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),A(this,zl,kf).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),A(this,Xl,Bf).call(this,e)}canvasPointerleave(e){A(this,Xl,Bf).call(this,e)}get isResizable(){return!this.isEmpty()&&o(this,Nt)}render(){if(this.div)return this.div;let e,r;this.width&&(e=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,n,u]=A(this,Nd,i1).call(this);if(this.setAt(i,s,0,0),this.setDims(n,u),A(this,su,Gc).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(e*l,r*c,this.width*l,this.height*c),b(this,da,!0),A(this,qi,Ba).call(this),this.setDims(this.width*l,this.height*c),A(this,Jr,us).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,au,zc).call(this),this.div}setDimensions(e,r){const i=Math.round(e),s=Math.round(r);if(o(this,fa)===i&&o(this,pa)===s)return;b(this,fa,i),b(this,pa,s),this.canvas.style.visibility="hidden";const[n,u]=this.parentDimensions;this.width=e/n,this.height=r/u,this.fixAndSetPosition(),o(this,Nt)&&A(this,Yl,If).call(this,e,r),A(this,qi,Ba).call(this),A(this,Jr,us).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,r,i){var E,y,D;if(e instanceof g2)return null;const s=await super.deserialize(e,r,i);s.thickness=e.thickness,s.color=q.makeHexColor(...e.color),s.opacity=e.opacity;const[n,u]=s.pageDimensions,l=s.width*n,c=s.height*u,h=s.parentScale,d=e.thickness/2;b(s,Nt,!0),b(s,fa,Math.round(l)),b(s,pa,Math.round(c));const{paths:f,rect:p,rotation:m}=e;for(let{bezier:w}of f){w=A(E=ce,Od,h1).call(E,w,p,m);const _=[];s.paths.push(_);let T=h*(w[0]-d),x=h*(w[1]-d);for(let S=2,O=w.length;S<O;S+=6){const U=h*(w[S]-d),C=h*(w[S+1]-d),F=h*(w[S+2]-d),N=h*(w[S+3]-d),R=h*(w[S+4]-d),M=h*(w[S+5]-d);_.push([[T,x],[U,C],[F,N],[R,M]]),T=R,x=M}const L=A(this,Id,c1).call(this,_);s.bezierPath2D.push(L)}const v=A(y=s,Jl,qf).call(y);return b(s,la,Math.max(ne.MIN_SIZE,v[2]-v[0])),b(s,oa,Math.max(ne.MIN_SIZE,v[3]-v[1])),A(D=s,Yl,If).call(D,l,c),s}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),r=ne._colorManager.convert(this.ctx.strokeStyle);return{annotationType:K.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:A(this,qd,d1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};oa=new WeakMap,la=new WeakMap,dr=new WeakMap,Yr=new WeakMap,Nt=new WeakMap,ca=new WeakMap,ha=new WeakMap,da=new WeakMap,Kr=new WeakMap,iu=new WeakMap,fa=new WeakMap,pa=new WeakMap,Oi=new WeakMap,Td=new WeakSet,e1=function(e){const r=s=>{this.thickness=s,A(this,ga,Uu).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Sd=new WeakSet,t1=function(e){const r=s=>{this.color=s,A(this,Jr,us).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ld=new WeakSet,r1=function(e){const r=s=>{this.opacity=s,A(this,Jr,us).call(this)};e/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Nd=new WeakSet,i1=function(){const{parentRotation:e,parentDimensions:[r,i]}=this;switch(e){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},Gl=new WeakSet,Rf=function(){const{ctx:e,color:r,opacity:i,thickness:s,parentScale:n,scaleFactor:u}=this;e.lineWidth=s*n/u,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${r}${ub(i)}`},Fd=new WeakSet,s1=function(e,r){this.canvas.addEventListener("contextmenu",Ft,{signal:this._uiManager._signal}),A(this,Wl,Mf).call(this),b(this,ca,new AbortController);const i=this._uiManager.combinedSignal(o(this,ca));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,o(this,da)||(b(this,da,!0),A(this,qi,Ba).call(this),this.thickness||(this.thickness=ce._defaultThickness),this.color||(this.color=ce._defaultColor||ne._defaultLineColor),this.opacity??(this.opacity=ce._defaultOpacity)),this.currentPath.push([e,r]),b(this,ha,!1),A(this,Gl,Rf).call(this),b(this,Oi,()=>{A(this,Pd,u1).call(this),o(this,Oi)&&window.requestAnimationFrame(o(this,Oi))}),window.requestAnimationFrame(o(this,Oi))},zl=new WeakSet,kf=function(e,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&r===s)return;const n=this.currentPath;let u=o(this,Yr);if(n.push([e,r]),b(this,ha,!0),n.length<=2){u.moveTo(...n[0]),u.lineTo(e,r);return}n.length===3&&(b(this,Yr,u=new Path2D),u.moveTo(...n[0])),A(this,Md,o1).call(this,u,...n.at(-3),...n.at(-2),e,r)},Rd=new WeakSet,a1=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);o(this,Yr).lineTo(...e)},kd=new WeakSet,n1=function(e,r){b(this,Oi,null),e=Math.min(Math.max(e,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),A(this,zl,kf).call(this,e,r),A(this,Rd,a1).call(this);let i;if(this.currentPath.length!==1)i=A(this,Bd,l1).call(this);else{const c=[e,r];i=[[c,c.slice(),c.slice(),c]]}const s=o(this,Yr),n=this.currentPath;this.currentPath=[],b(this,Yr,new Path2D);const u=()=>{this.allRawPaths.push(n),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,su,Gc).call(this),A(this,au,zc).call(this)),A(this,ga,Uu).call(this))};this.addCommands({cmd:u,undo:l,mustExec:!0})},Pd=new WeakSet,u1=function(){if(!o(this,ha))return;b(this,ha,!1);const e=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(u=>u[0]),s=r.map(u=>u[1]);Math.min(...i)-e,Math.max(...i)+e,Math.min(...s)-e,Math.max(...s)+e;const{ctx:n}=this;n.save(),n.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)n.stroke(u);n.stroke(o(this,Yr)),n.restore()},Md=new WeakSet,o1=function(e,r,i,s,n,u,l){const c=(r+s)/2,h=(i+n)/2,d=(s+u)/2,f=(n+l)/2;e.bezierCurveTo(c+2*(s-c)/3,h+2*(n-h)/3,d+2*(s-d)/3,f+2*(n-f)/3,d,f)},Bd=new WeakSet,l1=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const r=[];let i,[s,n]=e[0];for(i=1;i<e.length-2;i++){const[p,m]=e[i],[v,E]=e[i+1],y=(p+v)/2,D=(m+E)/2,w=[s+2*(p-s)/3,n+2*(m-n)/3],_=[y+2*(p-y)/3,D+2*(m-D)/3];r.push([[s,n],w,_,[y,D]]),[s,n]=[y,D]}const[u,l]=e[i],[c,h]=e[i+1],d=[s+2*(u-s)/3,n+2*(l-n)/3],f=[c+2*(u-c)/3,h+2*(l-h)/3];return r.push([[s,n],d,f,[c,h]]),r},Jr=new WeakSet,us=function(){if(this.isEmpty()){A(this,nu,$c).call(this);return}A(this,Gl,Rf).call(this);const{canvas:e,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),A(this,nu,$c).call(this);for(const i of this.bezierPath2D)r.stroke(i)},$l=new WeakSet,Pf=function(){if(o(this,iu))return;b(this,iu,new AbortController);const e=this._uiManager.combinedSignal(o(this,iu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Wl=new WeakSet,Mf=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Xl=new WeakSet,Bf=function(e){var r;(r=o(this,ca))==null||r.abort(),b(this,ca,null),A(this,$l,Pf).call(this),o(this,dr)&&clearTimeout(o(this,dr)),b(this,dr,setTimeout(()=>{b(this,dr,null),this.canvas.removeEventListener("contextmenu",Ft)},10)),A(this,kd,n1).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},su=new WeakSet,Gc=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},au=new WeakSet,zc=function(){b(this,Kr,new ResizeObserver(e=>{const r=e[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),o(this,Kr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=o(this,Kr))==null||e.disconnect(),b(this,Kr,null)},{once:!0})},qi=new WeakSet,Ba=function(){if(!o(this,da))return;const[e,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*r),A(this,nu,$c).call(this)},Yl=new WeakSet,If=function(e,r){const i=A(this,uu,Wc).call(this),s=(e-i)/o(this,la),n=(r-i)/o(this,oa);this.scaleFactor=Math.min(s,n)},nu=new WeakSet,$c=function(){const e=A(this,uu,Wc).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Id=new WeakSet,c1=function(e){const r=new Path2D;for(let i=0,s=e.length;i<s;i++){const[n,u,l,c]=e[i];i===0&&r.moveTo(...n),r.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}return r},Kl=new WeakSet,Of=function(e,r,i){const[s,n,u,l]=r;switch(i){case 0:for(let c=0,h=e.length;c<h;c+=2)e[c]+=s,e[c+1]=l-e[c+1];break;case 90:for(let c=0,h=e.length;c<h;c+=2){const d=e[c];e[c]=e[c+1]+s,e[c+1]=d+n}break;case 180:for(let c=0,h=e.length;c<h;c+=2)e[c]=u-e[c],e[c+1]+=n;break;case 270:for(let c=0,h=e.length;c<h;c+=2){const d=e[c];e[c]=u-e[c+1],e[c+1]=l-d}break;default:throw new Error("Invalid rotation")}return e},Od=new WeakSet,h1=function(e,r,i){const[s,n,u,l]=r;switch(i){case 0:for(let c=0,h=e.length;c<h;c+=2)e[c]-=s,e[c+1]=l-e[c+1];break;case 90:for(let c=0,h=e.length;c<h;c+=2){const d=e[c];e[c]=e[c+1]-n,e[c+1]=d-s}break;case 180:for(let c=0,h=e.length;c<h;c+=2)e[c]=u-e[c],e[c+1]-=n;break;case 270:for(let c=0,h=e.length;c<h;c+=2){const d=e[c];e[c]=l-e[c+1],e[c+1]=u-d}break;default:throw new Error("Invalid rotation")}return e},qd=new WeakSet,d1=function(e,r,i,s){var h,d;const n=[],u=this.thickness/2,l=e*r+u,c=e*i+u;for(const f of this.paths){const p=[],m=[];for(let v=0,E=f.length;v<E;v++){const[y,D,w,_]=f[v];if(y[0]===_[0]&&y[1]===_[1]&&E===1){const N=e*y[0]+l,R=e*y[1]+c;p.push(N,R),m.push(N,R);break}const T=e*y[0]+l,x=e*y[1]+c,L=e*D[0]+l,S=e*D[1]+c,O=e*w[0]+l,U=e*w[1]+c,C=e*_[0]+l,F=e*_[1]+c;v===0&&(p.push(T,x),m.push(T,x)),p.push(L,S,O,U,C,F),m.push(L,S),v===E-1&&m.push(C,F)}n.push({bezier:A(h=ce,Kl,Of).call(h,p,s,this.rotation),points:A(d=ce,Kl,Of).call(d,m,s,this.rotation)})}return n},Jl=new WeakSet,qf=function(){let e=1/0,r=-1/0,i=1/0,s=-1/0;for(const n of this.paths)for(const[u,l,c,h]of n){const d=q.bezierBoundingBox(...u,...l,...c,...h);e=Math.min(e,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),s=Math.max(s,d[3])}return[e,i,r,s]},uu=new WeakSet,Wc=function(){return o(this,Nt)?Math.ceil(this.thickness*this.parentScale):0},ga=new WeakSet,Uu=function(e=!1){if(this.isEmpty())return;if(!o(this,Nt)){A(this,Jr,us).call(this);return}const r=A(this,Jl,qf).call(this),i=A(this,uu,Wc).call(this);b(this,la,Math.max(ne.MIN_SIZE,r[2]-r[0])),b(this,oa,Math.max(ne.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+o(this,la)*this.scaleFactor),n=Math.ceil(i+o(this,oa)*this.scaleFactor),[u,l]=this.parentDimensions;this.width=s/u,this.height=n/l,this.setAspectRatio(s,n);const c=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],A(this,qi,Ba).call(this),A(this,Jr,us).call(this),b(this,fa,s),b(this,pa,n),this.setDims(s,n);const d=e?i/this.scaleFactor/2:0;this.translate(c-this.translationX-d,h-this.translationY-d)},g(ce,Id),g(ce,Kl),g(ce,Od),$(ce,"_defaultColor",null),$(ce,"_defaultOpacity",1),$(ce,"_defaultThickness",1),$(ce,"_type","ink"),$(ce,"_editorType",K.INK);let Ff=ce;var pe,Ue,Hi,Zr,ji,ou,fr,Qr,pr,At,lu,ma,Vu,ba,Gu,cu,Xc,Zl,jf,Hd,f1,hu,Yc,Ql,Uf,du,Kc,jd,p1,Ud,g1;const Xu=class Xu extends ne{constructor(e){super({...e,name:"stampEditor"});g(this,ma);g(this,ba);g(this,cu);g(this,Zl);g(this,Hd);g(this,hu);g(this,Ql);g(this,du);g(this,jd);g(this,Ud);g(this,pe,null);g(this,Ue,null);g(this,Hi,null);g(this,Zr,null);g(this,ji,null);g(this,ou,"");g(this,fr,null);g(this,Qr,null);g(this,pr,null);g(this,At,!1);g(this,lu,!1);b(this,Zr,e.bitmapUrl),b(this,ji,e.bitmapFile)}static initialize(e,r){ne.initialize(e,r)}static get supportedTypes(){return re(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return re(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,r){r.pasteEditor(K.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const r=e.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(e=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:n,height:u}=e||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:n,height:u,channels:s.length/(n*u)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var e,r;o(this,Ue)&&(b(this,pe,null),this._uiManager.imageManager.deleteId(o(this,Ue)),(e=o(this,fr))==null||e.remove(),b(this,fr,null),(r=o(this,Qr))==null||r.disconnect(),b(this,Qr,null),o(this,pr)&&(clearTimeout(o(this,pr)),b(this,pr,null))),super.remove()}rebuild(){if(!this.parent){o(this,Ue)&&A(this,cu,Xc).call(this);return}super.rebuild(),this.div!==null&&(o(this,Ue)&&o(this,fr)===null&&A(this,cu,Xc).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(o(this,Hi)||o(this,pe)||o(this,Zr)||o(this,ji)||o(this,Ue))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,r;if(this.width&&(e=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),o(this,pe)?A(this,Zl,jf).call(this):A(this,cu,Xc).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(e*i,r*s,this.width*i,this.height*s)}return this.div}copyCanvas(e,r,i=!1){var p;e||(e=224);const{width:s,height:n}=o(this,pe),u=new O0;let l=o(this,pe),c=s,h=n,d=null;if(r){if(s>r||n>r){const S=Math.min(r/s,r/n);c=Math.floor(s*S),h=Math.floor(n*S)}d=document.createElement("canvas");const m=d.width=Math.ceil(c*u.sx),v=d.height=Math.ceil(h*u.sy);o(this,At)||(l=A(this,hu,Yc).call(this,m,v));const E=d.getContext("2d");E.filter=this._uiManager.hcmFilter;let y="white",D="#cfcfd8";this._uiManager.hcmFilter!=="none"?D="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",D="#42414d");const w=15,_=w*u.sx,T=w*u.sy,x=new OffscreenCanvas(_*2,T*2),L=x.getContext("2d");L.fillStyle=y,L.fillRect(0,0,_*2,T*2),L.fillStyle=D,L.fillRect(0,0,_,T),L.fillRect(_,T,_,T),E.fillStyle=E.createPattern(x,"repeat"),E.fillRect(0,0,m,v),E.drawImage(l,0,0,l.width,l.height,0,0,m,v)}let f=null;if(i){let m,v;if(u.symmetric&&l.width<e&&l.height<e)m=l.width,v=l.height;else if(l=o(this,pe),s>e||n>e){const D=Math.min(e/s,e/n);m=Math.floor(s*D),v=Math.floor(n*D),o(this,At)||(l=A(this,hu,Yc).call(this,m,v))}const y=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,m,v),f={width:m,height:v,data:y.getImageData(0,0,m,v).data}}return{canvas:d,width:c,height:h,imageData:f}}getImageForAltText(){return o(this,fr)}static async deserialize(e,r,i){var v;let s=null;if(e instanceof Fg){const{data:{rect:E,rotation:y,id:D,structParent:w,popupRef:_},container:T,parent:{page:{pageNumber:x}}}=e,L=T.querySelector("canvas"),S=i.imageManager.getFromCanvas(T.id,L);L.remove();const O=((v=await r._structTree.getAriaAttributes(`${a2}${D}`))==null?void 0:v.get("aria-label"))||"";s=e={annotationType:K.STAMP,bitmapId:S.id,bitmap:S.bitmap,pageIndex:x-1,rect:E.slice(0),rotation:y,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:w,popupRef:_}}const n=await super.deserialize(e,r,i),{rect:u,bitmap:l,bitmapUrl:c,bitmapId:h,isSvg:d,accessibilityData:f}=e;h&&i.imageManager.isValidId(h)?(b(n,Ue,h),l&&b(n,pe,l)):b(n,Zr,c),b(n,At,d);const[p,m]=n.pageDimensions;return n.width=(u[2]-u[0])/p,n.height=(u[3]-u[1])/m,n.annotationElementId=e.id||null,f&&(n.altTextData=f),n._initialData=s,b(n,lu,!!s),n}serialize(e=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:K.STAMP,bitmapId:o(this,Ue),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:o(this,At),structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=A(this,du,Kc).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:n}=this.serializeAltText(!1);if(!s&&n&&(i.accessibilityData={type:"Figure",alt:n}),this.annotationElementId){const l=A(this,Ud,g1).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const u=o(this,At)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(o(this,Ue)))r.stamps.set(o(this,Ue),{area:u,serialized:i}),i.bitmap=A(this,du,Kc).call(this,!1);else if(o(this,At)){const l=r.stamps.get(o(this,Ue));u>l.area&&(l.area=u,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,du,Kc).call(this,!1))}return i}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};pe=new WeakMap,Ue=new WeakMap,Hi=new WeakMap,Zr=new WeakMap,ji=new WeakMap,ou=new WeakMap,fr=new WeakMap,Qr=new WeakMap,pr=new WeakMap,At=new WeakMap,lu=new WeakMap,ma=new WeakSet,Vu=function(e,r=!1){if(!e){this.remove();return}b(this,pe,e.bitmap),r||(b(this,Ue,e.id),b(this,At,e.isSvg)),e.file&&b(this,ou,e.file.name),A(this,Zl,jf).call(this)},ba=new WeakSet,Gu=function(){if(b(this,Hi,null),this._uiManager.enableWaiting(!1),!!o(this,fr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&o(this,pe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&o(this,pe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},cu=new WeakSet,Xc=function(){if(o(this,Ue)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(o(this,Ue)).then(i=>A(this,ma,Vu).call(this,i,!0)).finally(()=>A(this,ba,Gu).call(this));return}if(o(this,Zr)){const i=o(this,Zr);b(this,Zr,null),this._uiManager.enableWaiting(!0),b(this,Hi,this._uiManager.imageManager.getFromUrl(i).then(s=>A(this,ma,Vu).call(this,s)).finally(()=>A(this,ba,Gu).call(this)));return}if(o(this,ji)){const i=o(this,ji);b(this,ji,null),this._uiManager.enableWaiting(!0),b(this,Hi,this._uiManager.imageManager.getFromFile(i).then(s=>A(this,ma,Vu).call(this,s)).finally(()=>A(this,ba,Gu).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Xu.supportedTypesStr;const r=this._uiManager._signal;b(this,Hi,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,ma,Vu).call(this,s)}i()},{signal:r}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>A(this,ba,Gu).call(this))),e.click()},Zl=new WeakSet,jf=function(){const{div:e}=this;let{width:r,height:i}=o(this,pe);const[s,n]=this.pageDimensions,u=.75;if(this.width)r=this.width*s,i=this.height*n;else if(r>u*s||i>u*n){const d=Math.min(u*s/r,u*n/i);r*=d,i*=d}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/n),this._uiManager.enableWaiting(!1);const h=b(this,fr,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),A(this,Ql,Uf).call(this,r,i),A(this,jd,p1).call(this),o(this,lu)||(this.parent.addUndoableEditor(this),b(this,lu,!0)),this._reportTelemetry({action:"inserted_image"}),o(this,ou)&&h.setAttribute("aria-label",o(this,ou))},Hd=new WeakSet,f1=function(e,r){var u;const[i,s]=this.parentDimensions;this.width=e/i,this.height=r/s,(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,o(this,pr)!==null&&clearTimeout(o(this,pr)),b(this,pr,setTimeout(()=>{b(this,pr,null),A(this,Ql,Uf).call(this,e,r)},200))},hu=new WeakSet,Yc=function(e,r){const{width:i,height:s}=o(this,pe);let n=i,u=s,l=o(this,pe);for(;n>2*e||u>2*r;){const c=n,h=u;n>2*e&&(n=n>=16384?Math.floor(n/2)-1:Math.ceil(n/2)),u>2*r&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const d=new OffscreenCanvas(n,u);d.getContext("2d").drawImage(l,0,0,c,h,0,0,n,u),l=d.transferToImageBitmap()}return l},Ql=new WeakSet,Uf=function(e,r){const i=new O0,s=Math.ceil(e*i.sx),n=Math.ceil(r*i.sy),u=o(this,fr);if(!u||u.width===s&&u.height===n)return;u.width=s,u.height=n;const l=o(this,At)?o(this,pe):A(this,hu,Yc).call(this,s,n),c=u.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,n)},du=new WeakSet,Kc=function(e){if(e){if(o(this,At)){const s=this._uiManager.imageManager.getSvgUrl(o(this,Ue));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=o(this,pe),r.getContext("2d").drawImage(o(this,pe),0,0),r.toDataURL()}if(o(this,At)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Yi.PDF_TO_CSS_UNITS),n=Math.round(this.height*i*Yi.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(s,n);return u.getContext("2d").drawImage(o(this,pe),0,0,o(this,pe).width,o(this,pe).height,0,0,s,n),u.transferToImageBitmap()}return structuredClone(o(this,pe))},jd=new WeakSet,p1=function(){this._uiManager._signal&&(b(this,Qr,new ResizeObserver(e=>{const r=e[0].contentRect;r.width&&r.height&&A(this,Hd,f1).call(this,r.width,r.height)})),o(this,Qr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=o(this,Qr))==null||e.disconnect(),b(this,Qr,null)},{once:!0}))},Ud=new WeakSet,g1=function(e){var c;const{rect:r,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,n=e.rect.every((h,d)=>Math.abs(h-r[d])<1),u=e.pageIndex===i,l=(((c=e.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:n&&u&&l,isSameAltText:l}},$(Xu,"_type","stamp"),$(Xu,"_editorType",K.STAMP);let Hf=Xu;var Aa,fu,gr,Ui,ei,vt,Vi,pu,gu,Xe,ti,j,Gi,Vd,m1,ec,Gf,tc,zf,rc,$f,mu,Jc;const Pt=class Pt{constructor({uiManager:t,pageIndex:e,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:n,drawLayer:u,textLayer:l,viewport:c,l10n:h}){g(this,Vd);g(this,ec);g(this,tc);g(this,rc);g(this,mu);g(this,Aa,void 0);g(this,fu,!1);g(this,gr,null);g(this,Ui,null);g(this,ei,null);g(this,vt,new Map);g(this,Vi,!1);g(this,pu,!1);g(this,gu,!1);g(this,Xe,null);g(this,ti,null);g(this,j,void 0);const d=[...o(Pt,Gi).values()];if(!Pt._initialized){Pt._initialized=!0;for(const f of d)f.initialize(h,t)}t.registerEditorTypes(d),b(this,j,t),this.pageIndex=e,this.div=r,b(this,Aa,s),b(this,gr,n),this.viewport=c,b(this,Xe,l),this.drawLayer=u,this._structTree=i,o(this,j).addLayer(this)}get isEmpty(){return o(this,vt).size===0}get isInvisible(){return this.isEmpty&&o(this,j).getMode()===K.NONE}updateToolbar(t){o(this,j).updateToolbar(t)}updateMode(t=o(this,j).getMode()){switch(A(this,mu,Jc).call(this),t){case K.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case K.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case K.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const r of o(Pt,Gi).values())e.toggle(`${r._type}Editing`,t===r._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=o(this,Xe))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(o(this,j).getMode()!==K.INK)return;if(!t){for(const r of o(this,vt).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){o(this,j).setEditingState(t)}addCommands(t){o(this,j).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=o(this,gr))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const r of o(this,vt).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(o(this,j).removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!o(this,gr))return;const e=o(this,gr).getEditableAnnotations();for(const r of e){if(r.hide(),o(this,j).isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;b(this,gu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const s of o(this,vt).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(o(this,gr)){const s=o(this,gr).getEditableAnnotations();for(const n of s){const{id:u}=n.data;if(o(this,j).isDeletedAnnotationElement(u))continue;let l=e.get(u);if(l){l.resetAnnotationElement(n),l.show(!1),n.show();continue}l=t.get(u),l&&(o(this,j).addChangedExistingAnnotation(l),l.renderAnnotationElement(n)&&l.show(!1)),n.show()}}A(this,mu,Jc).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of o(Pt,Gi).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,gu,!1)}getEditableAnnotation(t){var e;return((e=o(this,gr))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){o(this,j).getActive()!==t&&o(this,j).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=o(this,Xe))!=null&&t.div&&!o(this,ti)){b(this,ti,new AbortController);const e=o(this,j).combinedSignal(o(this,ti));o(this,Xe).div.addEventListener("pointerdown",A(this,Vd,m1).bind(this),{signal:e}),o(this,Xe).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=o(this,Xe))!=null&&t.div&&o(this,ti)&&(o(this,ti).abort(),b(this,ti,null),o(this,Xe).div.classList.remove("highlighting"))}enableClick(){if(o(this,Ui))return;b(this,Ui,new AbortController);const t=o(this,j).combinedSignal(o(this,Ui));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=o(this,Ui))==null||t.abort(),b(this,Ui,null)}attach(t){o(this,vt).set(t.id,t);const{annotationElementId:e}=t;e&&o(this,j).isDeletedAnnotationElement(e)&&o(this,j).removeDeletedAnnotationElement(t)}detach(t){var e;o(this,vt).delete(t.id),(e=o(this,Aa))==null||e.removePointerInTextLayer(t.contentDiv),!o(this,gu)&&t.annotationElementId&&o(this,j).addDeletedAnnotationElement(t)}remove(t){this.detach(t),o(this,j).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,o(this,pu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(o(this,j).addDeletedAnnotationElement(t.annotationElementId),ne.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),o(this,j).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),o(this,j).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var r;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!o(this,ei)&&(t._focusEventsAllowed=!1,b(this,ei,setTimeout(()=>{b(this,ei,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:o(this,j)._signal}),e.focus())},0))),t._structTreeParentId=(r=o(this,Aa))==null?void 0:r.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),r=()=>{t.remove()};this.addCommands({cmd:e,undo:r,mustExec:!1})}getNextId(){return o(this,j).getId()}combinedSignal(t){return o(this,j).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=o(this,ec,Gf))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){o(this,j).updateToolbar(t),o(this,j).updateMode(t);const{offsetX:r,offsetY:i}=A(this,rc,$f).call(this),s=this.getNextId(),n=A(this,tc,zf).call(this,{parent:this,id:s,x:r,y:i,uiManager:o(this,j),isCentered:!0,...e});n&&this.add(n)}async deserialize(t){var e;return await((e=o(Pt,Gi).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,o(this,j)))||null}createAndAddNewEditor(t,e,r={}){const i=this.getNextId(),s=A(this,tc,zf).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:o(this,j),isCentered:e,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(A(this,rc,$f).call(this),!0)}setSelected(t){o(this,j).setSelected(t)}toggleSelected(t){o(this,j).toggleSelected(t)}isSelected(t){return o(this,j).isSelected(t)}unselect(t){o(this,j).unselect(t)}pointerup(t){const{isMac:e}=lt.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&o(this,Vi)){if(b(this,Vi,!1),!o(this,fu)){b(this,fu,!0);return}if(o(this,j).getMode()===K.STAMP){o(this,j).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(o(this,j).getMode()===K.HIGHLIGHT&&this.enableTextSelection(),o(this,Vi)){b(this,Vi,!1);return}const{isMac:e}=lt.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;b(this,Vi,!0);const r=o(this,j).getActive();b(this,fu,!r||r.isEmpty())}findNewParent(t,e,r){const i=o(this,j).findParent(e,r);return i===null||i===this?!1:(i.changeParent(t),!0)}destroy(){var t,e;((t=o(this,j).getActive())==null?void 0:t.parent)===this&&(o(this,j).commitOrRemove(),o(this,j).setActiveEditor(null)),o(this,ei)&&(clearTimeout(o(this,ei)),b(this,ei,null));for(const r of o(this,vt).values())(e=o(this,Aa))==null||e.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,o(this,vt).clear(),o(this,j).removeLayer(this)}render({viewport:t}){this.viewport=t,va(this.div,t);for(const e of o(this,j).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){o(this,j).commitOrRemove(),A(this,mu,Jc).call(this);const e=this.viewport.rotation,r=t.rotation;if(this.viewport=t,va(this.div,{rotation:r}),e!==r)for(const i of o(this,vt).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return o(this,j).viewParameters.realScale}};Aa=new WeakMap,fu=new WeakMap,gr=new WeakMap,Ui=new WeakMap,ei=new WeakMap,vt=new WeakMap,Vi=new WeakMap,pu=new WeakMap,gu=new WeakMap,Xe=new WeakMap,ti=new WeakMap,j=new WeakMap,Gi=new WeakMap,Vd=new WeakSet,m1=function(t){o(this,j).unselectAll();const{target:e}=t;if(e===o(this,Xe).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&o(this,Xe).div.contains(e)){const{isMac:r}=lt.platform;if(t.button!==0||t.ctrlKey&&r)return;o(this,j).showAllEditors("highlight",!0,!0),o(this,Xe).div.classList.add("free"),this.toggleDrawing(),rh.startHighlighting(this,o(this,j).direction==="ltr",{target:o(this,Xe).div,x:t.x,y:t.y}),o(this,Xe).div.addEventListener("pointerup",()=>{o(this,Xe).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:o(this,j)._signal}),t.preventDefault()}},ec=new WeakSet,Gf=function(){return o(Pt,Gi).get(o(this,j).getMode())},tc=new WeakSet,zf=function(t){const e=o(this,ec,Gf);return e?new e.prototype.constructor(t):null},rc=new WeakSet,$f=function(){const{x:t,y:e,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,t),n=Math.max(0,e),u=Math.min(window.innerWidth,t+r),l=Math.min(window.innerHeight,e+i),c=(s+u)/2-t,h=(n+l)/2-e,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},mu=new WeakSet,Jc=function(){b(this,pu,!0);for(const t of o(this,vt).values())t.isEmpty()&&t.remove();b(this,pu,!1)},$(Pt,"_initialized",!1),g(Pt,Gi,new Map([Df,Ff,Hf,rh].map(t=>[t._editorType,t])));let Vf=Pt;var mr,ic,we,zi,sc,Xf,ac,Yf,Gd,b1;const Oe=class Oe{constructor({pageIndex:t}){g(this,ac);g(this,Gd);g(this,mr,null);g(this,ic,0);g(this,we,new Map);g(this,zi,new Map);this.pageIndex=t}setParent(t){if(!o(this,mr)){b(this,mr,t);return}if(o(this,mr)!==t){if(o(this,we).size>0)for(const e of o(this,we).values())e.remove(),t.append(e);b(this,mr,t)}}static get _svgFactory(){return re(this,"_svgFactory",new n2)}highlight(t,e,r,i=!1){const s=Je(this,ic)._++,n=A(this,ac,Yf).call(this,t.box);n.classList.add("highlight"),t.free&&n.classList.add("free");const u=Oe._svgFactory.createElement("defs");n.append(u);const l=Oe._svgFactory.createElement("path");u.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),i&&o(this,zi).set(s,l);const h=A(this,Gd,b1).call(this,u,c),d=Oe._svgFactory.createElement("use");return n.append(d),n.setAttribute("fill",e),n.setAttribute("fill-opacity",r),d.setAttribute("href",`#${c}`),o(this,we).set(s,n),{id:s,clipPathId:`url(#${h})`}}highlightOutline(t){const e=Je(this,ic)._++,r=A(this,ac,Yf).call(this,t.box);r.classList.add("highlightOutline");const i=Oe._svgFactory.createElement("defs");r.append(i);const s=Oe._svgFactory.createElement("path");i.append(s);const n=`path_p${this.pageIndex}_${e}`;s.setAttribute("id",n),s.setAttribute("d",t.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let u;if(t.free){r.classList.add("free");const h=Oe._svgFactory.createElement("mask");i.append(h),u=`mask_p${this.pageIndex}_${e}`,h.setAttribute("id",u),h.setAttribute("maskUnits","objectBoundingBox");const d=Oe._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Oe._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${n}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Oe._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${n}`),u&&l.setAttribute("mask",`url(#${u})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),o(this,we).set(e,r),e}finalizeLine(t,e){const r=o(this,zi).get(t);o(this,zi).delete(t),this.updateBox(t,e.box),r.setAttribute("d",e.toSVGPath())}updateLine(t,e){o(this,we).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),o(this,zi).delete(t)}updatePath(t,e){o(this,zi).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var r;A(r=Oe,sc,Xf).call(r,o(this,we).get(t),e)}show(t,e){o(this,we).get(t).classList.toggle("hidden",!e)}rotate(t,e){o(this,we).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){o(this,we).get(t).setAttribute("fill",e)}changeOpacity(t,e){o(this,we).get(t).setAttribute("fill-opacity",e)}addClass(t,e){o(this,we).get(t).classList.add(e)}removeClass(t,e){o(this,we).get(t).classList.remove(e)}getSVGRoot(t){return o(this,we).get(t)}remove(t){o(this,mr)!==null&&(o(this,we).get(t).remove(),o(this,we).delete(t))}destroy(){b(this,mr,null);for(const t of o(this,we).values())t.remove();o(this,we).clear()}};mr=new WeakMap,ic=new WeakMap,we=new WeakMap,zi=new WeakMap,sc=new WeakSet,Xf=function(t,{x:e=0,y:r=0,width:i=1,height:s=1}={}){const{style:n}=t;n.top=`${100*r}%`,n.left=`${100*e}%`,n.width=`${100*i}%`,n.height=`${100*s}%`},ac=new WeakSet,Yf=function(t){var r;const e=Oe._svgFactory.create(1,1,!0);return o(this,mr).append(e),e.setAttribute("aria-hidden",!0),A(r=Oe,sc,Xf).call(r,e,t),e},Gd=new WeakSet,b1=function(t,e){const r=Oe._svgFactory.createElement("clipPath");t.append(r);const i=`clip_${e}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Oe._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),i},g(Oe,sc);let Wf=Oe;X.AbortException;X.AnnotationEditorLayer;X.AnnotationEditorParamsType;X.AnnotationEditorType;X.AnnotationEditorUIManager;X.AnnotationLayer;X.AnnotationMode;X.CMapCompressionType;X.ColorPicker;X.DOMSVGFactory;X.DrawLayer;X.FeatureTest;var BA=X.GlobalWorkerOptions;X.ImageKind;X.InvalidPDFException;X.MissingPDFException;X.OPS;X.OutputScale;X.PDFDataRangeTransport;X.PDFDateString;X.PDFWorker;X.PasswordResponses;X.PermissionFlag;X.PixelsPerInch;X.RenderingCancelledException;X.TextLayer;X.UnexpectedResponseException;X.Util;X.VerbosityLevel;X.XfaLayer;X.build;X.createValidAbsoluteUrl;X.fetchData;var IA=X.getDocument;X.getFilenameFromUrl;X.getPdfFilenameFromUrl;X.getXfaPageViewport;X.isDataScheme;X.isPdfFile;X.noContextMenu;X.normalizeUnicode;X.setLayerDimensions;X.shadow;X.version;BA.workerSrc=chrome.runtime.getURL("src/utils/pdf/pdf.worker.min.mjs");const OA=async a=>{if(!a)return{title:"",text:""};try{const t=await IA(a).promise,e=t.numPages,r=await t.getMetadata().then(async n=>{var u;return await((u=n==null?void 0:n.info)==null?void 0:u.Title)??""}),i=[];for(let n=1;n<=e;n++){const u=await t.getPage(n),l=await qA(u);i.push(l)}return{text:i.join(" ").replace(/\s+/g," "),title:r}}catch{return{title:"",text:""}}},qA=async a=>(await a.getTextContent()).items.map(r=>{var i;return((i=r==null?void 0:r.str)==null?void 0:i.trim())??""}).join(" ");var A1={exports:{}};(function(a){function t(e,r){if(r&&r.documentElement)e=r,r=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(r=r||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!r.debug,this._maxElemsToParse=r.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=r.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=r.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(r.classesToPreserve||[]),this._keepClasses=!!r.keepClasses,this._serializer=r.serializer||function(i){return i.innerHTML},this._disableJSONLD=!!r.disableJSONLD,this._allowedVideoRegex=r.allowedVideoRegex||this.REGEXPS.videos,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let i=function(s){if(s.nodeType==s.TEXT_NODE)return`${s.nodeName} ("${s.textContent}")`;let n=Array.from(s.attributes||[],function(u){return`${u.name}="${u.value}"`}).join(" ");return`<${s.localName} ${n}>`};this.log=function(){if(typeof console<"u"){let n=Array.from(arguments,u=>u&&u.nodeType==this.ELEMENT_NODE?i(u):u);n.unshift("Reader: (Readability)"),console.log.apply(console,n)}else if(typeof dump<"u"){var s=Array.prototype.map.call(arguments,function(n){return n&&n.nodeName?i(n):n}).join(" ");dump("Reader: (Readability) "+s+`
`)}}}else this.log=function(){}}t.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes:function(e,r){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var i=e.length-1;i>=0;i--){var s=e[i],n=s.parentNode;n&&(!r||r.call(this,s,i,e))&&n.removeChild(s)}},_replaceNodeTags:function(e,r){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const i of e)this._setNodeTag(i,r)},_forEachNode:function(e,r){Array.prototype.forEach.call(e,r,this)},_findNode:function(e,r){return Array.prototype.find.call(e,r,this)},_someNode:function(e,r){return Array.prototype.some.call(e,r,this)},_everyNode:function(e,r){return Array.prototype.every.call(e,r,this)},_concatNodeLists:function(){var e=Array.prototype.slice,r=e.call(arguments),i=r.map(function(s){return e.call(s)});return Array.prototype.concat.apply([],i)},_getAllNodesWithTag:function(e,r){return e.querySelectorAll?e.querySelectorAll(r.join(",")):[].concat.apply([],r.map(function(i){var s=e.getElementsByTagName(i);return Array.isArray(s)?s:Array.from(s)}))},_cleanClasses:function(e){var r=this._classesToPreserve,i=(e.getAttribute("class")||"").split(/\s+/).filter(function(s){return r.indexOf(s)!=-1}).join(" ");for(i?e.setAttribute("class",i):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_fixRelativeUris:function(e){var r=this._doc.baseURI,i=this._doc.documentURI;function s(l){if(r==i&&l.charAt(0)=="#")return l;try{return new URL(l,r).href}catch{}return l}var n=this._getAllNodesWithTag(e,["a"]);this._forEachNode(n,function(l){var c=l.getAttribute("href");if(c)if(c.indexOf("javascript:")===0)if(l.childNodes.length===1&&l.childNodes[0].nodeType===this.TEXT_NODE){var h=this._doc.createTextNode(l.textContent);l.parentNode.replaceChild(h,l)}else{for(var d=this._doc.createElement("span");l.firstChild;)d.appendChild(l.firstChild);l.parentNode.replaceChild(d,l)}else l.setAttribute("href",s(c))});var u=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(u,function(l){var c=l.getAttribute("src"),h=l.getAttribute("poster"),d=l.getAttribute("srcset");if(c&&l.setAttribute("src",s(c)),h&&l.setAttribute("poster",s(h)),d){var f=d.replace(this.REGEXPS.srcsetUrl,function(p,m,v,E){return s(m)+(v||"")+E});l.setAttribute("srcset",f)}})},_simplifyNestedElements:function(e){for(var r=e;r;){if(r.parentNode&&["DIV","SECTION"].includes(r.tagName)&&!(r.id&&r.id.startsWith("readability"))){if(this._isElementWithoutContent(r)){r=this._removeAndGetNext(r);continue}else if(this._hasSingleTagInsideElement(r,"DIV")||this._hasSingleTagInsideElement(r,"SECTION")){for(var i=r.children[0],s=0;s<r.attributes.length;s++)i.setAttribute(r.attributes[s].name,r.attributes[s].value);r.parentNode.replaceChild(i,r),r=i;continue}}r=this._getNextNode(r)}},_getArticleTitle:function(){var e=this._doc,r="",i="";try{r=i=e.title.trim(),typeof r!="string"&&(r=i=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var s=!1;function n(f){return f.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(r))s=/ [\\\/>»] /.test(r),r=i.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"),n(r)<3&&(r=i.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(r.indexOf(": ")!==-1){var u=this._concatNodeLists(e.getElementsByTagName("h1"),e.getElementsByTagName("h2")),l=r.trim(),c=this._someNode(u,function(f){return f.textContent.trim()===l});c||(r=i.substring(i.lastIndexOf(":")+1),n(r)<3?r=i.substring(i.indexOf(":")+1):n(i.substr(0,i.indexOf(":")))>5&&(r=i))}else if(r.length>150||r.length<15){var h=e.getElementsByTagName("h1");h.length===1&&(r=this._getInnerText(h[0]))}r=r.trim().replace(this.REGEXPS.normalize," ");var d=n(r);return d<=4&&(!s||d!=n(i.replace(/[\|\-\\\/>»]+/g,""))-1)&&(r=i),r},_prepDocument:function(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode:function(e){for(var r=e;r&&r.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(r.textContent);)r=r.nextSibling;return r},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(r){for(var i=r.nextSibling,s=!1;(i=this._nextNode(i))&&i.tagName=="BR";){s=!0;var n=i.nextSibling;i.parentNode.removeChild(i),i=n}if(s){var u=this._doc.createElement("p");for(r.parentNode.replaceChild(u,r),i=u.nextSibling;i;){if(i.tagName=="BR"){var l=this._nextNode(i.nextSibling);if(l&&l.tagName=="BR")break}if(!this._isPhrasingContent(i))break;var c=i.nextSibling;u.appendChild(i),i=c}for(;u.lastChild&&this._isWhitespace(u.lastChild);)u.removeChild(u.lastChild);u.parentNode.tagName==="P"&&this._setNodeTag(u.parentNode,"DIV")}})},_setNodeTag:function(e,r){if(this.log("_setNodeTag",e,r),this._docJSDOMParser)return e.localName=r.toLowerCase(),e.tagName=r.toUpperCase(),e;for(var i=e.ownerDocument.createElement(r);e.firstChild;)i.appendChild(e.firstChild);e.parentNode.replaceChild(i,e),e.readability&&(i.readability=e.readability);for(var s=0;s<e.attributes.length;s++)try{i.setAttribute(e.attributes[s].name,e.attributes[s].value)}catch{}return i},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var r=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(i){this._cleanMatchedNodes(i,function(s,n){return this.REGEXPS.shareElements.test(n)&&s.textContent.length<r})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(i){var s=i.getElementsByTagName("img").length,n=i.getElementsByTagName("embed").length,u=i.getElementsByTagName("object").length,l=i.getElementsByTagName("iframe").length,c=s+n+u+l;return c===0&&!this._getInnerText(i,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(i){var s=this._nextNode(i.nextSibling);s&&s.tagName=="P"&&i.parentNode.removeChild(i)}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(i){var s=this._hasSingleTagInsideElement(i,"TBODY")?i.firstElementChild:i;if(this._hasSingleTagInsideElement(s,"TR")){var n=s.firstElementChild;if(this._hasSingleTagInsideElement(n,"TD")){var u=n.firstElementChild;u=this._setNodeTag(u,this._everyNode(u.childNodes,this._isPhrasingContent)?"P":"DIV"),i.parentNode.replaceChild(u,i)}}})},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var r=this._getNextNode(e,!0);return e.parentNode.removeChild(e),r},_getNextNode:function(e,r){if(!r&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity:function(e,r){var i=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),s=r.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!i.length||!s.length)return 0;var n=s.filter(l=>!i.includes(l)),u=n.join(" ").length/s.join(" ").length;return 1-u},_checkByline:function(e,r){if(this._articleByline)return!1;if(e.getAttribute!==void 0)var i=e.getAttribute("rel"),s=e.getAttribute("itemprop");return(i==="author"||s&&s.indexOf("author")!==-1||this.REGEXPS.byline.test(r))&&this._isValidByline(e.textContent)?(this._articleByline=e.textContent.trim(),!0):!1},_getNodeAncestors:function(e,r){r=r||0;for(var i=0,s=[];e.parentNode&&(s.push(e.parentNode),!(r&&++i===r));)e=e.parentNode;return s},_grabArticle:function(e){this.log("**** grabArticle ****");var r=this._doc,i=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var s=e.innerHTML;;){this.log("Starting grabArticle loop");var n=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),u=[],l=this._doc.documentElement;let es=!0;for(;l;){l.tagName==="HTML"&&(this._articleLang=l.getAttribute("lang"));var c=l.className+" "+l.id;if(!this._isProbablyVisible(l)){this.log("Removing hidden node - "+c),l=this._removeAndGetNext(l);continue}if(l.getAttribute("aria-modal")=="true"&&l.getAttribute("role")=="dialog"){l=this._removeAndGetNext(l);continue}if(this._checkByline(l,c)){l=this._removeAndGetNext(l);continue}if(es&&this._headerDuplicatesTitle(l)){this.log("Removing header: ",l.textContent.trim(),this._articleTitle.trim()),es=!1,l=this._removeAndGetNext(l);continue}if(n){if(this.REGEXPS.unlikelyCandidates.test(c)&&!this.REGEXPS.okMaybeItsACandidate.test(c)&&!this._hasAncestorTag(l,"table")&&!this._hasAncestorTag(l,"code")&&l.tagName!=="BODY"&&l.tagName!=="A"){this.log("Removing unlikely candidate - "+c),l=this._removeAndGetNext(l);continue}if(this.UNLIKELY_ROLES.includes(l.getAttribute("role"))){this.log("Removing content with role "+l.getAttribute("role")+" - "+c),l=this._removeAndGetNext(l);continue}}if((l.tagName==="DIV"||l.tagName==="SECTION"||l.tagName==="HEADER"||l.tagName==="H1"||l.tagName==="H2"||l.tagName==="H3"||l.tagName==="H4"||l.tagName==="H5"||l.tagName==="H6")&&this._isElementWithoutContent(l)){l=this._removeAndGetNext(l);continue}if(this.DEFAULT_TAGS_TO_SCORE.indexOf(l.tagName)!==-1&&u.push(l),l.tagName==="DIV"){for(var h=null,d=l.firstChild;d;){var f=d.nextSibling;if(this._isPhrasingContent(d))h!==null?h.appendChild(d):this._isWhitespace(d)||(h=r.createElement("p"),l.replaceChild(h,d),h.appendChild(d));else if(h!==null){for(;h.lastChild&&this._isWhitespace(h.lastChild);)h.removeChild(h.lastChild);h=null}d=f}if(this._hasSingleTagInsideElement(l,"P")&&this._getLinkDensity(l)<.25){var p=l.children[0];l.parentNode.replaceChild(p,l),l=p,u.push(l)}else this._hasChildBlockElement(l)||(l=this._setNodeTag(l,"P"),u.push(l))}l=this._getNextNode(l)}var m=[];this._forEachNode(u,function(_t){if(!(!_t.parentNode||typeof _t.parentNode.tagName>"u")){var Rt=this._getInnerText(_t);if(!(Rt.length<25)){var ts=this._getNodeAncestors(_t,5);if(ts.length!==0){var vr=0;vr+=1,vr+=Rt.split(this.REGEXPS.commas).length,vr+=Math.min(Math.floor(Rt.length/100),3),this._forEachNode(ts,function(rs,p0){if(!(!rs.tagName||!rs.parentNode||typeof rs.parentNode.tagName>"u")){if(typeof rs.readability>"u"&&(this._initializeNode(rs),m.push(rs)),p0===0)var g0=1;else p0===1?g0=2:g0=p0*3;rs.readability.contentScore+=vr/g0}})}}}});for(var v=[],E=0,y=m.length;E<y;E+=1){var D=m[E],w=D.readability.contentScore*(1-this._getLinkDensity(D));D.readability.contentScore=w,this.log("Candidate:",D,"with score "+w);for(var _=0;_<this._nbTopCandidates;_++){var T=v[_];if(!T||w>T.readability.contentScore){v.splice(_,0,D),v.length>this._nbTopCandidates&&v.pop();break}}}var x=v[0]||null,L=!1,S;if(x===null||x.tagName==="BODY"){for(x=r.createElement("DIV"),L=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),x.appendChild(e.firstChild);e.appendChild(x),this._initializeNode(x)}else if(x){for(var O=[],U=1;U<v.length;U++)v[U].readability.contentScore/x.readability.contentScore>=.75&&O.push(this._getNodeAncestors(v[U]));var C=3;if(O.length>=C)for(S=x.parentNode;S.tagName!=="BODY";){for(var F=0,N=0;N<O.length&&F<C;N++)F+=Number(O[N].includes(S));if(F>=C){x=S;break}S=S.parentNode}x.readability||this._initializeNode(x),S=x.parentNode;for(var R=x.readability.contentScore,M=R/3;S.tagName!=="BODY";){if(!S.readability){S=S.parentNode;continue}var G=S.readability.contentScore;if(G<M)break;if(G>R){x=S;break}R=S.readability.contentScore,S=S.parentNode}for(S=x.parentNode;S.tagName!="BODY"&&S.children.length==1;)x=S,S=x.parentNode;x.readability||this._initializeNode(x)}var k=r.createElement("DIV");i&&(k.id="readability-content");var I=Math.max(10,x.readability.contentScore*.2);S=x.parentNode;for(var B=S.children,H=0,Y=B.length;H<Y;H++){var z=B[H],Z=!1;if(this.log("Looking at sibling node:",z,z.readability?"with score "+z.readability.contentScore:""),this.log("Sibling has score",z.readability?z.readability.contentScore:"Unknown"),z===x)Z=!0;else{var ye=0;if(z.className===x.className&&x.className!==""&&(ye+=x.readability.contentScore*.2),z.readability&&z.readability.contentScore+ye>=I)Z=!0;else if(z.nodeName==="P"){var Ee=this._getLinkDensity(z),ie=this._getInnerText(z),V=ie.length;(V>80&&Ee<.25||V<80&&V>0&&Ee===0&&ie.search(/\.( |$)/)!==-1)&&(Z=!0)}}Z&&(this.log("Appending node:",z),this.ALTER_TO_DIV_EXCEPTIONS.indexOf(z.nodeName)===-1&&(this.log("Altering sibling:",z,"to div."),z=this._setNodeTag(z,"DIV")),k.appendChild(z),B=S.children,H-=1,Y-=1)}if(this._debug&&this.log("Article content pre-prep: "+k.innerHTML),this._prepArticle(k),this._debug&&this.log("Article content post-prep: "+k.innerHTML),L)x.id="readability-page-1",x.className="page";else{var ht=r.createElement("DIV");for(ht.id="readability-page-1",ht.className="page";k.firstChild;)ht.appendChild(k.firstChild);k.appendChild(ht)}this._debug&&this.log("Article content after paging: "+k.innerHTML);var Ar=!0,ui=this._getInnerText(k,!0).length;if(ui<this._charThreshold)if(Ar=!1,e.innerHTML=s,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:k,textLength:ui});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:k,textLength:ui});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:k,textLength:ui});else{if(this._attempts.push({articleContent:k,textLength:ui}),this._attempts.sort(function(_t,Rt){return Rt.textLength-_t.textLength}),!this._attempts[0].textLength)return null;k=this._attempts[0].articleContent,Ar=!0}if(Ar){var La=[S,x].concat(this._getNodeAncestors(S));return this._someNode(La,function(_t){if(!_t.tagName)return!1;var Rt=_t.getAttribute("dir");return Rt?(this._articleDir=Rt,!0):!1}),k}}},_isValidByline:function(e){return typeof e=="string"||e instanceof String?(e=e.trim(),e.length>0&&e.length<100):!1},_unescapeHtmlEntities:function(e){if(!e)return e;var r=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(i,s){return r[s]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(i,s,n){var u=parseInt(s||n,s?16:10);return String.fromCharCode(u)})},_getJSONLD:function(e){var r=this._getAllNodesWithTag(e,["script"]),i;return this._forEachNode(r,function(s){if(!i&&s.getAttribute("type")==="application/ld+json")try{var n=s.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),u=JSON.parse(n);if(!u["@context"]||!u["@context"].match(/^https?\:\/\/schema\.org$/)||(!u["@type"]&&Array.isArray(u["@graph"])&&(u=u["@graph"].find(function(d){return(d["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),!u||!u["@type"]||!u["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(i={},typeof u.name=="string"&&typeof u.headline=="string"&&u.name!==u.headline){var l=this._getArticleTitle(),c=this._textSimilarity(u.name,l)>.75,h=this._textSimilarity(u.headline,l)>.75;h&&!c?i.title=u.headline:i.title=u.name}else typeof u.name=="string"?i.title=u.name.trim():typeof u.headline=="string"&&(i.title=u.headline.trim());u.author&&(typeof u.author.name=="string"?i.byline=u.author.name.trim():Array.isArray(u.author)&&u.author[0]&&typeof u.author[0].name=="string"&&(i.byline=u.author.filter(function(d){return d&&typeof d.name=="string"}).map(function(d){return d.name.trim()}).join(", "))),typeof u.description=="string"&&(i.excerpt=u.description.trim()),u.publisher&&typeof u.publisher.name=="string"&&(i.siteName=u.publisher.name.trim()),typeof u.datePublished=="string"&&(i.datePublished=u.datePublished.trim());return}catch(d){this.log(d.message)}}),i||{}},_getArticleMetadata:function(e){var r={},i={},s=this._doc.getElementsByTagName("meta"),n=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,u=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(s,function(l){var c=l.getAttribute("name"),h=l.getAttribute("property"),d=l.getAttribute("content");if(d){var f=null,p=null;h&&(f=h.match(n),f&&(p=f[0].toLowerCase().replace(/\s/g,""),i[p]=d.trim())),!f&&c&&u.test(c)&&(p=c,d&&(p=p.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),i[p]=d.trim()))}}),r.title=e.title||i["dc:title"]||i["dcterm:title"]||i["og:title"]||i["weibo:article:title"]||i["weibo:webpage:title"]||i.title||i["twitter:title"],r.title||(r.title=this._getArticleTitle()),r.byline=e.byline||i["dc:creator"]||i["dcterm:creator"]||i.author,r.excerpt=e.excerpt||i["dc:description"]||i["dcterm:description"]||i["og:description"]||i["weibo:article:description"]||i["weibo:webpage:description"]||i.description||i["twitter:description"],r.siteName=e.siteName||i["og:site_name"],r.publishedTime=e.datePublished||i["article:published_time"]||null,r.title=this._unescapeHtmlEntities(r.title),r.byline=this._unescapeHtmlEntities(r.byline),r.excerpt=this._unescapeHtmlEntities(r.excerpt),r.siteName=this._unescapeHtmlEntities(r.siteName),r.publishedTime=this._unescapeHtmlEntities(r.publishedTime),r},_isSingleImage:function(e){return e.tagName==="IMG"?!0:e.children.length!==1||e.textContent.trim()!==""?!1:this._isSingleImage(e.children[0])},_unwrapNoscriptImages:function(e){var r=Array.from(e.getElementsByTagName("img"));this._forEachNode(r,function(s){for(var n=0;n<s.attributes.length;n++){var u=s.attributes[n];switch(u.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(u.value))return}s.parentNode.removeChild(s)});var i=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(i,function(s){var n=e.createElement("div");if(n.innerHTML=s.innerHTML,!!this._isSingleImage(n)){var u=s.previousElementSibling;if(u&&this._isSingleImage(u)){var l=u;l.tagName!=="IMG"&&(l=u.getElementsByTagName("img")[0]);for(var c=n.getElementsByTagName("img")[0],h=0;h<l.attributes.length;h++){var d=l.attributes[h];if(d.value!==""&&(d.name==="src"||d.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(d.value))){if(c.getAttribute(d.name)===d.value)continue;var f=d.name;c.hasAttribute(f)&&(f="data-old-"+f),c.setAttribute(f,d.value)}}s.parentNode.replaceChild(n.firstElementChild,u)}}})},_removeScripts:function(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement:function(e,r){return e.children.length!=1||e.children[0].tagName!==r?!1:!this._someNode(e.childNodes,function(i){return i.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(i.textContent)})},_isElementWithoutContent:function(e){return e.nodeType===this.ELEMENT_NODE&&e.textContent.trim().length==0&&(e.children.length==0||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,function(r){return this.DIV_TO_P_ELEMS.has(r.tagName)||this._hasChildBlockElement(r)})},_isPhrasingContent:function(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.indexOf(e.tagName)!==-1||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace:function(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText:function(e,r){r=typeof r>"u"?!0:r;var i=e.textContent.trim();return r?i.replace(this.REGEXPS.normalize," "):i},_getCharCount:function(e,r){return r=r||",",this._getInnerText(e).split(r).length-1},_cleanStyles:function(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var r=0;r<this.PRESENTATIONAL_ATTRIBUTES.length;r++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[r]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName)!==-1&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var i=e.firstElementChild;i!==null;)this._cleanStyles(i),i=i.nextElementSibling}},_getLinkDensity:function(e){var r=this._getInnerText(e).length;if(r===0)return 0;var i=0;return this._forEachNode(e.getElementsByTagName("a"),function(s){var n=s.getAttribute("href"),u=n&&this.REGEXPS.hashUrl.test(n)?.3:1;i+=this._getInnerText(s).length*u}),i/r},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var r=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(r-=25),this.REGEXPS.positive.test(e.className)&&(r+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(r-=25),this.REGEXPS.positive.test(e.id)&&(r+=25)),r},_clean:function(e,r){var i=["object","embed","iframe"].indexOf(r)!==-1;this._removeNodes(this._getAllNodesWithTag(e,[r]),function(s){if(i){for(var n=0;n<s.attributes.length;n++)if(this._allowedVideoRegex.test(s.attributes[n].value))return!1;if(s.tagName==="object"&&this._allowedVideoRegex.test(s.innerHTML))return!1}return!0})},_hasAncestorTag:function(e,r,i,s){i=i||3,r=r.toUpperCase();for(var n=0;e.parentNode;){if(i>0&&n>i)return!1;if(e.parentNode.tagName===r&&(!s||s(e.parentNode)))return!0;e=e.parentNode,n++}return!1},_getRowAndColumnCount:function(e){for(var r=0,i=0,s=e.getElementsByTagName("tr"),n=0;n<s.length;n++){var u=s[n].getAttribute("rowspan")||0;u&&(u=parseInt(u,10)),r+=u||1;for(var l=0,c=s[n].getElementsByTagName("td"),h=0;h<c.length;h++){var d=c[h].getAttribute("colspan")||0;d&&(d=parseInt(d,10)),l+=d||1}i=Math.max(i,l)}return{rows:r,columns:i}},_markDataTables:function(e){for(var r=e.getElementsByTagName("table"),i=0;i<r.length;i++){var s=r[i],n=s.getAttribute("role");if(n=="presentation"){s._readabilityDataTable=!1;continue}var u=s.getAttribute("datatable");if(u=="0"){s._readabilityDataTable=!1;continue}var l=s.getAttribute("summary");if(l){s._readabilityDataTable=!0;continue}var c=s.getElementsByTagName("caption")[0];if(c&&c.childNodes.length>0){s._readabilityDataTable=!0;continue}var h=["col","colgroup","tfoot","thead","th"],d=function(p){return!!s.getElementsByTagName(p)[0]};if(h.some(d)){this.log("Data table because found data-y descendant"),s._readabilityDataTable=!0;continue}if(s.getElementsByTagName("table")[0]){s._readabilityDataTable=!1;continue}var f=this._getRowAndColumnCount(s);if(f.rows>=10||f.columns>4){s._readabilityDataTable=!0;continue}s._readabilityDataTable=f.rows*f.columns>10}},_fixLazyImages:function(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(r){if(r.src&&this.REGEXPS.b64DataUrl.test(r.src)){var i=this.REGEXPS.b64DataUrl.exec(r.src);if(i[1]==="image/svg+xml")return;for(var s=!1,n=0;n<r.attributes.length;n++){var u=r.attributes[n];if(u.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(u.value)){s=!0;break}}if(s){var l=r.src.search(/base64\s*/i)+7,c=r.src.length-l;c<133&&r.removeAttribute("src")}}if(!((r.src||r.srcset&&r.srcset!="null")&&r.className.toLowerCase().indexOf("lazy")===-1)){for(var h=0;h<r.attributes.length;h++)if(u=r.attributes[h],!(u.name==="src"||u.name==="srcset"||u.name==="alt")){var d=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(u.value)?d="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(u.value)&&(d="src"),d){if(r.tagName==="IMG"||r.tagName==="PICTURE")r.setAttribute(d,u.value);else if(r.tagName==="FIGURE"&&!this._getAllNodesWithTag(r,["img","picture"]).length){var f=this._doc.createElement("img");f.setAttribute(d,u.value),r.appendChild(f)}}}}})},_getTextDensity:function(e,r){var i=this._getInnerText(e,!0).length;if(i===0)return 0;var s=0,n=this._getAllNodesWithTag(e,r);return this._forEachNode(n,u=>s+=this._getInnerText(u,!0).length),s/i},_cleanConditionally:function(e,r){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[r]),function(i){var s=function(S){return S._readabilityDataTable},n=r==="ul"||r==="ol";if(!n){var u=0,l=this._getAllNodesWithTag(i,["ul","ol"]);this._forEachNode(l,S=>u+=this._getInnerText(S).length),n=u/this._getInnerText(i).length>.9}if(r==="table"&&s(i)||this._hasAncestorTag(i,"table",-1,s)||this._hasAncestorTag(i,"code"))return!1;var c=this._getClassWeight(i);this.log("Cleaning Conditionally",i);var h=0;if(c+h<0)return!0;if(this._getCharCount(i,",")<10){for(var d=i.getElementsByTagName("p").length,f=i.getElementsByTagName("img").length,p=i.getElementsByTagName("li").length-100,m=i.getElementsByTagName("input").length,v=this._getTextDensity(i,["h1","h2","h3","h4","h5","h6"]),E=0,y=this._getAllNodesWithTag(i,["object","embed","iframe"]),D=0;D<y.length;D++){for(var w=0;w<y[D].attributes.length;w++)if(this._allowedVideoRegex.test(y[D].attributes[w].value))return!1;if(y[D].tagName==="object"&&this._allowedVideoRegex.test(y[D].innerHTML))return!1;E++}var _=this._getLinkDensity(i),T=this._getInnerText(i).length,x=f>1&&d/f<.5&&!this._hasAncestorTag(i,"figure")||!n&&p>d||m>Math.floor(d/3)||!n&&v<.9&&T<25&&(f===0||f>2)&&!this._hasAncestorTag(i,"figure")||!n&&c<25&&_>.2||c>=25&&_>.5||E===1&&T<75||E>1;if(n&&x){for(var L=0;L<i.children.length;L++)if(i.children[L].children.length>1)return x;let S=i.getElementsByTagName("li").length;if(f==S)return!1}return x}return!1})},_cleanMatchedNodes:function(e,r){for(var i=this._getNextNode(e,!0),s=this._getNextNode(e);s&&s!=i;)r.call(this,s,s.className+" "+s.id)?s=this._removeAndGetNext(s):s=this._getNextNode(s)},_cleanHeaders:function(e){let r=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(r,function(i){let s=this._getClassWeight(i)<0;return s&&this.log("Removing header with low class weight:",i),s})},_headerDuplicatesTitle:function(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var r=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",r,this._articleTitle),this._textSimilarity(this._articleTitle,r)>.75},_flagIsActive:function(e){return(this._flags&e)>0},_removeFlag:function(e){this._flags=this._flags&~e},_isProbablyVisible:function(e){return(!e.style||e.style.display!="none")&&(!e.style||e.style.visibility!="hidden")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var r=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var i=this._getArticleMetadata(r);this._articleTitle=i.title;var s=this._grabArticle();if(!s)return null;if(this.log("Grabbed: "+s.innerHTML),this._postProcessContent(s),!i.excerpt){var n=s.getElementsByTagName("p");n.length>0&&(i.excerpt=n[0].textContent.trim())}var u=s.textContent;return{title:this._articleTitle,byline:i.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(s),textContent:u,length:u.length,excerpt:i.excerpt,siteName:i.siteName||this._articleSiteName,publishedTime:i.publishedTime}}},a.exports=t})(A1);var HA=A1.exports,v1={exports:{}};(function(a){var t={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function e(i){return(!i.style||i.style.display!="none")&&!i.hasAttribute("hidden")&&(!i.hasAttribute("aria-hidden")||i.getAttribute("aria-hidden")!="true"||i.className&&i.className.indexOf&&i.className.indexOf("fallback-image")!==-1)}function r(i,s={}){typeof s=="function"&&(s={visibilityChecker:s});var n={minScore:20,minContentLength:140,visibilityChecker:e};s=Object.assign(n,s);var u=i.querySelectorAll("p, pre, article"),l=i.querySelectorAll("div > br");if(l.length){var c=new Set(u);[].forEach.call(l,function(d){c.add(d.parentNode)}),u=Array.from(c)}var h=0;return[].some.call(u,function(d){if(!s.visibilityChecker(d))return!1;var f=d.className+" "+d.id;if(t.unlikelyCandidates.test(f)&&!t.okMaybeItsACandidate.test(f)||d.matches("li p"))return!1;var p=d.textContent.trim().length;return p<s.minContentLength?!1:(h+=Math.sqrt(p-s.minContentLength),h>s.minScore)})}a.exports=r})(v1);var jA=v1.exports,UA=HA,VA=jA,GA={Readability:UA,isProbablyReaderable:VA};function ip(){try{const a=document.cloneNode(!0),t=new GA.Readability(a).parse(),e=t&&t.title?t.title.trim():"",r=t&&t.textContent?t.textContent.replace(/\s+/g," ").replace(/\n+/g," ").trim():"";return{title:e,text:r}}catch{return{title:"",text:""}}}function zA(a){const t={"&#39;":"'","&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":" ","&iexcl;":"¡","&cent;":"¢","&pound;":"£","&curren;":"¤","&yen;":"¥","&brvbar;":"¦","&sect;":"§","&uml;":"¨","&copy;":"©","&ordf;":"ª","&laquo;":"«"};return a.replace(/&#\d+;|&\w+;/g,e=>t[e]||e)}var Ye={},Qd={},yu={},ih={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */ih.exports;(function(a,t){(function(e){var r=t,i=a&&a.exports==r&&a,s=typeof P=="object"&&P;(s.global===s||s.window===s)&&(e=s);var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[\x01-\x7F]/g,l=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,h={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},d=/["&'<>`]/g,f={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},p=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,E={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},y={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},D={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],_=String.fromCharCode,T={},x=T.hasOwnProperty,L=function(B,H){return x.call(B,H)},S=function(B,H){for(var Y=-1,z=B.length;++Y<z;)if(B[Y]==H)return!0;return!1},O=function(B,H){if(!B)return H;var Y={},z;for(z in H)Y[z]=L(B,z)?B[z]:H[z];return Y},U=function(B,H){var Y="";return B>=55296&&B<=57343||B>1114111?(H&&N("character reference outside the permissible Unicode range"),"�"):L(D,B)?(H&&N("disallowed character reference"),D[B]):(H&&S(w,B)&&N("disallowed character reference"),B>65535&&(B-=65536,Y+=_(B>>>10&1023|55296),B=56320|B&1023),Y+=_(B),Y)},C=function(B){return"&#x"+B.toString(16).toUpperCase()+";"},F=function(B){return"&#"+B+";"},N=function(B){throw Error("Parse error: "+B)},R=function(B,H){H=O(H,R.options);var Y=H.strict;Y&&m.test(B)&&N("forbidden code point");var z=H.encodeEverything,Z=H.useNamedReferences,ye=H.allowUnsafeSymbols,Ee=H.decimal?F:C,ie=function(V){return Ee(V.charCodeAt(0))};return z?(B=B.replace(u,function(V){return Z&&L(h,V)?"&"+h[V]+";":ie(V)}),Z&&(B=B.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),Z&&(B=B.replace(c,function(V){return"&"+h[V]+";"}))):Z?(ye||(B=B.replace(d,function(V){return"&"+h[V]+";"})),B=B.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),B=B.replace(c,function(V){return"&"+h[V]+";"})):ye||(B=B.replace(d,ie)),B.replace(n,function(V){var ht=V.charCodeAt(0),Ar=V.charCodeAt(1),ui=(ht-55296)*1024+Ar-56320+65536;return Ee(ui)}).replace(l,ie)};R.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var M=function(B,H){H=O(H,M.options);var Y=H.strict;return Y&&p.test(B)&&N("malformed character reference"),B.replace(v,function(z,Z,ye,Ee,ie,V,ht,Ar,ui){var La,es,_t,Rt,ts,vr;return Z?(ts=Z,E[ts]):ye?(ts=ye,vr=Ee,vr&&H.isAttributeValue?(Y&&vr=="="&&N("`&` did not start a character reference"),z):(Y&&N("named character reference was not terminated by a semicolon"),y[ts]+(vr||""))):ie?(_t=ie,es=V,Y&&!es&&N("character reference was not terminated by a semicolon"),La=parseInt(_t,10),U(La,Y)):ht?(Rt=ht,es=Ar,Y&&!es&&N("character reference was not terminated by a semicolon"),La=parseInt(Rt,16),U(La,Y)):(Y&&N("named character reference was not terminated by a semicolon"),z)})};M.options={isAttributeValue:!1,strict:!1};var G=function(B){return B.replace(d,function(H){return f[H]})},k={version:"1.2.0",encode:R,decode:M,escape:G,unescape:M};if(r&&!r.nodeType)if(i)i.exports=k;else for(var I in k)L(k,I)&&(r[I]=k[I]);else e.he=k})(P)})(ih,ih.exports);var m2=ih.exports;Object.defineProperty(yu,"__esModule",{value:!0});var sp=m2,$A=function(){function a(t,e){t===void 0&&(t=null),this.parentNode=t,this.childNodes=[],Object.defineProperty(this,"range",{enumerable:!1,writable:!0,configurable:!0,value:e??[-1,-1]})}return a.prototype.remove=function(){var t=this;if(this.parentNode){var e=this.parentNode.childNodes;this.parentNode.childNodes=e.filter(function(r){return t!==r}),this.parentNode=null}return this},Object.defineProperty(a.prototype,"innerText",{get:function(){return this.rawText},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"textContent",{get:function(){return(0,sp.decode)(this.rawText)},set:function(t){this.rawText=(0,sp.encode)(t)},enumerable:!1,configurable:!0}),a}();yu.default=$A;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});var Kf;(function(a){a[a.ELEMENT_NODE=1]="ELEMENT_NODE",a[a.TEXT_NODE=3]="TEXT_NODE",a[a.COMMENT_NODE=8]="COMMENT_NODE"})(Kf||(Kf={}));Ca.default=Kf;var WA=P&&P.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},a(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y1=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qd,"__esModule",{value:!0});var XA=y1(yu),YA=y1(Ca),KA=function(a){WA(t,a);function t(e,r,i,s){r===void 0&&(r=null),s===void 0&&(s="!--");var n=a.call(this,r,i)||this;return n.rawText=e,n.rawTagName=s,n.nodeType=YA.default.COMMENT_NODE,n}return t.prototype.clone=function(){return new t(this.rawText,null,void 0,this.rawTagName)},Object.defineProperty(t.prototype,"text",{get:function(){return this.rawText},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"<!--".concat(this.rawText,"-->")},t}(XA.default);Qd.default=KA;var ai={},E1={},D1={},Dt={},Ta={},lc={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Doctype=a.CDATA=a.Tag=a.Style=a.Script=a.Comment=a.Directive=a.Text=a.Root=a.isTag=a.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=a.ElementType||(a.ElementType={}));function e(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}a.isTag=e,a.Root=t.Root,a.Text=t.Text,a.Directive=t.Directive,a.Comment=t.Comment,a.Script=t.Script,a.Style=t.Style,a.Tag=t.Tag,a.CDATA=t.CDATA,a.Doctype=t.Doctype})(lc);var Q={},Zi=P&&P.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},a(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wu=P&&P.__assign||function(){return Wu=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}return a},Wu.apply(this,arguments)};Object.defineProperty(Q,"__esModule",{value:!0});Q.cloneNode=Q.hasChildren=Q.isDocument=Q.isDirective=Q.isComment=Q.isText=Q.isCDATA=Q.isTag=Q.Element=Q.Document=Q.CDATA=Q.NodeWithChildren=Q.ProcessingInstruction=Q.Comment=Q.Text=Q.DataNode=Q.Node=void 0;var ct=lc,b2=function(){function a(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(a.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),a.prototype.cloneNode=function(t){return t===void 0&&(t=!1),A2(this,t)},a}();Q.Node=b2;var e0=function(a){Zi(t,a);function t(e){var r=a.call(this)||this;return r.data=e,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(b2);Q.DataNode=e0;var w1=function(a){Zi(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=ct.ElementType.Text,e}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(e0);Q.Text=w1;var _1=function(a){Zi(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=ct.ElementType.Comment,e}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(e0);Q.Comment=_1;var x1=function(a){Zi(t,a);function t(e,r){var i=a.call(this,r)||this;return i.name=e,i.type=ct.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(e0);Q.ProcessingInstruction=x1;var t0=function(a){Zi(t,a);function t(e){var r=a.call(this)||this;return r.children=e,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(b2);Q.NodeWithChildren=t0;var C1=function(a){Zi(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=ct.ElementType.CDATA,e}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(t0);Q.CDATA=C1;var T1=function(a){Zi(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=ct.ElementType.Root,e}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(t0);Q.Document=T1;var S1=function(a){Zi(t,a);function t(e,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=e==="script"?ct.ElementType.Script:e==="style"?ct.ElementType.Style:ct.ElementType.Tag);var n=a.call(this,i)||this;return n.name=e,n.attribs=r,n.type=s,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:e.attribs[r],namespace:(i=e["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=e["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(t0);Q.Element=S1;function L1(a){return(0,ct.isTag)(a)}Q.isTag=L1;function N1(a){return a.type===ct.ElementType.CDATA}Q.isCDATA=N1;function F1(a){return a.type===ct.ElementType.Text}Q.isText=F1;function R1(a){return a.type===ct.ElementType.Comment}Q.isComment=R1;function k1(a){return a.type===ct.ElementType.Directive}Q.isDirective=k1;function P1(a){return a.type===ct.ElementType.Root}Q.isDocument=P1;function JA(a){return Object.prototype.hasOwnProperty.call(a,"children")}Q.hasChildren=JA;function A2(a,t){t===void 0&&(t=!1);var e;if(F1(a))e=new w1(a.data);else if(R1(a))e=new _1(a.data);else if(L1(a)){var r=t?x0(a.children):[],i=new S1(a.name,Wu({},a.attribs),r);r.forEach(function(l){return l.parent=i}),a.namespace!=null&&(i.namespace=a.namespace),a["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Wu({},a["x-attribsNamespace"])),a["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Wu({},a["x-attribsPrefix"])),e=i}else if(N1(a)){var r=t?x0(a.children):[],s=new C1(r);r.forEach(function(c){return c.parent=s}),e=s}else if(P1(a)){var r=t?x0(a.children):[],n=new T1(r);r.forEach(function(c){return c.parent=n}),a["x-mode"]&&(n["x-mode"]=a["x-mode"]),e=n}else if(k1(a)){var u=new x1(a.name,a.data);a["x-name"]!=null&&(u["x-name"]=a["x-name"],u["x-publicId"]=a["x-publicId"],u["x-systemId"]=a["x-systemId"]),e=u}else throw new Error("Not implemented yet: ".concat(a.type));return e.startIndex=a.startIndex,e.endIndex=a.endIndex,a.sourceCodeLocation!=null&&(e.sourceCodeLocation=a.sourceCodeLocation),e}Q.cloneNode=A2;function x0(a){for(var t=a.map(function(r){return A2(r,!0)}),e=1;e<t.length;e++)t[e].prev=t[e-1],t[e-1].next=t[e];return t}(function(a){var t=P&&P.__createBinding||(Object.create?function(u,l,c,h){h===void 0&&(h=c);var d=Object.getOwnPropertyDescriptor(l,c);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(u,h,d)}:function(u,l,c,h){h===void 0&&(h=c),u[h]=l[c]}),e=P&&P.__exportStar||function(u,l){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,u,c)};Object.defineProperty(a,"__esModule",{value:!0}),a.DomHandler=void 0;var r=lc,i=Q;e(Q,a);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},n=function(){function u(l,c,h){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(h=c,c=s),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??s,this.elementCB=h??null}return u.prototype.onparserinit=function(l){this.parser=l},u.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(l){this.handleCallback(l)},u.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},u.prototype.onopentag=function(l,c){var h=this.options.xmlMode?r.ElementType.Tag:void 0,d=new i.Element(l,c,void 0,h);this.addNode(d),this.tagStack.push(d)},u.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var h=new i.Text(l);this.addNode(h),this.lastNode=h}},u.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var c=new i.Comment(l);this.addNode(c),this.lastNode=c},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var l=new i.Text(""),c=new i.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(l,c){var h=new i.ProcessingInstruction(l,c);this.addNode(h)},u.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},u.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],h=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),h&&(l.prev=h,h.next=l),l.parent=c,this.lastNode=null},u}();a.DomHandler=n,a.default=n})(Ta);var cc={},M1={},Jf={},v2={};Object.defineProperty(v2,"__esModule",{value:!0});v2.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(a){return a.charCodeAt(0)}));var y2={};Object.defineProperty(y2,"__esModule",{value:!0});y2.default=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(a){return a.charCodeAt(0)}));var Zf={};(function(a){var t;Object.defineProperty(a,"__esModule",{value:!0}),a.replaceCodePoint=a.fromCodePoint=void 0;var e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);a.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(s){var n="";return s>65535&&(s-=65536,n+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),n+=String.fromCharCode(s),n};function r(s){var n;return s>=55296&&s<=57343||s>1114111?65533:(n=e.get(s))!==null&&n!==void 0?n:s}a.replaceCodePoint=r;function i(s){return(0,a.fromCodePoint)(r(s))}a.default=i})(Zf);(function(a){var t=P&&P.__createBinding||(Object.create?function(C,F,N,R){R===void 0&&(R=N);var M=Object.getOwnPropertyDescriptor(F,N);(!M||("get"in M?!F.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return F[N]}}),Object.defineProperty(C,R,M)}:function(C,F,N,R){R===void 0&&(R=N),C[R]=F[N]}),e=P&&P.__setModuleDefault||(Object.create?function(C,F){Object.defineProperty(C,"default",{enumerable:!0,value:F})}:function(C,F){C.default=F}),r=P&&P.__importStar||function(C){if(C&&C.__esModule)return C;var F={};if(C!=null)for(var N in C)N!=="default"&&Object.prototype.hasOwnProperty.call(C,N)&&t(F,C,N);return e(F,C),F},i=P&&P.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(a,"__esModule",{value:!0}),a.decodeXML=a.decodeHTMLStrict=a.decodeHTMLAttribute=a.decodeHTML=a.determineBranch=a.EntityDecoder=a.DecodingMode=a.BinTrieFlags=a.fromCodePoint=a.replaceCodePoint=a.decodeCodePoint=a.xmlDecodeTree=a.htmlDecodeTree=void 0;var s=i(v2);a.htmlDecodeTree=s.default;var n=i(y2);a.xmlDecodeTree=n.default;var u=r(Zf);a.decodeCodePoint=u.default;var l=Zf;Object.defineProperty(a,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(a,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var c;(function(C){C[C.NUM=35]="NUM",C[C.SEMI=59]="SEMI",C[C.EQUALS=61]="EQUALS",C[C.ZERO=48]="ZERO",C[C.NINE=57]="NINE",C[C.LOWER_A=97]="LOWER_A",C[C.LOWER_F=102]="LOWER_F",C[C.LOWER_X=120]="LOWER_X",C[C.LOWER_Z=122]="LOWER_Z",C[C.UPPER_A=65]="UPPER_A",C[C.UPPER_F=70]="UPPER_F",C[C.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var h=32,d;(function(C){C[C.VALUE_LENGTH=49152]="VALUE_LENGTH",C[C.BRANCH_LENGTH=16256]="BRANCH_LENGTH",C[C.JUMP_TABLE=127]="JUMP_TABLE"})(d=a.BinTrieFlags||(a.BinTrieFlags={}));function f(C){return C>=c.ZERO&&C<=c.NINE}function p(C){return C>=c.UPPER_A&&C<=c.UPPER_F||C>=c.LOWER_A&&C<=c.LOWER_F}function m(C){return C>=c.UPPER_A&&C<=c.UPPER_Z||C>=c.LOWER_A&&C<=c.LOWER_Z||f(C)}function v(C){return C===c.EQUALS||m(C)}var E;(function(C){C[C.EntityStart=0]="EntityStart",C[C.NumericStart=1]="NumericStart",C[C.NumericDecimal=2]="NumericDecimal",C[C.NumericHex=3]="NumericHex",C[C.NamedEntity=4]="NamedEntity"})(E||(E={}));var y;(function(C){C[C.Legacy=0]="Legacy",C[C.Strict=1]="Strict",C[C.Attribute=2]="Attribute"})(y=a.DecodingMode||(a.DecodingMode={}));var D=function(){function C(F,N,R){this.decodeTree=F,this.emitCodePoint=N,this.errors=R,this.state=E.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return C.prototype.startEntity=function(F){this.decodeMode=F,this.state=E.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},C.prototype.write=function(F,N){switch(this.state){case E.EntityStart:return F.charCodeAt(N)===c.NUM?(this.state=E.NumericStart,this.consumed+=1,this.stateNumericStart(F,N+1)):(this.state=E.NamedEntity,this.stateNamedEntity(F,N));case E.NumericStart:return this.stateNumericStart(F,N);case E.NumericDecimal:return this.stateNumericDecimal(F,N);case E.NumericHex:return this.stateNumericHex(F,N);case E.NamedEntity:return this.stateNamedEntity(F,N)}},C.prototype.stateNumericStart=function(F,N){return N>=F.length?-1:(F.charCodeAt(N)|h)===c.LOWER_X?(this.state=E.NumericHex,this.consumed+=1,this.stateNumericHex(F,N+1)):(this.state=E.NumericDecimal,this.stateNumericDecimal(F,N))},C.prototype.addToNumericResult=function(F,N,R,M){if(N!==R){var G=R-N;this.result=this.result*Math.pow(M,G)+parseInt(F.substr(N,G),M),this.consumed+=G}},C.prototype.stateNumericHex=function(F,N){for(var R=N;N<F.length;){var M=F.charCodeAt(N);if(f(M)||p(M))N+=1;else return this.addToNumericResult(F,R,N,16),this.emitNumericEntity(M,3)}return this.addToNumericResult(F,R,N,16),-1},C.prototype.stateNumericDecimal=function(F,N){for(var R=N;N<F.length;){var M=F.charCodeAt(N);if(f(M))N+=1;else return this.addToNumericResult(F,R,N,10),this.emitNumericEntity(M,2)}return this.addToNumericResult(F,R,N,10),-1},C.prototype.emitNumericEntity=function(F,N){var R;if(this.consumed<=N)return(R=this.errors)===null||R===void 0||R.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(F===c.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(F!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},C.prototype.stateNamedEntity=function(F,N){for(var R=this.decodeTree,M=R[this.treeIndex],G=(M&d.VALUE_LENGTH)>>14;N<F.length;N++,this.excess++){var k=F.charCodeAt(N);if(this.treeIndex=_(R,M,this.treeIndex+Math.max(1,G),k),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&(G===0||v(k))?0:this.emitNotTerminatedNamedEntity();if(M=R[this.treeIndex],G=(M&d.VALUE_LENGTH)>>14,G!==0){if(k===c.SEMI)return this.emitNamedEntityData(this.treeIndex,G,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},C.prototype.emitNotTerminatedNamedEntity=function(){var F,N=this,R=N.result,M=N.decodeTree,G=(M[R]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(R,G,this.consumed),(F=this.errors)===null||F===void 0||F.missingSemicolonAfterCharacterReference(),this.consumed},C.prototype.emitNamedEntityData=function(F,N,R){var M=this.decodeTree;return this.emitCodePoint(N===1?M[F]&~d.VALUE_LENGTH:M[F+1],R),N===3&&this.emitCodePoint(M[F+2],R),R},C.prototype.end=function(){var F;switch(this.state){case E.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case E.NumericDecimal:return this.emitNumericEntity(0,2);case E.NumericHex:return this.emitNumericEntity(0,3);case E.NumericStart:return(F=this.errors)===null||F===void 0||F.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case E.EntityStart:return 0}},C}();a.EntityDecoder=D;function w(C){var F="",N=new D(C,function(R){return F+=(0,u.fromCodePoint)(R)});return function(M,G){for(var k=0,I=0;(I=M.indexOf("&",I))>=0;){F+=M.slice(k,I),N.startEntity(G);var B=N.write(M,I+1);if(B<0){k=I+N.end();break}k=I+B,I=B===0?k+1:k}var H=F+M.slice(k);return F="",H}}function _(C,F,N,R){var M=(F&d.BRANCH_LENGTH)>>7,G=F&d.JUMP_TABLE;if(M===0)return G!==0&&R===G?N:-1;if(G){var k=R-G;return k<0||k>=M?-1:C[N+k]-1}for(var I=N,B=I+M-1;I<=B;){var H=I+B>>>1,Y=C[H];if(Y<R)I=H+1;else if(Y>R)B=H-1;else return C[H+M]}return-1}a.determineBranch=_;var T=w(s.default),x=w(n.default);function L(C,F){return F===void 0&&(F=y.Legacy),T(C,F)}a.decodeHTML=L;function S(C){return T(C,y.Attribute)}a.decodeHTMLAttribute=S;function O(C){return T(C,y.Strict)}a.decodeHTMLStrict=O;function U(C){return x(C,y.Strict)}a.decodeXML=U})(Jf);var Da={},E2={};Object.defineProperty(E2,"__esModule",{value:!0});function vc(a){for(var t=1;t<a.length;t++)a[t][0]+=a[t-1][0]+1;return a}E2.default=new Map(vc([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(vc([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(vc([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(vc([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var sh={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.escapeText=a.escapeAttribute=a.escapeUTF8=a.escape=a.encodeXML=a.getCodePoint=a.xmlReplacer=void 0,a.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);a.getCodePoint=String.prototype.codePointAt!=null?function(i,s){return i.codePointAt(s)}:function(i,s){return(i.charCodeAt(s)&64512)===55296?(i.charCodeAt(s)-55296)*1024+i.charCodeAt(s+1)-56320+65536:i.charCodeAt(s)};function e(i){for(var s="",n=0,u;(u=a.xmlReplacer.exec(i))!==null;){var l=u.index,c=i.charCodeAt(l),h=t.get(c);h!==void 0?(s+=i.substring(n,l)+h,n=l+1):(s+="".concat(i.substring(n,l),"&#x").concat((0,a.getCodePoint)(i,l).toString(16),";"),n=a.xmlReplacer.lastIndex+=+((c&64512)===55296))}return s+i.substr(n)}a.encodeXML=e,a.escape=e;function r(i,s){return function(u){for(var l,c=0,h="";l=i.exec(u);)c!==l.index&&(h+=u.substring(c,l.index)),h+=s.get(l[0].charCodeAt(0)),c=l.index+1;return h+u.substring(c)}}a.escapeUTF8=r(/[&<>'"]/g,t),a.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),a.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(sh);var ZA=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Da,"__esModule",{value:!0});Da.encodeNonAsciiHTML=Da.encodeHTML=void 0;var QA=ZA(E2),B1=sh,ev=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function tv(a){return I1(ev,a)}Da.encodeHTML=tv;function rv(a){return I1(B1.xmlReplacer,a)}Da.encodeNonAsciiHTML=rv;function I1(a,t){for(var e="",r=0,i;(i=a.exec(t))!==null;){var s=i.index;e+=t.substring(r,s);var n=t.charCodeAt(s),u=QA.default.get(n);if(typeof u=="object"){if(s+1<t.length){var l=t.charCodeAt(s+1),c=typeof u.n=="number"?u.n===l?u.o:void 0:u.n.get(l);if(c!==void 0){e+=c,r=a.lastIndex+=1;continue}}u=u.v}if(u!==void 0)e+=u,r=s+1;else{var h=(0,B1.getCodePoint)(t,s);e+="&#x".concat(h.toString(16),";"),r=a.lastIndex+=+(h!==n)}}return e+t.substr(r)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.decodeXMLStrict=a.decodeHTML5Strict=a.decodeHTML4Strict=a.decodeHTML5=a.decodeHTML4=a.decodeHTMLAttribute=a.decodeHTMLStrict=a.decodeHTML=a.decodeXML=a.DecodingMode=a.EntityDecoder=a.encodeHTML5=a.encodeHTML4=a.encodeNonAsciiHTML=a.encodeHTML=a.escapeText=a.escapeAttribute=a.escapeUTF8=a.escape=a.encodeXML=a.encode=a.decodeStrict=a.decode=a.EncodingMode=a.EntityLevel=void 0;var t=Jf,e=Da,r=sh,i;(function(f){f[f.XML=0]="XML",f[f.HTML=1]="HTML"})(i=a.EntityLevel||(a.EntityLevel={}));var s;(function(f){f[f.UTF8=0]="UTF8",f[f.ASCII=1]="ASCII",f[f.Extensive=2]="Extensive",f[f.Attribute=3]="Attribute",f[f.Text=4]="Text"})(s=a.EncodingMode||(a.EncodingMode={}));function n(f,p){p===void 0&&(p=i.XML);var m=typeof p=="number"?p:p.level;if(m===i.HTML){var v=typeof p=="object"?p.mode:void 0;return(0,t.decodeHTML)(f,v)}return(0,t.decodeXML)(f)}a.decode=n;function u(f,p){var m;p===void 0&&(p=i.XML);var v=typeof p=="number"?{level:p}:p;return(m=v.mode)!==null&&m!==void 0||(v.mode=t.DecodingMode.Strict),n(f,v)}a.decodeStrict=u;function l(f,p){p===void 0&&(p=i.XML);var m=typeof p=="number"?{level:p}:p;return m.mode===s.UTF8?(0,r.escapeUTF8)(f):m.mode===s.Attribute?(0,r.escapeAttribute)(f):m.mode===s.Text?(0,r.escapeText)(f):m.level===i.HTML?m.mode===s.ASCII?(0,e.encodeNonAsciiHTML)(f):(0,e.encodeHTML)(f):(0,r.encodeXML)(f)}a.encode=l;var c=sh;Object.defineProperty(a,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(a,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(a,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(a,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(a,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var h=Da;Object.defineProperty(a,"encodeHTML",{enumerable:!0,get:function(){return h.encodeHTML}}),Object.defineProperty(a,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return h.encodeNonAsciiHTML}}),Object.defineProperty(a,"encodeHTML4",{enumerable:!0,get:function(){return h.encodeHTML}}),Object.defineProperty(a,"encodeHTML5",{enumerable:!0,get:function(){return h.encodeHTML}});var d=Jf;Object.defineProperty(a,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(a,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(a,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(a,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(a,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(a,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(a,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(a,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(a,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(a,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(a,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})})(M1);var bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.attributeNames=bu.elementNames=void 0;bu.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(a){return[a.toLowerCase(),a]}));bu.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(a){return[a.toLowerCase(),a]}));var Oa=P&&P.__assign||function(){return Oa=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}return a},Oa.apply(this,arguments)},iv=P&&P.__createBinding||(Object.create?function(a,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(a,r,i)}:function(a,t,e,r){r===void 0&&(r=e),a[r]=t[e]}),sv=P&&P.__setModuleDefault||(Object.create?function(a,t){Object.defineProperty(a,"default",{enumerable:!0,value:t})}:function(a,t){a.default=t}),av=P&&P.__importStar||function(a){if(a&&a.__esModule)return a;var t={};if(a!=null)for(var e in a)e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)&&iv(t,a,e);return sv(t,a),t};Object.defineProperty(cc,"__esModule",{value:!0});cc.render=void 0;var Dr=av(lc),ah=M1,O1=bu,nv=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function uv(a){return a.replace(/"/g,"&quot;")}function ov(a,t){var e;if(a){var r=((e=t.encodeEntities)!==null&&e!==void 0?e:t.decodeEntities)===!1?uv:t.xmlMode||t.encodeEntities!=="utf8"?ah.encodeXML:ah.escapeAttribute;return Object.keys(a).map(function(i){var s,n,u=(s=a[i])!==null&&s!==void 0?s:"";return t.xmlMode==="foreign"&&(i=(n=O1.attributeNames.get(i))!==null&&n!==void 0?n:i),!t.emptyAttrs&&!t.xmlMode&&u===""?i:"".concat(i,'="').concat(r(u),'"')}).join(" ")}}var ap=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function r0(a,t){t===void 0&&(t={});for(var e=("length"in a)?a:[a],r="",i=0;i<e.length;i++)r+=lv(e[i],t);return r}cc.render=r0;cc.default=r0;function lv(a,t){switch(a.type){case Dr.Root:return r0(a.children,t);case Dr.Doctype:case Dr.Directive:return fv(a);case Dr.Comment:return mv(a);case Dr.CDATA:return gv(a);case Dr.Script:case Dr.Style:case Dr.Tag:return dv(a,t);case Dr.Text:return pv(a,t)}}var cv=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),hv=new Set(["svg","math"]);function dv(a,t){var e;t.xmlMode==="foreign"&&(a.name=(e=O1.elementNames.get(a.name))!==null&&e!==void 0?e:a.name,a.parent&&cv.has(a.parent.name)&&(t=Oa(Oa({},t),{xmlMode:!1}))),!t.xmlMode&&hv.has(a.name)&&(t=Oa(Oa({},t),{xmlMode:"foreign"}));var r="<".concat(a.name),i=ov(a.attribs,t);return i&&(r+=" ".concat(i)),a.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&ap.has(a.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",a.children.length>0&&(r+=r0(a.children,t)),(t.xmlMode||!ap.has(a.name))&&(r+="</".concat(a.name,">"))),r}function fv(a){return"<".concat(a.data,">")}function pv(a,t){var e,r=a.data||"";return((e=t.encodeEntities)!==null&&e!==void 0?e:t.decodeEntities)!==!1&&!(!t.xmlMode&&a.parent&&nv.has(a.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?(0,ah.encodeXML)(r):(0,ah.escapeText)(r)),r}function gv(a){return"<![CDATA[".concat(a.children[0].data,"]]>")}function mv(a){return"<!--".concat(a.data,"-->")}var bv=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.innerText=Dt.textContent=Dt.getText=Dt.getInnerHTML=Dt.getOuterHTML=void 0;var br=Ta,Av=bv(cc),vv=lc;function q1(a,t){return(0,Av.default)(a,t)}Dt.getOuterHTML=q1;function yv(a,t){return(0,br.hasChildren)(a)?a.children.map(function(e){return q1(e,t)}).join(""):""}Dt.getInnerHTML=yv;function Zc(a){return Array.isArray(a)?a.map(Zc).join(""):(0,br.isTag)(a)?a.name==="br"?`
`:Zc(a.children):(0,br.isCDATA)(a)?Zc(a.children):(0,br.isText)(a)?a.data:""}Dt.getText=Zc;function Qf(a){return Array.isArray(a)?a.map(Qf).join(""):(0,br.hasChildren)(a)&&!(0,br.isComment)(a)?Qf(a.children):(0,br.isText)(a)?a.data:""}Dt.textContent=Qf;function e2(a){return Array.isArray(a)?a.map(e2).join(""):(0,br.hasChildren)(a)&&(a.type===vv.ElementType.Tag||(0,br.isCDATA)(a))?e2(a.children):(0,br.isText)(a)?a.data:""}Dt.innerText=e2;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.prevElementSibling=Ie.nextElementSibling=Ie.getName=Ie.hasAttrib=Ie.getAttributeValue=Ie.getSiblings=Ie.getParent=Ie.getChildren=void 0;var D2=Ta;function H1(a){return(0,D2.hasChildren)(a)?a.children:[]}Ie.getChildren=H1;function j1(a){return a.parent||null}Ie.getParent=j1;function Ev(a){var t,e,r=j1(a);if(r!=null)return H1(r);for(var i=[a],s=a.prev,n=a.next;s!=null;)i.unshift(s),t=s,s=t.prev;for(;n!=null;)i.push(n),e=n,n=e.next;return i}Ie.getSiblings=Ev;function Dv(a,t){var e;return(e=a.attribs)===null||e===void 0?void 0:e[t]}Ie.getAttributeValue=Dv;function wv(a,t){return a.attribs!=null&&Object.prototype.hasOwnProperty.call(a.attribs,t)&&a.attribs[t]!=null}Ie.hasAttrib=wv;function _v(a){return a.name}Ie.getName=_v;function xv(a){for(var t,e=a.next;e!==null&&!(0,D2.isTag)(e);)t=e,e=t.next;return e}Ie.nextElementSibling=xv;function Cv(a){for(var t,e=a.prev;e!==null&&!(0,D2.isTag)(e);)t=e,e=t.prev;return e}Ie.prevElementSibling=Cv;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.prepend=ot.prependChild=ot.append=ot.appendChild=ot.replaceElement=ot.removeElement=void 0;function hc(a){if(a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),a.parent){var t=a.parent.children,e=t.lastIndexOf(a);e>=0&&t.splice(e,1)}a.next=null,a.prev=null,a.parent=null}ot.removeElement=hc;function Tv(a,t){var e=t.prev=a.prev;e&&(e.next=t);var r=t.next=a.next;r&&(r.prev=t);var i=t.parent=a.parent;if(i){var s=i.children;s[s.lastIndexOf(a)]=t,a.parent=null}}ot.replaceElement=Tv;function Sv(a,t){if(hc(t),t.next=null,t.parent=a,a.children.push(t)>1){var e=a.children[a.children.length-2];e.next=t,t.prev=e}else t.prev=null}ot.appendChild=Sv;function Lv(a,t){hc(t);var e=a.parent,r=a.next;if(t.next=r,t.prev=a,a.next=t,t.parent=e,r){if(r.prev=t,e){var i=e.children;i.splice(i.lastIndexOf(r),0,t)}}else e&&e.children.push(t)}ot.append=Lv;function Nv(a,t){if(hc(t),t.parent=a,t.prev=null,a.children.unshift(t)!==1){var e=a.children[1];e.prev=t,t.next=e}else t.next=null}ot.prependChild=Nv;function Fv(a,t){hc(t);var e=a.parent;if(e){var r=e.children;r.splice(r.indexOf(a),0,t)}a.prev&&(a.prev.next=t),t.parent=e,t.prev=a.prev,t.next=a,a.prev=t}ot.prepend=Fv;var et={};Object.defineProperty(et,"__esModule",{value:!0});et.findAll=et.existsOne=et.findOne=et.findOneChild=et.find=et.filter=void 0;var i0=Ta;function Rv(a,t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=1/0),U1(a,Array.isArray(t)?t:[t],e,r)}et.filter=Rv;function U1(a,t,e,r){for(var i=[],s=[t],n=[0];;){if(n[0]>=s[0].length){if(n.length===1)return i;s.shift(),n.shift();continue}var u=s[0][n[0]++];if(a(u)&&(i.push(u),--r<=0))return i;e&&(0,i0.hasChildren)(u)&&u.children.length>0&&(n.unshift(0),s.unshift(u.children))}}et.find=U1;function kv(a,t){return t.find(a)}et.findOneChild=kv;function V1(a,t,e){e===void 0&&(e=!0);for(var r=null,i=0;i<t.length&&!r;i++){var s=t[i];if((0,i0.isTag)(s))a(s)?r=s:e&&s.children.length>0&&(r=V1(a,s.children,!0));else continue}return r}et.findOne=V1;function G1(a,t){return t.some(function(e){return(0,i0.isTag)(e)&&(a(e)||G1(a,e.children))})}et.existsOne=G1;function Pv(a,t){for(var e=[],r=[t],i=[0];;){if(i[0]>=r[0].length){if(r.length===1)return e;r.shift(),i.shift();continue}var s=r[0][i[0]++];(0,i0.isTag)(s)&&(a(s)&&e.push(s),s.children.length>0&&(i.unshift(0),r.unshift(s.children)))}}et.findAll=Pv;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.getElementsByTagType=wt.getElementsByTagName=wt.getElementById=wt.getElements=wt.testElement=void 0;var os=Ta,s0=et,nh={tag_name:function(a){return typeof a=="function"?function(t){return(0,os.isTag)(t)&&a(t.name)}:a==="*"?os.isTag:function(t){return(0,os.isTag)(t)&&t.name===a}},tag_type:function(a){return typeof a=="function"?function(t){return a(t.type)}:function(t){return t.type===a}},tag_contains:function(a){return typeof a=="function"?function(t){return(0,os.isText)(t)&&a(t.data)}:function(t){return(0,os.isText)(t)&&t.data===a}}};function z1(a,t){return typeof t=="function"?function(e){return(0,os.isTag)(e)&&t(e.attribs[a])}:function(e){return(0,os.isTag)(e)&&e.attribs[a]===t}}function Mv(a,t){return function(e){return a(e)||t(e)}}function $1(a){var t=Object.keys(a).map(function(e){var r=a[e];return Object.prototype.hasOwnProperty.call(nh,e)?nh[e](r):z1(e,r)});return t.length===0?null:t.reduce(Mv)}function Bv(a,t){var e=$1(a);return e?e(t):!0}wt.testElement=Bv;function Iv(a,t,e,r){r===void 0&&(r=1/0);var i=$1(a);return i?(0,s0.filter)(i,t,e,r):[]}wt.getElements=Iv;function Ov(a,t,e){return e===void 0&&(e=!0),Array.isArray(t)||(t=[t]),(0,s0.findOne)(z1("id",a),t,e)}wt.getElementById=Ov;function qv(a,t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=1/0),(0,s0.filter)(nh.tag_name(a),t,e,r)}wt.getElementsByTagName=qv;function Hv(a,t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=1/0),(0,s0.filter)(nh.tag_type(a),t,e,r)}wt.getElementsByTagType=Hv;var W1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.uniqueSort=a.compareDocumentPosition=a.DocumentPosition=a.removeSubsets=void 0;var t=Ta;function e(n){for(var u=n.length;--u>=0;){var l=n[u];if(u>0&&n.lastIndexOf(l,u-1)>=0){n.splice(u,1);continue}for(var c=l.parent;c;c=c.parent)if(n.includes(c)){n.splice(u,1);break}}return n}a.removeSubsets=e;var r;(function(n){n[n.DISCONNECTED=1]="DISCONNECTED",n[n.PRECEDING=2]="PRECEDING",n[n.FOLLOWING=4]="FOLLOWING",n[n.CONTAINS=8]="CONTAINS",n[n.CONTAINED_BY=16]="CONTAINED_BY"})(r=a.DocumentPosition||(a.DocumentPosition={}));function i(n,u){var l=[],c=[];if(n===u)return 0;for(var h=(0,t.hasChildren)(n)?n:n.parent;h;)l.unshift(h),h=h.parent;for(h=(0,t.hasChildren)(u)?u:u.parent;h;)c.unshift(h),h=h.parent;for(var d=Math.min(l.length,c.length),f=0;f<d&&l[f]===c[f];)f++;if(f===0)return r.DISCONNECTED;var p=l[f-1],m=p.children,v=l[f],E=c[f];return m.indexOf(v)>m.indexOf(E)?p===u?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:p===n?r.PRECEDING|r.CONTAINS:r.PRECEDING}a.compareDocumentPosition=i;function s(n){return n=n.filter(function(u,l,c){return!c.includes(u,l+1)}),n.sort(function(u,l){var c=i(u,l);return c&r.PRECEDING?-1:c&r.FOLLOWING?1:0}),n}a.uniqueSort=s})(W1);var a0={};Object.defineProperty(a0,"__esModule",{value:!0});a0.getFeed=void 0;var jv=Dt,dc=wt;function Uv(a){var t=uh(Wv,a);return t?t.name==="feed"?Vv(t):Gv(t):null}a0.getFeed=Uv;function Vv(a){var t,e=a.children,r={type:"atom",items:(0,dc.getElementsByTagName)("entry",e).map(function(n){var u,l=n.children,c={media:X1(l)};ut(c,"id","id",l),ut(c,"title","title",l);var h=(u=uh("link",l))===null||u===void 0?void 0:u.attribs.href;h&&(c.link=h);var d=$i("summary",l)||$i("content",l);d&&(c.description=d);var f=$i("updated",l);return f&&(c.pubDate=new Date(f)),c})};ut(r,"id","id",e),ut(r,"title","title",e);var i=(t=uh("link",e))===null||t===void 0?void 0:t.attribs.href;i&&(r.link=i),ut(r,"description","subtitle",e);var s=$i("updated",e);return s&&(r.updated=new Date(s)),ut(r,"author","email",e,!0),r}function Gv(a){var t,e,r=(e=(t=uh("channel",a.children))===null||t===void 0?void 0:t.children)!==null&&e!==void 0?e:[],i={type:a.name.substr(0,3),id:"",items:(0,dc.getElementsByTagName)("item",a.children).map(function(n){var u=n.children,l={media:X1(u)};ut(l,"id","guid",u),ut(l,"title","title",u),ut(l,"link","link",u),ut(l,"description","description",u);var c=$i("pubDate",u)||$i("dc:date",u);return c&&(l.pubDate=new Date(c)),l})};ut(i,"title","title",r),ut(i,"link","link",r),ut(i,"description","description",r);var s=$i("lastBuildDate",r);return s&&(i.updated=new Date(s)),ut(i,"author","managingEditor",r,!0),i}var zv=["url","type","lang"],$v=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function X1(a){return(0,dc.getElementsByTagName)("media:content",a).map(function(t){for(var e=t.attribs,r={medium:e.medium,isDefault:!!e.isDefault},i=0,s=zv;i<s.length;i++){var n=s[i];e[n]&&(r[n]=e[n])}for(var u=0,l=$v;u<l.length;u++){var n=l[u];e[n]&&(r[n]=parseInt(e[n],10))}return e.expression&&(r.expression=e.expression),r})}function uh(a,t){return(0,dc.getElementsByTagName)(a,t,!0,1)[0]}function $i(a,t,e){return e===void 0&&(e=!1),(0,jv.textContent)((0,dc.getElementsByTagName)(a,t,e,1)).trim()}function ut(a,t,e,r,i){i===void 0&&(i=!1);var s=$i(e,r,i);s&&(a[t]=s)}function Wv(a){return a==="rss"||a==="feed"||a==="rdf:RDF"}(function(a){var t=P&&P.__createBinding||(Object.create?function(i,s,n,u){u===void 0&&(u=n);var l=Object.getOwnPropertyDescriptor(s,n);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[n]}}),Object.defineProperty(i,u,l)}:function(i,s,n,u){u===void 0&&(u=n),i[u]=s[n]}),e=P&&P.__exportStar||function(i,s){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(s,n)&&t(s,i,n)};Object.defineProperty(a,"__esModule",{value:!0}),a.hasChildren=a.isDocument=a.isComment=a.isText=a.isCDATA=a.isTag=void 0,e(Dt,a),e(Ie,a),e(ot,a),e(et,a),e(wt,a),e(W1,a),e(a0,a);var r=Ta;Object.defineProperty(a,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(a,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(a,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(a,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(a,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(a,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(D1);var Eu={trueFunc:function(){return!0},falseFunc:function(){return!1}},Xi={},te;(function(a){a.Attribute="attribute",a.Pseudo="pseudo",a.PseudoElement="pseudo-element",a.Tag="tag",a.Universal="universal",a.Adjacent="adjacent",a.Child="child",a.Descendant="descendant",a.Parent="parent",a.Sibling="sibling",a.ColumnCombinator="column-combinator"})(te||(te={}));const Xv={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var de;(function(a){a.Any="any",a.Element="element",a.End="end",a.Equals="equals",a.Exists="exists",a.Hyphen="hyphen",a.Not="not",a.Start="start"})(de||(de={}));const np=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Yv=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Kv=new Map([[126,de.Element],[94,de.Start],[36,de.End],[42,de.Any],[33,de.Not],[124,de.Hyphen]]),Jv=new Set(["has","not","matches","is","where","host","host-context"]);function Y1(a){switch(a.type){case te.Adjacent:case te.Child:case te.Descendant:case te.Parent:case te.Sibling:case te.ColumnCombinator:return!0;default:return!1}}const Zv=new Set(["contains","icontains"]);function Qv(a,t,e){const r=parseInt(t,16)-65536;return r!==r||e?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Cu(a){return a.replace(Yv,Qv)}function C0(a){return a===39||a===34}function up(a){return a===32||a===9||a===10||a===12||a===13}function e3(a){const t=[],e=K1(t,`${a}`,0);if(e<a.length)throw new Error(`Unmatched selector: ${a.slice(e)}`);return t}function K1(a,t,e){let r=[];function i(f){const p=t.slice(e+f).match(np);if(!p)throw new Error(`Expected name, found ${t.slice(e)}`);const[m]=p;return e+=f+m.length,Cu(m)}function s(f){for(e+=f;e<t.length&&up(t.charCodeAt(e));)e++}function n(){e+=1;const f=e;let p=1;for(;p>0&&e<t.length;e++)t.charCodeAt(e)===40&&!u(e)?p++:t.charCodeAt(e)===41&&!u(e)&&p--;if(p)throw new Error("Parenthesis not matched");return Cu(t.slice(f,e-1))}function u(f){let p=0;for(;t.charCodeAt(--f)===92;)p++;return(p&1)===1}function l(){if(r.length>0&&Y1(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(f){if(r.length>0&&r[r.length-1].type===te.Descendant){r[r.length-1].type=f;return}l(),r.push({type:f})}function h(f,p){r.push({type:te.Attribute,name:f,action:p,value:i(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===te.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");a.push(r)}if(s(0),t.length===e)return e;e:for(;e<t.length;){const f=t.charCodeAt(e);switch(f){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==te.Descendant)&&(l(),r.push({type:te.Descendant})),s(1);break}case 62:{c(te.Child),s(1);break}case 60:{c(te.Parent),s(1);break}case 126:{c(te.Sibling),s(1);break}case 43:{c(te.Adjacent),s(1);break}case 46:{h("class",de.Element);break}case 35:{h("id",de.Equals);break}case 91:{s(1);let p,m=null;t.charCodeAt(e)===124?p=i(1):t.startsWith("*|",e)?(m="*",p=i(2)):(p=i(0),t.charCodeAt(e)===124&&t.charCodeAt(e+1)!==61&&(m=p,p=i(1))),s(0);let v=de.Exists;const E=Kv.get(t.charCodeAt(e));if(E){if(v=E,t.charCodeAt(e+1)!==61)throw new Error("Expected `=`");s(2)}else t.charCodeAt(e)===61&&(v=de.Equals,s(1));let y="",D=null;if(v!=="exists"){if(C0(t.charCodeAt(e))){const T=t.charCodeAt(e);let x=e+1;for(;x<t.length&&(t.charCodeAt(x)!==T||u(x));)x+=1;if(t.charCodeAt(x)!==T)throw new Error("Attribute value didn't end");y=Cu(t.slice(e+1,x)),e=x+1}else{const T=e;for(;e<t.length&&(!up(t.charCodeAt(e))&&t.charCodeAt(e)!==93||u(e));)e+=1;y=Cu(t.slice(T,e))}s(0);const _=t.charCodeAt(e)|32;_===115?(D=!1,s(1)):_===105&&(D=!0,s(1))}if(t.charCodeAt(e)!==93)throw new Error("Attribute selector didn't terminate");e+=1;const w={type:te.Attribute,name:p,action:v,value:y,namespace:m,ignoreCase:D};r.push(w);break}case 58:{if(t.charCodeAt(e+1)===58){r.push({type:te.PseudoElement,name:i(2).toLowerCase(),data:t.charCodeAt(e)===40?n():null});continue}const p=i(1).toLowerCase();let m=null;if(t.charCodeAt(e)===40)if(Jv.has(p)){if(C0(t.charCodeAt(e+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(m=[],e=K1(m,t,e+1),t.charCodeAt(e)!==41)throw new Error(`Missing closing parenthesis in :${p} (${t})`);e+=1}else{if(m=n(),Zv.has(p)){const v=m.charCodeAt(0);v===m.charCodeAt(m.length-1)&&C0(v)&&(m=m.slice(1,-1))}m=Cu(m)}r.push({type:te.Pseudo,name:p,data:m});break}case 44:{d(),r=[],s(1);break}default:{if(t.startsWith("/*",e)){const v=t.indexOf("*/",e+2);if(v<0)throw new Error("Comment was not terminated");e=v+2,r.length===0&&s(0);break}let p=null,m;if(f===42)e+=1,m="*";else if(f===124){if(m="",t.charCodeAt(e+1)===124){c(te.ColumnCombinator),s(2);break}}else if(np.test(t.slice(e)))m=i(0);else break e;t.charCodeAt(e)===124&&t.charCodeAt(e+1)!==124&&(p=m,t.charCodeAt(e+1)===42?(m="*",e+=2):m=i(1)),r.push(m==="*"?{type:te.Universal,namespace:p}:{type:te.Tag,name:m,namespace:p})}}}return d(),e}const J1=["\\",'"'],Z1=[...J1,"(",")"],t3=new Set(J1.map(a=>a.charCodeAt(0))),op=new Set(Z1.map(a=>a.charCodeAt(0))),qa=new Set([...Z1,"~","^","$","*","+","!","|",":","[","]"," ","."].map(a=>a.charCodeAt(0)));function Q1(a){return a.map(t=>t.map(r3).join("")).join(", ")}function r3(a,t,e){switch(a.type){case te.Child:return t===0?"> ":" > ";case te.Parent:return t===0?"< ":" < ";case te.Sibling:return t===0?"~ ":" ~ ";case te.Adjacent:return t===0?"+ ":" + ";case te.Descendant:return" ";case te.ColumnCombinator:return t===0?"|| ":" || ";case te.Universal:return a.namespace==="*"&&t+1<e.length&&"name"in e[t+1]?"":`${em(a.namespace)}*`;case te.Tag:return lp(a);case te.PseudoElement:return`::${Cr(a.name,qa)}${a.data===null?"":`(${Cr(a.data,op)})`}`;case te.Pseudo:return`:${Cr(a.name,qa)}${a.data===null?"":`(${typeof a.data=="string"?Cr(a.data,op):Q1(a.data)})`}`;case te.Attribute:{if(a.name==="id"&&a.action===de.Equals&&a.ignoreCase==="quirks"&&!a.namespace)return`#${Cr(a.value,qa)}`;if(a.name==="class"&&a.action===de.Element&&a.ignoreCase==="quirks"&&!a.namespace)return`.${Cr(a.value,qa)}`;const r=lp(a);return a.action===de.Exists?`[${r}]`:`[${r}${i3(a.action)}="${Cr(a.value,t3)}"${a.ignoreCase===null?"":a.ignoreCase?" i":" s"}]`}}}function i3(a){switch(a){case de.Equals:return"";case de.Element:return"~";case de.Start:return"^";case de.End:return"$";case de.Any:return"*";case de.Not:return"!";case de.Hyphen:return"|";case de.Exists:throw new Error("Shouldn't be here")}}function lp(a){return`${em(a.namespace)}${Cr(a.name,qa)}`}function em(a){return a!==null?`${a==="*"?"*":Cr(a,qa)}|`:""}function Cr(a,t){let e=0,r="";for(let i=0;i<a.length;i++)t.has(a.charCodeAt(i))&&(r+=`${a.slice(e,i)}\\${a.charAt(i)}`,e=i+1);return r.length>0?r+a.slice(e):a}const s3=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return de},IgnoreCaseMode:Xv,get SelectorType(){return te},isTraversal:Y1,parse:e3,stringify:Q1},Symbol.toStringTag,{value:"Module"})),n0=Tm(s3);var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.isTraversal=void 0;var Et=n0,tm=new Map([[Et.SelectorType.Universal,50],[Et.SelectorType.Tag,30],[Et.SelectorType.Attribute,1],[Et.SelectorType.Pseudo,0]]);function a3(a){return!tm.has(a.type)}Du.isTraversal=a3;var n3=new Map([[Et.AttributeAction.Exists,10],[Et.AttributeAction.Equals,8],[Et.AttributeAction.Not,7],[Et.AttributeAction.Start,6],[Et.AttributeAction.End,6],[Et.AttributeAction.Any,5]]);function u3(a){for(var t=a.map(rm),e=1;e<a.length;e++){var r=t[e];if(!(r<0))for(var i=e-1;i>=0&&r<t[i];i--){var s=a[i+1];a[i+1]=a[i],a[i]=s,t[i+1]=t[i],t[i]=r}}}Du.default=u3;function rm(a){var t,e,r=(t=tm.get(a.type))!==null&&t!==void 0?t:-1;return a.type===Et.SelectorType.Attribute?(r=(e=n3.get(a.action))!==null&&e!==void 0?e:4,a.action===Et.AttributeAction.Equals&&a.name==="id"&&(r=9),a.ignoreCase&&(r>>=1)):a.type===Et.SelectorType.Pseudo&&(a.data?a.name==="has"||a.name==="contains"?r=0:Array.isArray(a.data)?(r=Math.min.apply(Math,a.data.map(function(i){return Math.min.apply(Math,i.map(rm))})),r<0&&(r=0)):r=2:r=3),r}var u0={},o0={},o3=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(o0,"__esModule",{value:!0});o0.attributeRules=void 0;var yc=o3(Eu),l3=/[-[\]{}()*+?.,\\^$|#\s]/g;function cp(a){return a.replace(l3,"\\$&")}var c3=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function is(a,t){return typeof a.ignoreCase=="boolean"?a.ignoreCase:a.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&c3.has(a.name)}o0.attributeRules={equals:function(a,t,e){var r=e.adapter,i=t.name,s=t.value;return is(t,e)?(s=s.toLowerCase(),function(n){var u=r.getAttributeValue(n,i);return u!=null&&u.length===s.length&&u.toLowerCase()===s&&a(n)}):function(n){return r.getAttributeValue(n,i)===s&&a(n)}},hyphen:function(a,t,e){var r=e.adapter,i=t.name,s=t.value,n=s.length;return is(t,e)?(s=s.toLowerCase(),function(l){var c=r.getAttributeValue(l,i);return c!=null&&(c.length===n||c.charAt(n)==="-")&&c.substr(0,n).toLowerCase()===s&&a(l)}):function(l){var c=r.getAttributeValue(l,i);return c!=null&&(c.length===n||c.charAt(n)==="-")&&c.substr(0,n)===s&&a(l)}},element:function(a,t,e){var r=e.adapter,i=t.name,s=t.value;if(/\s/.test(s))return yc.default.falseFunc;var n=new RegExp("(?:^|\\s)".concat(cp(s),"(?:$|\\s)"),is(t,e)?"i":"");return function(l){var c=r.getAttributeValue(l,i);return c!=null&&c.length>=s.length&&n.test(c)&&a(l)}},exists:function(a,t,e){var r=t.name,i=e.adapter;return function(s){return i.hasAttrib(s,r)&&a(s)}},start:function(a,t,e){var r=e.adapter,i=t.name,s=t.value,n=s.length;return n===0?yc.default.falseFunc:is(t,e)?(s=s.toLowerCase(),function(u){var l=r.getAttributeValue(u,i);return l!=null&&l.length>=n&&l.substr(0,n).toLowerCase()===s&&a(u)}):function(u){var l;return!!(!((l=r.getAttributeValue(u,i))===null||l===void 0)&&l.startsWith(s))&&a(u)}},end:function(a,t,e){var r=e.adapter,i=t.name,s=t.value,n=-s.length;return n===0?yc.default.falseFunc:is(t,e)?(s=s.toLowerCase(),function(u){var l;return((l=r.getAttributeValue(u,i))===null||l===void 0?void 0:l.substr(n).toLowerCase())===s&&a(u)}):function(u){var l;return!!(!((l=r.getAttributeValue(u,i))===null||l===void 0)&&l.endsWith(s))&&a(u)}},any:function(a,t,e){var r=e.adapter,i=t.name,s=t.value;if(s==="")return yc.default.falseFunc;if(is(t,e)){var n=new RegExp(cp(s),"i");return function(l){var c=r.getAttributeValue(l,i);return c!=null&&c.length>=s.length&&n.test(c)&&a(l)}}return function(u){var l;return!!(!((l=r.getAttributeValue(u,i))===null||l===void 0)&&l.includes(s))&&a(u)}},not:function(a,t,e){var r=e.adapter,i=t.name,s=t.value;return s===""?function(n){return!!r.getAttributeValue(n,i)&&a(n)}:is(t,e)?(s=s.toLowerCase(),function(n){var u=r.getAttributeValue(n,i);return(u==null||u.length!==s.length||u.toLowerCase()!==s)&&a(n)}):function(n){return r.getAttributeValue(n,i)!==s&&a(n)}}};var w2={},im={},sm={},l0={};Object.defineProperty(l0,"__esModule",{value:!0});l0.parse=void 0;var h3=new Set([9,10,12,13,32]),hp="0".charCodeAt(0),d3="9".charCodeAt(0);function f3(a){if(a=a.trim().toLowerCase(),a==="even")return[2,0];if(a==="odd")return[2,1];var t=0,e=0,r=s(),i=n();if(t<a.length&&a.charAt(t)==="n"&&(t++,e=r*(i??1),u(),t<a.length?(r=s(),u(),i=n()):r=i=0),i===null||t<a.length)throw new Error("n-th rule couldn't be parsed ('".concat(a,"')"));return[e,r*i];function s(){return a.charAt(t)==="-"?(t++,-1):(a.charAt(t)==="+"&&t++,1)}function n(){for(var l=t,c=0;t<a.length&&a.charCodeAt(t)>=hp&&a.charCodeAt(t)<=d3;)c=c*10+(a.charCodeAt(t)-hp),t++;return t===l?null:c}function u(){for(;t<a.length&&h3.has(a.charCodeAt(t));)t++}}l0.parse=f3;var Au={},p3=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Au,"__esModule",{value:!0});Au.generate=Au.compile=void 0;var dp=p3(Eu);function g3(a){var t=a[0],e=a[1]-1;if(e<0&&t<=0)return dp.default.falseFunc;if(t===-1)return function(s){return s<=e};if(t===0)return function(s){return s===e};if(t===1)return e<0?dp.default.trueFunc:function(s){return s>=e};var r=Math.abs(t),i=(e%r+r)%r;return t>1?function(s){return s>=e&&s%r===i}:function(s){return s<=e&&s%r===i}}Au.compile=g3;function m3(a){var t=a[0],e=a[1]-1,r=0;if(t<0){var i=-t,s=(e%i+i)%i;return function(){var n=s+i*r++;return n>e?null:n}}return t===0?e<0?function(){return null}:function(){return r++===0?e:null}:(e<0&&(e+=t*Math.ceil(-e/t)),function(){return t*r+++e})}Au.generate=m3;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.sequence=a.generate=a.compile=a.parse=void 0;var t=l0;Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return t.parse}});var e=Au;Object.defineProperty(a,"compile",{enumerable:!0,get:function(){return e.compile}}),Object.defineProperty(a,"generate",{enumerable:!0,get:function(){return e.generate}});function r(s){return(0,e.compile)((0,t.parse)(s))}a.default=r;function i(s){return(0,e.generate)((0,t.parse)(s))}a.sequence=i})(sm);(function(a){var t=P&&P.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(a,"__esModule",{value:!0}),a.filters=void 0;var e=t(sm),r=t(Eu);function i(n,u){return function(l){var c=u.getParent(l);return c!=null&&u.isTag(c)&&n(l)}}a.filters={contains:function(n,u,l){var c=l.adapter;return function(d){return n(d)&&c.getText(d).includes(u)}},icontains:function(n,u,l){var c=l.adapter,h=u.toLowerCase();return function(f){return n(f)&&c.getText(f).toLowerCase().includes(h)}},"nth-child":function(n,u,l){var c=l.adapter,h=l.equals,d=(0,e.default)(u);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(n,c):function(p){for(var m=c.getSiblings(p),v=0,E=0;E<m.length&&!h(p,m[E]);E++)c.isTag(m[E])&&v++;return d(v)&&n(p)}},"nth-last-child":function(n,u,l){var c=l.adapter,h=l.equals,d=(0,e.default)(u);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(n,c):function(p){for(var m=c.getSiblings(p),v=0,E=m.length-1;E>=0&&!h(p,m[E]);E--)c.isTag(m[E])&&v++;return d(v)&&n(p)}},"nth-of-type":function(n,u,l){var c=l.adapter,h=l.equals,d=(0,e.default)(u);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(n,c):function(p){for(var m=c.getSiblings(p),v=0,E=0;E<m.length;E++){var y=m[E];if(h(p,y))break;c.isTag(y)&&c.getName(y)===c.getName(p)&&v++}return d(v)&&n(p)}},"nth-last-of-type":function(n,u,l){var c=l.adapter,h=l.equals,d=(0,e.default)(u);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(n,c):function(p){for(var m=c.getSiblings(p),v=0,E=m.length-1;E>=0;E--){var y=m[E];if(h(p,y))break;c.isTag(y)&&c.getName(y)===c.getName(p)&&v++}return d(v)&&n(p)}},root:function(n,u,l){var c=l.adapter;return function(h){var d=c.getParent(h);return(d==null||!c.isTag(d))&&n(h)}},scope:function(n,u,l,c){var h=l.equals;return!c||c.length===0?a.filters.root(n,u,l):c.length===1?function(d){return h(c[0],d)&&n(d)}:function(d){return c.includes(d)&&n(d)}},hover:s("isHovered"),visited:s("isVisited"),active:s("isActive")};function s(n){return function(l,c,h){var d=h.adapter,f=d[n];return typeof f!="function"?r.default.falseFunc:function(m){return f(m)&&l(m)}}}})(im);var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.verifyPseudoArgs=vu.pseudos=void 0;vu.pseudos={empty:function(a,t){var e=t.adapter;return!e.getChildren(a).some(function(r){return e.isTag(r)||e.getText(r)!==""})},"first-child":function(a,t){var e=t.adapter,r=t.equals;if(e.prevElementSibling)return e.prevElementSibling(a)==null;var i=e.getSiblings(a).find(function(s){return e.isTag(s)});return i!=null&&r(a,i)},"last-child":function(a,t){for(var e=t.adapter,r=t.equals,i=e.getSiblings(a),s=i.length-1;s>=0;s--){if(r(a,i[s]))return!0;if(e.isTag(i[s]))break}return!1},"first-of-type":function(a,t){for(var e=t.adapter,r=t.equals,i=e.getSiblings(a),s=e.getName(a),n=0;n<i.length;n++){var u=i[n];if(r(a,u))return!0;if(e.isTag(u)&&e.getName(u)===s)break}return!1},"last-of-type":function(a,t){for(var e=t.adapter,r=t.equals,i=e.getSiblings(a),s=e.getName(a),n=i.length-1;n>=0;n--){var u=i[n];if(r(a,u))return!0;if(e.isTag(u)&&e.getName(u)===s)break}return!1},"only-of-type":function(a,t){var e=t.adapter,r=t.equals,i=e.getName(a);return e.getSiblings(a).every(function(s){return r(a,s)||!e.isTag(s)||e.getName(s)!==i})},"only-child":function(a,t){var e=t.adapter,r=t.equals;return e.getSiblings(a).every(function(i){return r(a,i)||!e.isTag(i)})}};function b3(a,t,e,r){if(e===null){if(a.length>r)throw new Error("Pseudo-class :".concat(t," requires an argument"))}else if(a.length===r)throw new Error("Pseudo-class :".concat(t," doesn't have any arguments"))}vu.verifyPseudoArgs=b3;var c0={};Object.defineProperty(c0,"__esModule",{value:!0});c0.aliases=void 0;c0.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var h0={};(function(a){var t=P&&P.__spreadArray||function(c,h,d){if(d||arguments.length===2)for(var f=0,p=h.length,m;f<p;f++)(m||!(f in h))&&(m||(m=Array.prototype.slice.call(h,0,f)),m[f]=h[f]);return c.concat(m||Array.prototype.slice.call(h))},e=P&&P.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(a,"__esModule",{value:!0}),a.subselects=a.getNextSiblings=a.ensureIsTag=a.PLACEHOLDER_ELEMENT=void 0;var r=e(Eu),i=Du;a.PLACEHOLDER_ELEMENT={};function s(c,h){return c===r.default.falseFunc?r.default.falseFunc:function(d){return h.isTag(d)&&c(d)}}a.ensureIsTag=s;function n(c,h){var d=h.getSiblings(c);if(d.length<=1)return[];var f=d.indexOf(c);return f<0||f===d.length-1?[]:d.slice(f+1).filter(h.isTag)}a.getNextSiblings=n;function u(c){return{xmlMode:!!c.xmlMode,lowerCaseAttributeNames:!!c.lowerCaseAttributeNames,lowerCaseTags:!!c.lowerCaseTags,quirksMode:!!c.quirksMode,cacheResults:!!c.cacheResults,pseudos:c.pseudos,adapter:c.adapter,equals:c.equals}}var l=function(c,h,d,f,p){var m=p(h,u(d),f);return m===r.default.trueFunc?c:m===r.default.falseFunc?r.default.falseFunc:function(v){return m(v)&&c(v)}};a.subselects={is:l,matches:l,where:l,not:function(c,h,d,f,p){var m=p(h,u(d),f);return m===r.default.falseFunc?c:m===r.default.trueFunc?r.default.falseFunc:function(v){return!m(v)&&c(v)}},has:function(c,h,d,f,p){var m=d.adapter,v=u(d);v.relativeSelector=!0;var E=h.some(function(T){return T.some(i.isTraversal)})?[a.PLACEHOLDER_ELEMENT]:void 0,y=p(h,v,E);if(y===r.default.falseFunc)return r.default.falseFunc;var D=s(y,m);if(E&&y!==r.default.trueFunc){var w=y.shouldTestNextSiblings,_=w===void 0?!1:w;return function(T){if(!c(T))return!1;E[0]=T;var x=m.getChildren(T),L=_?t(t([],x,!0),n(T,m),!0):x;return m.existsOne(D,L)}}return function(T){return c(T)&&m.existsOne(D,m.getChildren(T))}}}})(h0);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.compilePseudoSelector=a.aliases=a.pseudos=a.filters=void 0;var t=n0,e=im;Object.defineProperty(a,"filters",{enumerable:!0,get:function(){return e.filters}});var r=vu;Object.defineProperty(a,"pseudos",{enumerable:!0,get:function(){return r.pseudos}});var i=c0;Object.defineProperty(a,"aliases",{enumerable:!0,get:function(){return i.aliases}});var s=h0;function n(u,l,c,h,d){var f,p=l.name,m=l.data;if(Array.isArray(m)){if(!(p in s.subselects))throw new Error("Unknown pseudo-class :".concat(p,"(").concat(m,")"));return s.subselects[p](u,m,c,h,d)}var v=(f=c.pseudos)===null||f===void 0?void 0:f[p],E=typeof v=="string"?v:i.aliases[p];if(typeof E=="string"){if(m!=null)throw new Error("Pseudo ".concat(p," doesn't have any arguments"));var y=(0,t.parse)(E);return s.subselects.is(u,y,c,h,d)}if(typeof v=="function")return(0,r.verifyPseudoArgs)(v,p,m,1),function(w){return v(w,m)&&u(w)};if(p in e.filters)return e.filters[p](u,m,c,h);if(p in r.pseudos){var D=r.pseudos[p];return(0,r.verifyPseudoArgs)(D,p,m,2),function(w){return D(w,c,m)&&u(w)}}throw new Error("Unknown pseudo-class :".concat(p))}a.compilePseudoSelector=n})(w2);Object.defineProperty(u0,"__esModule",{value:!0});u0.compileGeneralSelector=void 0;var A3=o0,v3=w2,kt=n0;function T0(a,t){var e=t.getParent(a);return e&&t.isTag(e)?e:null}function y3(a,t,e,r,i){var s=e.adapter,n=e.equals;switch(t.type){case kt.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case kt.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case kt.SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!e.xmlMode||e.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),A3.attributeRules[t.action](a,t,e)}case kt.SelectorType.Pseudo:return(0,v3.compilePseudoSelector)(a,t,e,r,i);case kt.SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var u=t.name;return(!e.xmlMode||e.lowerCaseTags)&&(u=u.toLowerCase()),function(h){return s.getName(h)===u&&a(h)}}case kt.SelectorType.Descendant:{if(e.cacheResults===!1||typeof WeakSet>"u")return function(h){for(var d=h;d=T0(d,s);)if(a(d))return!0;return!1};var l=new WeakSet;return function(h){for(var d=h;d=T0(d,s);)if(!l.has(d)){if(s.isTag(d)&&a(d))return!0;l.add(d)}return!1}}case"_flexibleDescendant":return function(h){var d=h;do if(a(d))return!0;while(d=T0(d,s));return!1};case kt.SelectorType.Parent:return function(h){return s.getChildren(h).some(function(d){return s.isTag(d)&&a(d)})};case kt.SelectorType.Child:return function(h){var d=s.getParent(h);return d!=null&&s.isTag(d)&&a(d)};case kt.SelectorType.Sibling:return function(h){for(var d=s.getSiblings(h),f=0;f<d.length;f++){var p=d[f];if(n(h,p))break;if(s.isTag(p)&&a(p))return!0}return!1};case kt.SelectorType.Adjacent:return s.prevElementSibling?function(h){var d=s.prevElementSibling(h);return d!=null&&a(d)}:function(h){for(var d=s.getSiblings(h),f,p=0;p<d.length;p++){var m=d[p];if(n(h,m))break;s.isTag(m)&&(f=m)}return!!f&&a(f)};case kt.SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return a}}}u0.compileGeneralSelector=y3;var E3=P&&P.__createBinding||(Object.create?function(a,t,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(a,r,i)}:function(a,t,e,r){r===void 0&&(r=e),a[r]=t[e]}),D3=P&&P.__setModuleDefault||(Object.create?function(a,t){Object.defineProperty(a,"default",{enumerable:!0,value:t})}:function(a,t){a.default=t}),w3=P&&P.__importStar||function(a){if(a&&a.__esModule)return a;var t={};if(a!=null)for(var e in a)e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)&&E3(t,a,e);return D3(t,a),t},_3=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.compileToken=Xi.compileUnsafe=Xi.compile=void 0;var ii=n0,Wi=_3(Eu),t2=w3(Du),x3=u0,am=h0;function C3(a,t,e){var r=nm(a,t,e);return(0,am.ensureIsTag)(r,t.adapter)}Xi.compile=C3;function nm(a,t,e){var r=typeof a=="string"?(0,ii.parse)(a):a;return _2(r,t,e)}Xi.compileUnsafe=nm;function um(a){return a.type===ii.SelectorType.Pseudo&&(a.name==="scope"||Array.isArray(a.data)&&a.data.some(function(t){return t.some(um)}))}var T3={type:ii.SelectorType.Descendant},S3={type:"_flexibleDescendant"},L3={type:ii.SelectorType.Pseudo,name:"scope",data:null};function N3(a,t,e){for(var r=t.adapter,i=!!(e!=null&&e.every(function(l){var c=r.isTag(l)&&r.getParent(l);return l===am.PLACEHOLDER_ELEMENT||c&&r.isTag(c)})),s=0,n=a;s<n.length;s++){var u=n[s];if(!(u.length>0&&(0,t2.isTraversal)(u[0])&&u[0].type!==ii.SelectorType.Descendant))if(i&&!u.some(um))u.unshift(T3);else continue;u.unshift(L3)}}function _2(a,t,e){var r;a.forEach(t2.default),e=(r=t.context)!==null&&r!==void 0?r:e;var i=Array.isArray(e),s=e&&(Array.isArray(e)?e:[e]);if(t.relativeSelector!==!1)N3(a,t,s);else if(a.some(function(l){return l.length>0&&(0,t2.isTraversal)(l[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var n=!1,u=a.map(function(l){if(l.length>=2){var c=l[0],h=l[1];c.type!==ii.SelectorType.Pseudo||c.name!=="scope"||(i&&h.type===ii.SelectorType.Descendant?l[1]=S3:(h.type===ii.SelectorType.Adjacent||h.type===ii.SelectorType.Sibling)&&(n=!0))}return F3(l,t,s)}).reduce(R3,Wi.default.falseFunc);return u.shouldTestNextSiblings=n,u}Xi.compileToken=_2;function F3(a,t,e){var r;return a.reduce(function(i,s){return i===Wi.default.falseFunc?Wi.default.falseFunc:(0,x3.compileGeneralSelector)(i,s,t,e,_2)},(r=t.rootFunc)!==null&&r!==void 0?r:Wi.default.trueFunc)}function R3(a,t){return t===Wi.default.falseFunc||a===Wi.default.trueFunc?a:a===Wi.default.falseFunc||t===Wi.default.trueFunc?t:function(r){return a(r)||t(r)}}(function(a){var t=P&&P.__createBinding||(Object.create?function(D,w,_,T){T===void 0&&(T=_);var x=Object.getOwnPropertyDescriptor(w,_);(!x||("get"in x?!w.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return w[_]}}),Object.defineProperty(D,T,x)}:function(D,w,_,T){T===void 0&&(T=_),D[T]=w[_]}),e=P&&P.__setModuleDefault||(Object.create?function(D,w){Object.defineProperty(D,"default",{enumerable:!0,value:w})}:function(D,w){D.default=w}),r=P&&P.__importStar||function(D){if(D&&D.__esModule)return D;var w={};if(D!=null)for(var _ in D)_!=="default"&&Object.prototype.hasOwnProperty.call(D,_)&&t(w,D,_);return e(w,D),w},i=P&&P.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(a,"__esModule",{value:!0}),a.aliases=a.pseudos=a.filters=a.is=a.selectOne=a.selectAll=a.prepareContext=a._compileToken=a._compileUnsafe=a.compile=void 0;var s=r(D1),n=i(Eu),u=Xi,l=h0,c=function(D,w){return D===w},h={adapter:s,equals:c};function d(D){var w,_,T,x,L=D??h;return(w=L.adapter)!==null&&w!==void 0||(L.adapter=s),(_=L.equals)!==null&&_!==void 0||(L.equals=(x=(T=L.adapter)===null||T===void 0?void 0:T.equals)!==null&&x!==void 0?x:c),L}function f(D){return function(_,T,x){var L=d(T);return D(_,L,x)}}a.compile=f(u.compile),a._compileUnsafe=f(u.compileUnsafe),a._compileToken=f(u.compileToken);function p(D){return function(_,T,x){var L=d(x);typeof _!="function"&&(_=(0,u.compileUnsafe)(_,L,T));var S=m(T,L.adapter,_.shouldTestNextSiblings);return D(_,S,L)}}function m(D,w,_){return _===void 0&&(_=!1),_&&(D=v(D,w)),Array.isArray(D)?w.removeSubsets(D):w.getChildren(D)}a.prepareContext=m;function v(D,w){for(var _=Array.isArray(D)?D.slice(0):[D],T=_.length,x=0;x<T;x++){var L=(0,l.getNextSiblings)(_[x],w);_.push.apply(_,L)}return _}a.selectAll=p(function(D,w,_){return D===n.default.falseFunc||!w||w.length===0?[]:_.adapter.findAll(D,w)}),a.selectOne=p(function(D,w,_){return D===n.default.falseFunc||!w||w.length===0?null:_.adapter.findOne(D,w)});function E(D,w,_){var T=d(_);return(typeof w=="function"?w:(0,u.compile)(w,T))(D)}a.is=E,a.default=a.selectAll;var y=w2;Object.defineProperty(a,"filters",{enumerable:!0,get:function(){return y.filters}}),Object.defineProperty(a,"pseudos",{enumerable:!0,get:function(){return y.pseudos}}),Object.defineProperty(a,"aliases",{enumerable:!0,get:function(){return y.aliases}})})(E1);var x2={};Object.defineProperty(x2,"__esModule",{value:!0});function k3(a){return a[a.length-1]}x2.default=k3;var C2={},P3=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(C2,"__esModule",{value:!0});var M3=P3(Ca);function d0(a){return a&&a.nodeType===M3.default.ELEMENT_NODE}function om(a,t){return d0(a)?a.getAttribute(t):void 0}function B3(a){return(a&&a.rawTagName||"").toLowerCase()}function fc(a){return a&&a.childNodes}function T2(a){return a?a.parentNode:null}function I3(a){return a.text}function O3(a){for(var t=a.length,e,r,i;--t>-1;){for(e=r=a[t],a[t]=null,i=!0;r;){if(a.indexOf(r)>-1){i=!1,a.splice(t,1);break}r=T2(r)}i&&(a[t]=e)}return a}function lm(a,t){return t.some(function(e){return d0(e)?a(e)||lm(a,fc(e)):!1})}function q3(a){var t=T2(a);return t?fc(t):[]}function H3(a,t){return om(a,t)!==void 0}function cm(a,t){for(var e=null,r=0,i=t==null?void 0:t.length;r<i&&!e;r++){var s=t[r];if(a(s))e=s;else{var n=fc(s);n&&n.length>0&&(e=cm(a,n))}}return e}function hm(a,t){for(var e=[],r=0,i=t.length;r<i;r++)if(d0(t[r])){a(t[r])&&e.push(t[r]);var s=fc(t[r]);s&&(e=e.concat(hm(a,s)))}return e}C2.default={isTag:d0,getAttributeValue:om,getName:B3,getChildren:fc,getParent:T2,getText:I3,removeSubsets:O3,existsOne:lm,getSiblings:q3,hasAttrib:H3,findOne:cm,findAll:hm};var S2={};Object.defineProperty(S2,"__esModule",{value:!0});var j3=function(){function a(t,e){t===void 0&&(t=!1),this.addClosingSlash=t,Array.isArray(e)?this.voidTags=e.reduce(function(r,i){return r.add(i.toLowerCase()).add(i.toUpperCase()).add(i)},new Set):this.voidTags=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].reduce(function(r,i){return r.add(i.toLowerCase()).add(i.toUpperCase()).add(i)},new Set)}return a.prototype.formatNode=function(t,e,r){var i=this.addClosingSlash,s=i&&e&&!e.endsWith(" ")?" ":"",n=i?"".concat(s,"/"):"";return this.isVoidElement(t.toLowerCase())?"<".concat(t).concat(e).concat(n,">"):"<".concat(t).concat(e,">").concat(r,"</").concat(t,">")},a.prototype.isVoidElement=function(t){return this.voidTags.has(t)},a}();S2.default=j3;var f0={},U3=P&&P.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},a(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dm=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(f0,"__esModule",{value:!0});var V3=m2,G3=dm(yu),z3=dm(Ca),$3=function(a){U3(t,a);function t(e,r,i){r===void 0&&(r=null);var s=a.call(this,r,i)||this;return s.nodeType=z3.default.TEXT_NODE,s.rawTagName="",s._rawText=e,s}return t.prototype.clone=function(){return new t(this._rawText,null)},Object.defineProperty(t.prototype,"rawText",{get:function(){return this._rawText},set:function(e){this._rawText=e,this._trimmedRawText=void 0,this._trimmedText=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimmedRawText",{get:function(){return this._trimmedRawText!==void 0?this._trimmedRawText:(this._trimmedRawText=fp(this.rawText),this._trimmedRawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimmedText",{get:function(){return this._trimmedText!==void 0?this._trimmedText:(this._trimmedText=fp(this.text),this._trimmedText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return(0,V3.decode)(this.rawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWhitespace",{get:function(){return/^(\s|&nbsp;)*$/.test(this.rawText)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.rawText},t}(G3.default);f0.default=$3;function fp(a){for(var t=0,e,r;t>=0&&t<a.length;)/\S/.test(a[t])&&(e===void 0?(e=t,t=a.length):(r=t,t=void 0)),e===void 0?t++:t--;e===void 0&&(e=0),r===void 0&&(r=a.length-1);var i=e>0&&/[^\S\r\n]/.test(a[e-1]),s=r<a.length-1&&/[^\S\r\n]/.test(a[r+1]);return(i?" ":"")+a.slice(e,r+1)+(s?" ":"")}var W3=P&&P.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},a(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ha=P&&P.__assign||function(){return Ha=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}return a},Ha.apply(this,arguments)},Tu=P&&P.__spreadArray||function(a,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return a.concat(s||Array.prototype.slice.call(t))},Qi=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ai,"__esModule",{value:!0});ai.parse=ai.base_parse=void 0;var S0=E1,X3=Qi(m2),ja=Qi(x2),L0=Qi(C2),fm=Qi(S2),Y3=Qi(Qd),N0=Qi(yu),Ua=Qi(f0),Yt=Qi(Ca);function Su(a){return JSON.parse(JSON.stringify(X3.default.decode(a)))}var K3=["h1","h2","h3","h4","h5","h6","header","hgroup"],J3=["details","dialog","dd","div","dt"],Z3=["fieldset","figcaption","figure","footer","form"],Q3=["table","td","tr"],ey=["address","article","aside","blockquote","br","hr","li","main","nav","ol","p","pre","section","ul"],r2=new Set;function ty(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];for(var e=function(n){for(var u=0;u<n.length;u++){var l=n[u];r2.add(l),r2.add(l.toUpperCase())}},r=0,i=a;r<i.length;r++){var s=i[r];e(s)}}ty(K3,J3,Z3,Q3,ey);var ry=function(){function a(t,e){t===void 0&&(t=[]),e===void 0&&(e=function(){return null}),this._set=new Set(t),this._afterUpdate=e}return a.prototype._validate=function(t){if(/\s/.test(t))throw new Error("DOMException in DOMTokenList.add: The token '".concat(t,"' contains HTML space characters, which are not valid in tokens."))},a.prototype.add=function(t){this._validate(t),this._set.add(t),this._afterUpdate(this)},a.prototype.replace=function(t,e){this._validate(e),this._set.delete(t),this._set.add(e),this._afterUpdate(this)},a.prototype.remove=function(t){this._set.delete(t)&&this._afterUpdate(this)},a.prototype.toggle=function(t){this._validate(t),this._set.has(t)?this._set.delete(t):this._set.add(t),this._afterUpdate(this)},a.prototype.contains=function(t){return this._set.has(t)},Object.defineProperty(a.prototype,"length",{get:function(){return this._set.size},enumerable:!1,configurable:!0}),a.prototype.values=function(){return this._set.values()},Object.defineProperty(a.prototype,"value",{get:function(){return Array.from(this._set.values())},enumerable:!1,configurable:!0}),a.prototype.toString=function(){return Array.from(this._set.values()).join(" ")},a}(),i2=function(a){W3(t,a);function t(e,r,i,s,n,u,l){i===void 0&&(i=""),s===void 0&&(s=null),u===void 0&&(u=new fm.default),l===void 0&&(l={});var c=a.call(this,s,n)||this;if(c.rawAttrs=i,c.voidTag=u,c.nodeType=Yt.default.ELEMENT_NODE,c.rawTagName=e,c.rawAttrs=i||"",c.id=r.id||"",c.childNodes=[],c._parseOptions=l,c.classList=new ry(r.class?r.class.split(/\s+/):[],function(d){return c.setAttribute("class",d.toString())}),r.id&&(i||(c.rawAttrs='id="'.concat(r.id,'"'))),r.class&&!i){var h='class="'.concat(c.classList.toString(),'"');c.rawAttrs?c.rawAttrs+=" ".concat(h):c.rawAttrs=h}return c}return t.prototype.quoteAttribute=function(e){return e==null?"null":JSON.stringify(e.replace(/"/g,"&quot;")).replace(/\\t/g,"	").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\/g,"")},t.prototype.removeChild=function(e){return this.childNodes=this.childNodes.filter(function(r){return r!==e}),this},t.prototype.exchangeChild=function(e,r){var i=this.childNodes;return this.childNodes=i.map(function(s){return s===e?r:s}),this},Object.defineProperty(t.prototype,"tagName",{get:function(){return this.rawTagName?this.rawTagName.toUpperCase():this.rawTagName},set:function(e){this.rawTagName=e.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.rawTagName.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVoidElement",{get:function(){return this.voidTag.isVoidElement(this.localName)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawText",{get:function(){return/^br$/i.test(this.rawTagName)?`
`:this.childNodes.reduce(function(e,r){return e+=r.rawText},"")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textContent",{get:function(){return Su(this.rawText)},set:function(e){var r=[new Ua.default(e,this)];this.childNodes=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return Su(this.rawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"structuredText",{get:function(){var e=[],r=[e];function i(s){if(s.nodeType===Yt.default.ELEMENT_NODE)r2.has(s.rawTagName)?(e.length>0&&r.push(e=[]),s.childNodes.forEach(i),e.length>0&&r.push(e=[])):s.childNodes.forEach(i);else if(s.nodeType===Yt.default.TEXT_NODE)if(s.isWhitespace)e.prependWhitespace=!0;else{var n=s.trimmedText;e.prependWhitespace&&(n=" ".concat(n),e.prependWhitespace=!1),e.push(n)}}return i(this),r.map(function(s){return s.join("").replace(/\s{2,}/g," ")}).join(`
`).replace(/\s+$/,"")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.rawTagName;if(e){var r=this.rawAttrs?" ".concat(this.rawAttrs):"";return this.voidTag.formatNode(e,r,this.innerHTML)}return this.innerHTML},Object.defineProperty(t.prototype,"innerHTML",{get:function(){return this.childNodes.map(function(e){return e.toString()}).join("")},set:function(e){var r=Ia(e,this._parseOptions),i=r.childNodes.length?r.childNodes:[new Ua.default(e,this)];_r(i,this),_r(this.childNodes,null),this.childNodes=i},enumerable:!1,configurable:!0}),t.prototype.set_content=function(e,r){if(r===void 0&&(r={}),e instanceof N0.default)e=[e];else if(typeof e=="string"){r=Ha(Ha({},this._parseOptions),r);var i=Ia(e,r);e=i.childNodes.length?i.childNodes:[new Ua.default(i.innerHTML,this)]}return _r(this.childNodes,null),_r(e,this),this.childNodes=e,this},t.prototype.replaceWith=function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this.parentNode,n=r.map(function(l){if(l instanceof N0.default)return[l];if(typeof l=="string"){var c=Ia(l,e._parseOptions);return c.childNodes.length?c.childNodes:[new Ua.default(l,e)]}return[]}).flat(),u=s.childNodes.findIndex(function(l){return l===e});return _r([this],null),s.childNodes=Tu(Tu(Tu([],s.childNodes.slice(0,u),!0),_r(n,s),!0),s.childNodes.slice(u+1),!0),this},Object.defineProperty(t.prototype,"outerHTML",{get:function(){return this.toString()},enumerable:!1,configurable:!0}),t.prototype.trimRight=function(e){for(var r=0;r<this.childNodes.length;r++){var i=this.childNodes[r];if(i.nodeType===Yt.default.ELEMENT_NODE)i.trimRight(e);else{var s=i.rawText.search(e);s>-1&&(i.rawText=i.rawText.substr(0,s),this.childNodes.length=r+1)}}return this},Object.defineProperty(t.prototype,"structure",{get:function(){var e=[],r=0;function i(n){e.push("  ".repeat(r)+n)}function s(n){var u=n.id?"#".concat(n.id):"",l=n.classList.length?".".concat(n.classList.value.join(".")):"";i("".concat(n.rawTagName).concat(u).concat(l)),r++,n.childNodes.forEach(function(c){c.nodeType===Yt.default.ELEMENT_NODE?s(c):c.nodeType===Yt.default.TEXT_NODE&&(c.isWhitespace||i("#text"))}),r--}return s(this),e.join(`
`)},enumerable:!1,configurable:!0}),t.prototype.removeWhitespace=function(){var e=this,r=0;return this.childNodes.forEach(function(i){if(i.nodeType===Yt.default.TEXT_NODE){if(i.isWhitespace)return;i.rawText=i.trimmedRawText}else i.nodeType===Yt.default.ELEMENT_NODE&&i.removeWhitespace();e.childNodes[r++]=i}),this.childNodes.length=r,this},t.prototype.querySelectorAll=function(e){return(0,S0.selectAll)(e,this,{xmlMode:!0,adapter:L0.default})},t.prototype.querySelector=function(e){return(0,S0.selectOne)(e,this,{xmlMode:!0,adapter:L0.default})},t.prototype.getElementsByTagName=function(e){for(var r=e.toUpperCase(),i=[],s=[],n=this,u=0;u!==void 0;){var l=void 0;do l=n.childNodes[u++];while(u<n.childNodes.length&&l===void 0);if(l===void 0){n=n.parentNode,u=s.pop();continue}l.nodeType===Yt.default.ELEMENT_NODE&&((e==="*"||l.tagName===r)&&i.push(l),l.childNodes.length>0&&(s.push(u),n=l,u=0))}return i},t.prototype.getElementById=function(e){for(var r=[],i=this,s=0;s!==void 0;){var n=void 0;do n=i.childNodes[s++];while(s<i.childNodes.length&&n===void 0);if(n===void 0){i=i.parentNode,s=r.pop();continue}if(n.nodeType===Yt.default.ELEMENT_NODE){if(n.id===e)return n;n.childNodes.length>0&&(r.push(s),i=n,s=0)}}return null},t.prototype.closest=function(e){var r=new Map,i=this,s=null;function n(l,c){for(var h=null,d=0,f=c.length;d<f&&!h;d++){var p=c[d];if(l(p))h=p;else{var m=r.get(p);m&&(h=n(l,[m]))}}return h}for(;i;)r.set(i,s),s=i,i=i.parentNode;for(i=this;i;){var u=(0,S0.selectOne)(e,i,{xmlMode:!0,adapter:Ha(Ha({},L0.default),{getChildren:function(l){var c=r.get(l);return c&&[c]},getSiblings:function(l){return[l]},findOne:n,findAll:function(){return[]}})});if(u)return u;i=i.parentNode}return null},t.prototype.appendChild=function(e){return e.remove(),this.childNodes.push(e),e.parentNode=this,e},Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.childNodes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return(0,ja.default)(this.childNodes)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attrs",{get:function(){if(this._attrs)return this._attrs;this._attrs={};var e=this.rawAttributes;for(var r in e){var i=e[r]||"";this._attrs[r.toLowerCase()]=Su(i)}return this._attrs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e={},r=this.rawAttributes;for(var i in r){var s=r[i]||"";e[i]=Su(s)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawAttributes",{get:function(){if(this._rawAttrs)return this._rawAttrs;var e={};if(this.rawAttrs)for(var r=/([a-zA-Z()[\]#@$.?:][a-zA-Z0-9-_:()[\]#]*)(?:\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+))?/g,i=void 0;i=r.exec(this.rawAttrs);){var s=i[1],n=i[2]||null;n&&(n[0]==="'"||n[0]==='"')&&(n=n.slice(1,n.length-1)),e[s]=e[s]||n}return this._rawAttrs=e,e},enumerable:!1,configurable:!0}),t.prototype.removeAttribute=function(e){var r=this,i=this.rawAttributes;return delete i[e],this._attrs&&delete this._attrs[e],this.rawAttrs=Object.keys(i).map(function(s){var n=r.quoteAttribute(i[s]);return n==="null"||n==='""'?s:"".concat(s,"=").concat(n)}).join(" "),e==="id"&&(this.id=""),this},t.prototype.hasAttribute=function(e){return e.toLowerCase()in this.attrs},t.prototype.getAttribute=function(e){return this.attrs[e.toLowerCase()]},t.prototype.setAttribute=function(e,r){var i=this;if(arguments.length<2)throw new Error("Failed to execute 'setAttribute' on 'Element'");var s=e.toLowerCase(),n=this.rawAttributes;for(var u in n)if(u.toLowerCase()===s){e=u;break}return n[e]=String(r),this._attrs&&(this._attrs[s]=Su(n[e])),this.rawAttrs=Object.keys(n).map(function(l){var c=i.quoteAttribute(n[l]);return c==="null"||c==='""'?l:"".concat(l,"=").concat(c)}).join(" "),e==="id"&&(this.id=r),this},t.prototype.setAttributes=function(e){var r=this;return this._attrs&&delete this._attrs,this._rawAttrs&&delete this._rawAttrs,this.rawAttrs=Object.keys(e).map(function(i){var s=e[i];return s==="null"||s==='""'?i:"".concat(i,"=").concat(r.quoteAttribute(String(s)))}).join(" "),this},t.prototype.insertAdjacentHTML=function(e,r){var i,s,n,u=this;if(arguments.length<2)throw new Error("2 arguments required");var l=Ia(r,this._parseOptions);if(e==="afterend"){var c=this.parentNode.childNodes.findIndex(function(h){return h===u});_r(l.childNodes,this.parentNode),(i=this.parentNode.childNodes).splice.apply(i,Tu([c+1,0],l.childNodes,!1))}else if(e==="afterbegin")_r(l.childNodes,this),(s=this.childNodes).unshift.apply(s,l.childNodes);else if(e==="beforeend")l.childNodes.forEach(function(h){u.appendChild(h)});else if(e==="beforebegin"){var c=this.parentNode.childNodes.findIndex(function(d){return d===u});_r(l.childNodes,this.parentNode),(n=this.parentNode.childNodes).splice.apply(n,Tu([c,0],l.childNodes,!1))}else throw new Error("The value provided ('".concat(e,"') is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'"));return this},Object.defineProperty(t.prototype,"nextSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,r=0;r<e.length;){var i=e[r++];if(this===i)return e[r]||null}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextElementSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,r=0,i=!1;r<e.length;){var s=e[r++];if(i){if(s instanceof t)return s||null}else this===s&&(i=!0)}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,r=e.length;r>0;){var i=e[--r];if(this===i)return e[r-1]||null}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousElementSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,r=e.length,i=!1;r>0;){var s=e[--r];if(i){if(s instanceof t)return s||null}else this===s&&(i=!0)}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this.classList.toString()},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return Ia(this.toString(),this._parseOptions).firstChild},t}(N0.default);ai.default=i2;var wr=/<!--[\s\S]*?-->|<(\/?)([a-zA-Z][-.:0-9_a-zA-Z]*)((?:\s+[^>]*?(?:(?:'[^']*')|(?:"[^"]*"))?)*)\s*(\/?)>/g,iy=/(?:^|\s)(id|class)\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+)/gi,pp={li:{li:!0,LI:!0},LI:{li:!0,LI:!0},p:{p:!0,div:!0,P:!0,DIV:!0},P:{p:!0,div:!0,P:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},td:{td:!0,th:!0,TD:!0,TH:!0},TD:{td:!0,th:!0,TD:!0,TH:!0},th:{td:!0,th:!0,TD:!0,TH:!0},TH:{td:!0,th:!0,TD:!0,TH:!0},h1:{h1:!0,H1:!0},H1:{h1:!0,H1:!0},h2:{h2:!0,H2:!0},H2:{h2:!0,H2:!0},h3:{h3:!0,H3:!0},H3:{h3:!0,H3:!0},h4:{h4:!0,H4:!0},H4:{h4:!0,H4:!0},h5:{h5:!0,H5:!0},H5:{h5:!0,H5:!0},h6:{h6:!0,H6:!0},H6:{h6:!0,H6:!0}},gp={li:{ul:!0,ol:!0,UL:!0,OL:!0},LI:{ul:!0,ol:!0,UL:!0,OL:!0},a:{div:!0,DIV:!0},A:{div:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},i:{div:!0,DIV:!0},I:{div:!0,DIV:!0},p:{div:!0,DIV:!0},P:{div:!0,DIV:!0},td:{tr:!0,table:!0,TR:!0,TABLE:!0},TD:{tr:!0,table:!0,TR:!0,TABLE:!0},th:{tr:!0,table:!0,TR:!0,TABLE:!0},TH:{tr:!0,table:!0,TR:!0,TABLE:!0}},Lu="documentfragmentcontainer";function pm(a,t){var e,r;t===void 0&&(t={});var i=new fm.default((e=t==null?void 0:t.voidTag)===null||e===void 0?void 0:e.closingSlash,(r=t==null?void 0:t.voidTag)===null||r===void 0?void 0:r.tags),s=t.blockTextElements||{script:!0,noscript:!0,style:!0,pre:!0},n=Object.keys(s),u=n.map(function(ie){return new RegExp("^".concat(ie,"$"),"i")}),l=n.filter(function(ie){return!!s[ie]}).map(function(ie){return new RegExp("^".concat(ie,"$"),"i")});function c(ie){return l.some(function(V){return V.test(ie)})}function h(ie){return u.some(function(V){return V.test(ie)})}var d=function(ie,V){return[ie-T,V-T]},f=new i2(null,{},"",null,[0,a.length],i,t),p=f,m=[f],v=-1,E=void 0,y;a="<".concat(Lu,">").concat(a,"</").concat(Lu,">");for(var D=t.lowerCaseTagName,w=t.fixNestedATags,_=a.length-(Lu.length+2),T=Lu.length+2;y=wr.exec(a);){var x=y[0],L=y[1],S=y[2],O=y[3],U=y[4],C=x.length,F=wr.lastIndex-C,N=wr.lastIndex;if(v>-1&&v+C<N){var R=a.substring(v,F);p.appendChild(new Ua.default(R,p,d(v,F)))}if(v=wr.lastIndex,S!==Lu){if(x[1]==="!"){if(t.comment){var R=a.substring(F+4,N-3);p.appendChild(new Y3.default(R,p,d(F,N)))}continue}if(D&&(S=S.toLowerCase()),!L){for(var M={},G=void 0;G=iy.exec(O);){var k=G[1],I=G[2],B=I[0]==="'"||I[0]==='"';M[k.toLowerCase()]=B?I.slice(1,I.length-1):I}var H=p.rawTagName;!U&&pp[H]&&pp[H][S]&&(m.pop(),p=(0,ja.default)(m)),w&&(S==="a"||S==="A")&&(E!==void 0&&(m.splice(E),p=(0,ja.default)(m)),E=m.length);var Y=wr.lastIndex,z=Y-C;if(p=p.appendChild(new i2(S,M,O.slice(1),null,d(z,Y),i,t)),m.push(p),h(S)){var Z="</".concat(S,">"),ye=D?a.toLocaleLowerCase().indexOf(Z,wr.lastIndex):a.indexOf(Z,wr.lastIndex),Ee=ye===-1?_:ye;if(c(S)){var R=a.substring(Y,Ee);R.length>0&&/\S/.test(R)&&p.appendChild(new Ua.default(R,p,d(Y,Ee)))}ye===-1?v=wr.lastIndex=a.length+1:(v=wr.lastIndex=ye+Z.length,L="/")}}if(L||U||i.isVoidElement(S))for(;;)if(E!=null&&(S==="a"||S==="A")&&(E=void 0),p.rawTagName===S){p.range[1]=d(-1,Math.max(v,N))[1],m.pop(),p=(0,ja.default)(m);break}else{var H=p.tagName;if(gp[H]&&gp[H][S]){m.pop(),p=(0,ja.default)(m);continue}break}}}return m}ai.base_parse=pm;function Ia(a,t){t===void 0&&(t={});for(var e=pm(a,t),r=e[0],i=function(){var s=e.pop(),n=(0,ja.default)(e);s.parentNode&&s.parentNode.parentNode&&(s.parentNode===n&&s.tagName===n.tagName?t.parseNoneClosedTags!==!0&&(n.removeChild(s),s.childNodes.forEach(function(u){n.parentNode.appendChild(u)}),e.pop()):t.parseNoneClosedTags!==!0&&(n.removeChild(s),s.childNodes.forEach(function(u){n.appendChild(u)})))};e.length>1;)i();return r}ai.parse=Ia;function _r(a,t){return a.map(function(e){return e.parentNode=t,e})}var gm={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t=ai;Object.defineProperty(a,"default",{enumerable:!0,get:function(){return t.parse}})})(gm);var L2={};Object.defineProperty(L2,"__esModule",{value:!0});var sy=ai;function ay(a,t){t===void 0&&(t={});var e=(0,sy.base_parse)(a,t);return e.length===1}L2.default=ay;var Sa=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.NodeType=Ye.TextNode=Ye.Node=Ye.valid=Ye.CommentNode=Ye.HTMLElement=Ye.parse=void 0;var mm=Sa(Qd);Ye.CommentNode=mm.default;var bm=Sa(ai);Ye.HTMLElement=bm.default;var Am=Sa(yu);Ye.Node=Am.default;var vm=Sa(f0);Ye.TextNode=vm.default;var ym=Sa(Ca);Ye.NodeType=ym.default;var Em=Sa(gm),Dm=Sa(L2);Ye.valid=Dm.default;function ni(a,t){return t===void 0&&(t={}),(0,Em.default)(a,t)}var ny=Ye.default=ni;Ye.parse=ni;ni.parse=Em.default;ni.HTMLElement=bm.default;ni.CommentNode=mm.default;ni.valid=Dm.default;ni.Node=Am.default;ni.TextNode=vm.default;ni.NodeType=ym.default;async function uy(a){const t=`transcript-${encodeURIComponent(a)}`,e=Sm(t);if(e)return e;const i=await(await fetch(a,{cache:"force-cache"})).text(),l=ny(i).childNodes[1].childNodes.map(c=>{if("getAttribute"in c&&typeof c.getAttribute=="function")return{start:c.getAttribute("start"),duration:c.getAttribute("dur"),text:zA(c.textContent)};throw new Error("Invalid transcript response")});return Lm(t,JSON.stringify(l)),l}const oy=60,ly=300,cy=500,hy=({rawTranscripts:a})=>{const t=[];let e=0,r=[],i=0,s=0,n={},u={};function l(){e=0,r=[],i=0,s=0,n={}}return a.forEach((c,h,d)=>{u.start&&u.text&&(n.start=u.start,r.push(u.text),u={}),e==0&&(n.start=u.start?u.start:c.start),e++;const f=Math.round(Number(n.start));if(s=Math.round(Number(c.start))-f,i+=c.text.length,r.push(c.text),h==d.length-1){n.text=r.join(" ").replace(/\n/g," "),t.push(n),l();return}if(s>oy){n.text=r.join(" ").replace(/\n/g," "),t.push(n),l();return}if(i>ly){if(i<cy)if(c.text.includes(".")){const m=c.text.split(".");if(m[m.length-1].replace(/\s+/g,"")==""){n.text=r.join(" ").replace(/\n/g," "),t.push(n),l();return}const v=m[m.length-2],E=c.text.indexOf(v)+v.length+1,y=c.text.substring(0,E);u.text=c.text.substring(E),u.start=c.start,r.splice(r.length-1,1,y),n.text=r.join(" ").replace(/\n/g," "),t.push(n),l();return}else return;n.text=r.join(" ").replace(/\n/g," "),t.push(n),l();return}}),t},dy=a=>{const t=document.createElement("div");return a&&typeof a=="string"&&(t.innerHTML=a,a=t.textContent??"",t.textContent=""),a},fy=a=>{const t=py(a),e=gy(a),r=t.map(n=>n.name.simpleText),i="English";return r.sort((n,u)=>n.includes(i)?-1:u.includes(i)?1:0).sort((n,u)=>n==i?-1:u==i?1:0).map(n=>{var l;const u=((l=t.find(c=>c.name.simpleText===n))==null?void 0:l.baseUrl)??"";return{language:n,link:u,title:e}})},py=a=>{const t=a.split('"captions":');if(t.length<2)throw new Error("Youtube caption is not found");try{return JSON.parse(t[1].split(',"videoDetails')[0].replace(`
`,"")).playerCaptionsTracklistRenderer.captionTracks}catch{throw new Error("Youtube caption is not found")}},gy=a=>{const t=a.split('"title":"');if(t.length<2)throw new Error("Youtube title is not found");return t[1].split('","lengthSeconds"')[0]??""};async function my(a){const t=await uy(a);return hy({rawTranscripts:t}).map((e,r)=>({text:dy(e.text??"").trim(),start:Math.round(Number(e.start)),index:r}))}async function mp(a,t){var u,l;const e=await Nm(a),r=fy(e);if(!r||r.length===0)return{title:document.title,textData:[]};const i=t??((u=r[0])==null?void 0:u.language)??"unknown",s=((l=r[0])==null?void 0:l.title)??(document==null?void 0:document.title)??"";Fm({videoId:a,lang:i,action:"summary"});const n=await my(r[0].link);return{title:s,textData:n}}function by(a){return a.map((t,e)=>({text:t.transcriptText.trim()??"",start:Math.round(t.seconds),index:e}))}const Ay=async(a,t,e,r,i=!0)=>{try{let s="",n=[];if(t==="closed_widget"){const l=await mp(a,e);s=l.title,n=l.textData}else t==="opened_widget"&&(s=document.title,n=r?by(r):(await mp(a,e)).textData);const u=Ap({textData:n,withTimestamp:i});return{title:s,text:u,textData:n}}catch{return{title:"",text:"",textData:[]}}},vy=async a=>{if(navigator.clipboard)try{await navigator.clipboard.writeText(a)}catch{return}else yy(a)},yy=a=>{const t=document.createElement("textarea");t.value=a,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch{}document.body.removeChild(t)},Ey={default:"ref=glasp","gpt_3.5":"model=text-davinci-002-render-sha&ref=glasp",gpt_4:"model=gpt-4&ref=glasp",gpt_4o:"model=gpt-4o&ref=glasp",gpt_4o_mini:"model=gpt-4o-mini&ref=glasp",o1_preview:"model=o1-preview&ref=glasp",o1_mini:"model=o1-mini&ref=glasp",plugins:"model=gpt-4-plugins&ref=glasp",browsing:"model=gpt-4-browsing&ref=glasp",code_interpreter:"model=gpt-4-code-interpreter&ref=glasp",claude:"",mistral_ai:"",gemini:""},Dy=({llm:a,geminiURL:t,customGPTsURL:e,temporaryChat:r})=>{const i=r?"&temporary-chat=true":"",s=Ey[a]??"ref=glasp";switch(a){case"claude":return"https://claude.ai/?ref=glasp";case"mistral_ai":return"https://chat.mistral.ai/chat/?ref=glasp";case"gemini":return t===""?"https://gemini.google.com/u/0/app?ref=glasp":t+"?ref=glasp";case"custom_gpts":return e===""?`https://chatgpt.com/g/g-JvAs2IMCT-glaspgpt/?ref=glasp${i}`:`${e}?ref=glasp${i}`;default:return`https://chatgpt.com/?${s}${i}`}},wy=async({prompt:a,llm:t,geminiURL:e,customGPTsURL:r,temporaryChat:i})=>{await vy(a),chrome.runtime.sendMessage({action:"set_prompt",prompt:a});const s=Dy({llm:t,geminiURL:e,customGPTsURL:r,temporaryChat:i});window.open(s,"_blank")},_y="glasp-extension-show-toast",xy=({id:a,message:t,type:e="info",duration:r=3e3})=>{const i=new CustomEvent(_y,{detail:{id:a,message:t,type:e,duration:r}});document.dispatchEvent(i)},Cy=a=>{const t=a&&a!==""?a:window.location.search;if(!/\?([a-zA-Z0-9_]+)/i.exec(t))return{};let e;const r=/\+/g,i=/([^?&=]+)=?([^&]*)/g,s=h=>decodeURIComponent(h.replace(r," ")),n=/\?([a-zA-Z0-9_]+)/i.exec(t),u=n?n.index+1:1,l=t.substring(u),c={};for(;e=i.exec(l);)c[s(e[1])]=s(e[2]);return c},Ty=a=>{var t;if(!a)return"";try{const e=(t=Cy(a))==null?void 0:t.v;if(e)return e;const r=new URL(a).pathname;return r.includes("/shorts/")?r.split("/shorts/")[1]:""}catch{return""}},Sy={youtube:"Couldn’t retrieve transcript for this video... 😢",article:"Couldn’t retrieve text for this website... 😢",pdf:"Couldn’t retrieve text for this PDF... 😢"},By=async({media:a="youtube",userConfig:t,llm:e=t.llm,videoId:r,actionVia:i="closed_widget",transcripts:s})=>{let n="",u="";const l=window.location.href||"";switch(a){case"youtube":{const h=r||Ty(l);if(!h){({title:n,text:u}=ip());break}({title:n,text:u}=await Ay(h,i,t.language,s));break}case"article":{({title:n,text:u}=ip());break}case"pdf":{({title:n,text:u}=await OA(l));break}}if((!u||u=="")&&(!n||n=="")){xy({id:"text-not-available",message:Sy[a],duration:3e3});return}const c=Pm({media:a,title:n,text:u,language:t.language,customPrompt:t.customPrompt,llm:e,summaryStrategy:t.summaryStrategy});await wy({prompt:c,llm:e,geminiURL:t.geminiURL,customGPTsURL:t.customGPTsURL,temporaryChat:t.temporaryChat})},Iy="glasp-extension",Oy="yt_ai_summary_container",qy="yt_ai_summary_btn_right_control",Hy="glasp-yt-summary-widget",jy="glasp-yt-summary-icon-in-player",Uy="glasp_yt_summary_btn_on_img",Vy="glasp-yt-summary-markdown-viewer",Gy="#secondary.style-scope.ytd-watch-flexy",zy="#movie_player div.ytp-right-controls",$y=".yt-core-image--fill-parent-height.yt-core-image--fill-parent-width.yt-core-image.yt-core-image--content-mode-scale-aspect-fill.yt-core-image--loaded",Wy="media-container-link",Xy=()=>navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Chromium")===-1,Yy=()=>/Edg/.test(navigator.userAgent),Ky=()=>window.location.hostname==="www.youtube.com"?"youtube":Ly()?"pdf":"article",Jy=()=>{try{return window.location.hostname==="localhost"||window.location.protocol==="file:"}catch{return!1}};function Ly(){const a=document.querySelectorAll('embed[type="application/pdf"], object[type="application/pdf"]');return!!(a.length>0||window.location.href.endsWith(".pdf")&&a.length>0)}export{Py as D,ky as G,Oy as O,Iy as P,_y as T,My as X,Vy as Y,Ay as a,vy as b,Pm as c,fy as d,uy as e,hy as f,Cy as g,km as h,Xy as i,Ky as j,Ty as k,qy as l,jy as m,Hy as n,Gy as o,zy as p,$y as q,Wy as r,By as s,Uy as t,Yy as u,Jy as v,Ly as w};
