import{j as f,c as ke,r as S,u as qe,a as Sr,b as kn,g as lo,d as it,R as vr,U as Tr,e as ao}from"./user-provider-2e6d438c.js";import{c as so,a as Er,u as Gt,A as uo,P as We,b as ge,d as co,D as po,C as ho,S as fo,R as mo,e as go,f as Ir,g as jr,h as yo,i as Ee,B as st,j as xo,k as bo,l as wn,m as Pr,n as ko,o as wo,I as Co,p as So,O as ve,q as vo,M as To,G as Eo,T as Nr}from"./theme-provider-dd8e1c20.js";import{G as Io,a as jo,E as Po,b as ut}from"./firebase-7a37cf60.js";import{G as No,g as Ge,a as Lr,c as Lo,s as Ar,X as Ao,b as Or,Y as Oo,d as Mo,e as _o,f as zo,h as Mr,i as Ro,j as Do,k as Cn,O as Sn,l as vn,m as Lt,n as xt,P as Zt,o as Fo,D as Bo,p as Vo,q as Uo,r as Ho,t as At}from"./get-current-media-516cff94.js";import{g as ct}from"./get-user-config-095b2c2d.js";import{s as $o}from"./storage-0924aca3.js";import{g as qo,f as Yo}from"./youtube-91385786.js";import"./default-user-config-22e12d79.js";const _r=({size:e=24,color:t="#777777"})=>f.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsxs("mask",{x:"1",y:"1",width:"24",height:"24",fill:t,children:[f.jsx("rect",{fill:"white",x:"1",y:"1",width:"24",height:"24"}),f.jsx("path",{d:"M20.6816 10.1843C20.9588 9.34066 21.0063 8.4399 20.8192 7.57245C20.6321 6.70499 20.217 5.90134 19.6157 5.24216C19.0143 4.58298 18.2478 4.09146 17.393 3.81692C16.5382 3.54238 15.6253 3.49449 14.7459 3.67805C14.1453 3.01747 13.379 2.52468 12.524 2.24931C11.669 1.97394 10.7555 1.92571 9.87559 2.10947C8.99568 2.29324 8.18039 2.70252 7.51181 3.29608C6.84323 3.88965 6.34499 4.64654 6.06725 5.49055C5.18642 5.67292 4.3699 6.08122 3.70003 6.67426C3.03017 7.26731 2.53064 8.02413 2.25182 8.86842C1.97299 9.71271 1.92474 10.6146 2.11192 11.4832C2.2991 12.3517 2.71509 13.1562 3.31795 13.8155C3.09309 14.4899 3.01633 15.2037 3.09278 15.9095C3.16924 16.6154 3.39716 17.2971 3.76139 17.9093C4.30169 18.8351 5.12567 19.568 6.11483 20.0027C7.104 20.4373 8.20738 20.5512 9.26631 20.328C9.74353 20.8568 10.3291 21.2796 10.9844 21.5684C11.6396 21.8571 12.3495 22.0053 13.0672 22.003C14.1516 22.003 15.2081 21.6635 16.0847 21.0334C16.9612 20.4034 17.6125 19.5152 17.9449 18.4968C18.649 18.3539 19.3141 18.0649 19.8962 17.6489C20.4784 17.233 20.9642 16.6997 21.3214 16.0843C21.8585 15.1598 22.0858 14.0915 21.9709 13.032C21.856 11.9724 21.4048 10.9758 20.6816 10.1843ZM13.0798 20.6968C12.191 20.6968 11.3302 20.3894 10.6473 19.828L10.7677 19.7593L14.8029 17.4593C14.9069 17.4047 14.9935 17.3225 15.0528 17.2221C15.1121 17.1216 15.1418 17.0068 15.1386 16.8905V11.2655L16.8427 12.2405C16.8517 12.2441 16.8594 12.2501 16.865 12.2579C16.8706 12.2656 16.8739 12.2748 16.8744 12.2843V16.9343C16.876 17.4289 16.7785 17.9189 16.5875 18.3761C16.3964 18.8333 16.1156 19.2488 15.7611 19.5985C15.4067 19.9482 14.9856 20.2253 14.5222 20.4138C14.0588 20.6023 13.5621 20.6984 13.0608 20.6968H13.0798ZM4.90165 17.2593C4.46164 16.5029 4.3026 15.6189 4.45188 14.7593L4.57224 14.828L8.60749 17.128C8.70379 17.1829 8.81303 17.2118 8.92423 17.2118C9.03543 17.2118 9.14467 17.1829 9.24097 17.128L14.1758 14.3218V16.253C14.1797 16.2608 14.1817 16.2694 14.1817 16.278C14.1817 16.2867 14.1797 16.2953 14.1758 16.303L10.0962 18.628C9.66403 18.8748 9.18685 19.0352 8.69188 19.0999C8.19692 19.1647 7.69387 19.1326 7.21148 19.0055C6.72909 18.8784 6.27681 18.6587 5.88048 18.3591C5.48415 18.0595 5.15154 17.6858 4.90165 17.2593ZM3.83741 8.5843C4.28764 7.82089 4.99655 7.23878 5.83919 6.94055V11.6718C5.83595 11.7857 5.86434 11.8983 5.92128 11.9975C5.97823 12.0966 6.06156 12.1785 6.16227 12.2343L11.0717 15.028L9.36766 16.003C9.34918 16.0092 9.32914 16.0092 9.31065 16.003L5.23106 13.678C4.36041 13.1812 3.72487 12.3642 3.46364 11.4059C3.20242 10.4476 3.33682 9.42624 3.83741 8.56555V8.5843ZM17.8563 11.7968L12.9278 8.9718L14.6319 8.00305C14.6403 7.99741 14.6502 7.99439 14.6604 7.99439C14.6705 7.99439 14.6805 7.99741 14.6889 8.00305L18.7685 10.328C19.3915 10.684 19.8992 11.2072 20.2325 11.8368C20.5659 12.4664 20.7111 13.1764 20.6514 13.8843C20.5916 14.5921 20.3294 15.2687 19.8951 15.8352C19.4608 16.4017 18.8724 16.8349 18.1983 17.0843V12.353C18.1946 12.2391 18.1612 12.1281 18.1013 12.0306C18.0414 11.9332 17.957 11.8527 17.8563 11.7968ZM19.554 9.2968L19.4336 9.2218L15.4047 6.9093C15.3047 6.84846 15.1896 6.81624 15.0721 6.81624C14.9547 6.81624 14.8395 6.84846 14.7396 6.9093L9.8111 9.71555V7.75305C9.8061 7.7445 9.80346 7.7348 9.80346 7.72492C9.80346 7.71505 9.8061 7.70535 9.8111 7.6968L13.897 5.37805C14.5222 5.02257 15.2371 4.85003 15.958 4.88059C16.6789 4.91115 17.3762 5.14356 17.9682 5.55064C18.5601 5.95772 19.0225 6.52265 19.301 7.17939C19.5796 7.83614 19.663 8.55755 19.5413 9.2593L19.554 9.2968ZM8.87989 12.7218L7.1695 11.753C7.15339 11.7405 7.1422 11.7228 7.13782 11.703V7.06555C7.13785 6.35289 7.34371 5.65499 7.73128 5.0536C8.11885 4.45222 8.67209 3.97224 9.32619 3.6699C9.98029 3.36756 10.7082 3.25537 11.4246 3.34647C12.141 3.43757 12.8162 3.7282 13.3712 4.1843L13.2636 4.25305L9.21563 6.55305C9.11158 6.60765 9.02504 6.68981 8.96573 6.79029C8.90642 6.89076 8.87669 7.00557 8.87989 7.1218V12.7218ZM9.80476 10.753L11.9966 9.50305L14.1948 10.753V13.253L11.9966 14.503L9.79843 13.253L9.80476 10.753Z"})]}),f.jsx("path",{d:"M20.6816 10.1843C20.9588 9.34066 21.0063 8.4399 20.8192 7.57245C20.6321 6.70499 20.217 5.90134 19.6157 5.24216C19.0143 4.58298 18.2478 4.09146 17.393 3.81692C16.5382 3.54238 15.6253 3.49449 14.7459 3.67805C14.1453 3.01747 13.379 2.52468 12.524 2.24931C11.669 1.97394 10.7555 1.92571 9.87559 2.10947C8.99568 2.29324 8.18039 2.70252 7.51181 3.29608C6.84323 3.88965 6.34499 4.64654 6.06725 5.49055C5.18642 5.67292 4.3699 6.08122 3.70003 6.67426C3.03017 7.26731 2.53064 8.02413 2.25182 8.86842C1.97299 9.71271 1.92474 10.6146 2.11192 11.4832C2.2991 12.3517 2.71509 13.1562 3.31795 13.8155C3.09309 14.4899 3.01633 15.2037 3.09278 15.9095C3.16924 16.6154 3.39716 17.2971 3.76139 17.9093C4.30169 18.8351 5.12567 19.568 6.11483 20.0027C7.104 20.4373 8.20738 20.5512 9.26631 20.328C9.74353 20.8568 10.3291 21.2796 10.9844 21.5684C11.6396 21.8571 12.3495 22.0053 13.0672 22.003C14.1516 22.003 15.2081 21.6635 16.0847 21.0334C16.9612 20.4034 17.6125 19.5152 17.9449 18.4968C18.649 18.3539 19.3141 18.0649 19.8962 17.6489C20.4784 17.233 20.9642 16.6997 21.3214 16.0843C21.8585 15.1598 22.0858 14.0915 21.9709 13.032C21.856 11.9724 21.4048 10.9758 20.6816 10.1843ZM13.0798 20.6968C12.191 20.6968 11.3302 20.3894 10.6473 19.828L10.7677 19.7593L14.8029 17.4593C14.9069 17.4047 14.9935 17.3225 15.0528 17.2221C15.1121 17.1216 15.1418 17.0068 15.1386 16.8905V11.2655L16.8427 12.2405C16.8517 12.2441 16.8594 12.2501 16.865 12.2579C16.8706 12.2656 16.8739 12.2748 16.8744 12.2843V16.9343C16.876 17.4289 16.7785 17.9189 16.5875 18.3761C16.3964 18.8333 16.1156 19.2488 15.7611 19.5985C15.4067 19.9482 14.9856 20.2253 14.5222 20.4138C14.0588 20.6023 13.5621 20.6984 13.0608 20.6968H13.0798ZM4.90165 17.2593C4.46164 16.5029 4.3026 15.6189 4.45188 14.7593L4.57224 14.828L8.60749 17.128C8.70379 17.1829 8.81303 17.2118 8.92423 17.2118C9.03543 17.2118 9.14467 17.1829 9.24097 17.128L14.1758 14.3218V16.253C14.1797 16.2608 14.1817 16.2694 14.1817 16.278C14.1817 16.2867 14.1797 16.2953 14.1758 16.303L10.0962 18.628C9.66403 18.8748 9.18685 19.0352 8.69188 19.0999C8.19692 19.1647 7.69387 19.1326 7.21148 19.0055C6.72909 18.8784 6.27681 18.6587 5.88048 18.3591C5.48415 18.0595 5.15154 17.6858 4.90165 17.2593ZM3.83741 8.5843C4.28764 7.82089 4.99655 7.23878 5.83919 6.94055V11.6718C5.83595 11.7857 5.86434 11.8983 5.92128 11.9975C5.97823 12.0966 6.06156 12.1785 6.16227 12.2343L11.0717 15.028L9.36766 16.003C9.34918 16.0092 9.32914 16.0092 9.31065 16.003L5.23106 13.678C4.36041 13.1812 3.72487 12.3642 3.46364 11.4059C3.20242 10.4476 3.33682 9.42624 3.83741 8.56555V8.5843ZM17.8563 11.7968L12.9278 8.9718L14.6319 8.00305C14.6403 7.99741 14.6502 7.99439 14.6604 7.99439C14.6705 7.99439 14.6805 7.99741 14.6889 8.00305L18.7685 10.328C19.3915 10.684 19.8992 11.2072 20.2325 11.8368C20.5659 12.4664 20.7111 13.1764 20.6514 13.8843C20.5916 14.5921 20.3294 15.2687 19.8951 15.8352C19.4608 16.4017 18.8724 16.8349 18.1983 17.0843V12.353C18.1946 12.2391 18.1612 12.1281 18.1013 12.0306C18.0414 11.9332 17.957 11.8527 17.8563 11.7968ZM19.554 9.2968L19.4336 9.2218L15.4047 6.9093C15.3047 6.84846 15.1896 6.81624 15.0721 6.81624C14.9547 6.81624 14.8395 6.84846 14.7396 6.9093L9.8111 9.71555V7.75305C9.8061 7.7445 9.80346 7.7348 9.80346 7.72492C9.80346 7.71505 9.8061 7.70535 9.8111 7.6968L13.897 5.37805C14.5222 5.02257 15.2371 4.85003 15.958 4.88059C16.6789 4.91115 17.3762 5.14356 17.9682 5.55064C18.5601 5.95772 19.0225 6.52265 19.301 7.17939C19.5796 7.83614 19.663 8.55755 19.5413 9.2593L19.554 9.2968ZM8.87989 12.7218L7.1695 11.753C7.15339 11.7405 7.1422 11.7228 7.13782 11.703V7.06555C7.13785 6.35289 7.34371 5.65499 7.73128 5.0536C8.11885 4.45222 8.67209 3.97224 9.32619 3.6699C9.98029 3.36756 10.7082 3.25537 11.4246 3.34647C12.141 3.43757 12.8162 3.7282 13.3712 4.1843L13.2636 4.25305L9.21563 6.55305C9.11158 6.60765 9.02504 6.68981 8.96573 6.79029C8.90642 6.89076 8.87669 7.00557 8.87989 7.1218V12.7218ZM9.80476 10.753L11.9966 9.50305L14.1948 10.753V13.253L11.9966 14.503L9.79843 13.253L9.80476 10.753Z",fill:t}),f.jsx("path",{d:"M20.6816 10.1843C20.9588 9.34066 21.0063 8.4399 20.8192 7.57245C20.6321 6.70499 20.217 5.90134 19.6157 5.24216C19.0143 4.58298 18.2478 4.09146 17.393 3.81692C16.5382 3.54238 15.6253 3.49449 14.7459 3.67805C14.1453 3.01747 13.379 2.52468 12.524 2.24931C11.669 1.97394 10.7555 1.92571 9.87559 2.10947C8.99568 2.29324 8.18039 2.70252 7.51181 3.29608C6.84323 3.88965 6.34499 4.64654 6.06725 5.49055C5.18642 5.67292 4.3699 6.08122 3.70003 6.67426C3.03017 7.26731 2.53064 8.02413 2.25182 8.86842C1.97299 9.71271 1.92474 10.6146 2.11192 11.4832C2.2991 12.3517 2.71509 13.1562 3.31795 13.8155C3.09309 14.4899 3.01633 15.2037 3.09278 15.9095C3.16924 16.6154 3.39716 17.2971 3.76139 17.9093C4.30169 18.8351 5.12567 19.568 6.11483 20.0027C7.104 20.4373 8.20738 20.5512 9.26631 20.328C9.74353 20.8568 10.3291 21.2796 10.9844 21.5684C11.6396 21.8571 12.3495 22.0053 13.0672 22.003C14.1516 22.003 15.2081 21.6635 16.0847 21.0334C16.9612 20.4034 17.6125 19.5152 17.9449 18.4968C18.649 18.3539 19.3141 18.0649 19.8962 17.6489C20.4784 17.233 20.9642 16.6997 21.3214 16.0843C21.8585 15.1598 22.0858 14.0915 21.9709 13.032C21.856 11.9724 21.4048 10.9758 20.6816 10.1843ZM13.0798 20.6968C12.191 20.6968 11.3302 20.3894 10.6473 19.828L10.7677 19.7593L14.8029 17.4593C14.9069 17.4047 14.9935 17.3225 15.0528 17.2221C15.1121 17.1216 15.1418 17.0068 15.1386 16.8905V11.2655L16.8427 12.2405C16.8517 12.2441 16.8594 12.2501 16.865 12.2579C16.8706 12.2656 16.8739 12.2748 16.8744 12.2843V16.9343C16.876 17.4289 16.7785 17.9189 16.5875 18.3761C16.3964 18.8333 16.1156 19.2488 15.7611 19.5985C15.4067 19.9482 14.9856 20.2253 14.5222 20.4138C14.0588 20.6023 13.5621 20.6984 13.0608 20.6968H13.0798ZM4.90165 17.2593C4.46164 16.5029 4.3026 15.6189 4.45188 14.7593L4.57224 14.828L8.60749 17.128C8.70379 17.1829 8.81303 17.2118 8.92423 17.2118C9.03543 17.2118 9.14467 17.1829 9.24097 17.128L14.1758 14.3218V16.253C14.1797 16.2608 14.1817 16.2694 14.1817 16.278C14.1817 16.2867 14.1797 16.2953 14.1758 16.303L10.0962 18.628C9.66403 18.8748 9.18685 19.0352 8.69188 19.0999C8.19692 19.1647 7.69387 19.1326 7.21148 19.0055C6.72909 18.8784 6.27681 18.6587 5.88048 18.3591C5.48415 18.0595 5.15154 17.6858 4.90165 17.2593ZM3.83741 8.5843C4.28764 7.82089 4.99655 7.23878 5.83919 6.94055V11.6718C5.83595 11.7857 5.86434 11.8983 5.92128 11.9975C5.97823 12.0966 6.06156 12.1785 6.16227 12.2343L11.0717 15.028L9.36766 16.003C9.34918 16.0092 9.32914 16.0092 9.31065 16.003L5.23106 13.678C4.36041 13.1812 3.72487 12.3642 3.46364 11.4059C3.20242 10.4476 3.33682 9.42624 3.83741 8.56555V8.5843ZM17.8563 11.7968L12.9278 8.9718L14.6319 8.00305C14.6403 7.99741 14.6502 7.99439 14.6604 7.99439C14.6705 7.99439 14.6805 7.99741 14.6889 8.00305L18.7685 10.328C19.3915 10.684 19.8992 11.2072 20.2325 11.8368C20.5659 12.4664 20.7111 13.1764 20.6514 13.8843C20.5916 14.5921 20.3294 15.2687 19.8951 15.8352C19.4608 16.4017 18.8724 16.8349 18.1983 17.0843V12.353C18.1946 12.2391 18.1612 12.1281 18.1013 12.0306C18.0414 11.9332 17.957 11.8527 17.8563 11.7968ZM19.554 9.2968L19.4336 9.2218L15.4047 6.9093C15.3047 6.84846 15.1896 6.81624 15.0721 6.81624C14.9547 6.81624 14.8395 6.84846 14.7396 6.9093L9.8111 9.71555V7.75305C9.8061 7.7445 9.80346 7.7348 9.80346 7.72492C9.80346 7.71505 9.8061 7.70535 9.8111 7.6968L13.897 5.37805C14.5222 5.02257 15.2371 4.85003 15.958 4.88059C16.6789 4.91115 17.3762 5.14356 17.9682 5.55064C18.5601 5.95772 19.0225 6.52265 19.301 7.17939C19.5796 7.83614 19.663 8.55755 19.5413 9.2593L19.554 9.2968ZM8.87989 12.7218L7.1695 11.753C7.15339 11.7405 7.1422 11.7228 7.13782 11.703V7.06555C7.13785 6.35289 7.34371 5.65499 7.73128 5.0536C8.11885 4.45222 8.67209 3.97224 9.32619 3.6699C9.98029 3.36756 10.7082 3.25537 11.4246 3.34647C12.141 3.43757 12.8162 3.7282 13.3712 4.1843L13.2636 4.25305L9.21563 6.55305C9.11158 6.60765 9.02504 6.68981 8.96573 6.79029C8.90642 6.89076 8.87669 7.00557 8.87989 7.1218V12.7218ZM9.80476 10.753L11.9966 9.50305L14.1948 10.753V13.253L11.9966 14.503L9.79843 13.253L9.80476 10.753Z",stroke:t,strokeWidth:"0.3"})]});/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ke("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=ke("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ke("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var[pt,i1]=so("Tooltip",[Er]),ht=Er(),Rr="TooltipProvider",Jo=700,Mt="tooltip.open",[el,Xt]=pt(Rr),Dr=e=>{const{__scopeTooltip:t,delayDuration:n=Jo,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,[l,a]=S.useState(!0),s=S.useRef(!1),u=S.useRef(0);return S.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),f.jsx(el,{scope:t,isOpenDelayed:l,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:S.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};Dr.displayName=Rr;var ft="Tooltip",[tl,dt]=pt(ft),Fr=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:l,delayDuration:a}=e,s=Xt(ft,e.__scopeTooltip),u=ht(t),[c,p]=S.useState(null),d=Ir(),h=S.useRef(0),y=l??s.disableHoverableContent,b=a??s.delayDuration,E=S.useRef(!1),[k=!1,I]=jr({prop:r,defaultProp:i,onChange:_=>{_?(s.onOpen(),document.dispatchEvent(new CustomEvent(Mt))):s.onClose(),o==null||o(_)}}),T=S.useMemo(()=>k?E.current?"delayed-open":"instant-open":"closed",[k]),M=S.useCallback(()=>{window.clearTimeout(h.current),E.current=!1,I(!0)},[I]),L=S.useCallback(()=>{window.clearTimeout(h.current),I(!1)},[I]),w=S.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{E.current=!0,I(!0)},b)},[b,I]);return S.useEffect(()=>()=>window.clearTimeout(h.current),[]),f.jsx(yo,{...u,children:f.jsx(tl,{scope:t,contentId:d,open:k,stateAttribute:T,trigger:c,onTriggerChange:p,onTriggerEnter:S.useCallback(()=>{s.isOpenDelayed?w():M()},[s.isOpenDelayed,w,M]),onTriggerLeave:S.useCallback(()=>{y?L():window.clearTimeout(h.current)},[L,y]),onOpen:M,onClose:L,disableHoverableContent:y,children:n})})};Fr.displayName=ft;var _t="TooltipTrigger",Br=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=dt(_t,n),o=Xt(_t,n),l=ht(n),a=S.useRef(null),s=Gt(t,a,i.onTriggerChange),u=S.useRef(!1),c=S.useRef(!1),p=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),f.jsx(uo,{asChild:!0,...l,children:f.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:s,onPointerMove:ge(e.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ge(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:ge(e.onBlur,i.onClose),onClick:ge(e.onClick,i.onClose)})})});Br.displayName=_t;var nl="TooltipPortal",[o1,rl]=pt(nl,{forceMount:void 0}),Me="TooltipContent",Vr=S.forwardRef((e,t)=>{const n=rl(Me,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,l=dt(Me,e.__scopeTooltip);return f.jsx(co,{present:r||l.open,children:l.disableHoverableContent?f.jsx(Ur,{side:i,...o,ref:t}):f.jsx(il,{side:i,...o,ref:t})})}),il=S.forwardRef((e,t)=>{const n=dt(Me,e.__scopeTooltip),r=Xt(Me,e.__scopeTooltip),i=S.useRef(null),o=Gt(t,i),[l,a]=S.useState(null),{trigger:s,onClose:u}=n,c=i.current,{onPointerInTransitChange:p}=r,d=S.useCallback(()=>{a(null),p(!1)},[p]),h=S.useCallback((y,b)=>{const E=y.currentTarget,k={x:y.clientX,y:y.clientY},I=sl(k,E.getBoundingClientRect()),T=ul(k,I),M=cl(b.getBoundingClientRect()),L=hl([...T,...M]);a(L),p(!0)},[p]);return S.useEffect(()=>()=>d(),[d]),S.useEffect(()=>{if(s&&c){const y=E=>h(E,c),b=E=>h(E,s);return s.addEventListener("pointerleave",y),c.addEventListener("pointerleave",b),()=>{s.removeEventListener("pointerleave",y),c.removeEventListener("pointerleave",b)}}},[s,c,h,d]),S.useEffect(()=>{if(l){const y=b=>{const E=b.target,k={x:b.clientX,y:b.clientY},I=(s==null?void 0:s.contains(E))||(c==null?void 0:c.contains(E)),T=!pl(k,l);I?d():T&&(d(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[s,c,l,u,d]),f.jsx(Ur,{...e,ref:o})}),[ol,ll]=pt(ft,{isInside:!1}),Ur=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...a}=e,s=dt(Me,n),u=ht(n),{onClose:c}=s;return S.useEffect(()=>(document.addEventListener(Mt,c),()=>document.removeEventListener(Mt,c)),[c]),S.useEffect(()=>{if(s.trigger){const p=d=>{const h=d.target;h!=null&&h.contains(s.trigger)&&c()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[s.trigger,c]),f.jsx(po,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:c,children:f.jsxs(ho,{"data-state":s.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(fo,{children:r}),f.jsx(ol,{scope:n,isInside:!0,children:f.jsx(mo,{id:s.contentId,role:"tooltip",children:i||r})})]})})});Vr.displayName=Me;var Hr="TooltipArrow",al=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=ht(n);return ll(Hr,n).isInside?null:f.jsx(go,{...i,...r,ref:t})});al.displayName=Hr;function sl(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ul(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function cl(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function pl(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const a=t[o].x,s=t[o].y,u=t[l].x,c=t[l].y;s>r!=c>r&&n<(u-a)*(r-s)/(c-s)+a&&(i=!i)}return i}function hl(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fl(t)}function fl(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dl=Dr,ml=Fr,gl=Br,$r=Vr;const yl=dl,xl=ml,bl=gl,qr=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>f.jsx($r,{ref:r,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));qr.displayName=$r.displayName;const _e=({icon:e,tooltipContent:t,classNames:n,onClick:r})=>f.jsx(yl,{children:f.jsxs(xl,{delayDuration:50,children:[f.jsx(bl,{asChild:!0,children:f.jsx(st,{variant:"ghost",className:Ee("rounded-full w-[32px] h-[32px] p-1 text-gray-600 dark:text-gray-200",n),onClick:r,children:e})}),f.jsx(qr,{className:"bg-gray-900 opacity-95 z-50",side:"top",style:{zIndex:9999},children:f.jsx("div",{className:"text-white text-lg text-center leading-tight py-1",style:{zIndex:9999},children:t})})]})}),kl=({size:e=24,color:t="#787878"})=>f.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"12",cy:"12",r:"6.25",stroke:t,strokeWidth:"1.5"}),f.jsx("rect",{x:"3.19995",y:"11.3999",width:"5",height:"1.2",rx:"0.6",fill:t}),f.jsx("rect",{x:"15.7",y:"11.3999",width:"5",height:"1.2",rx:"0.6",fill:t}),f.jsx("rect",{x:"11.3999",y:"8",width:"5",height:"1.2",rx:"0.6",transform:"rotate(-90 11.3999 8)",fill:t}),f.jsx("rect",{x:"11.3999",y:"21",width:"5",height:"1.2",rx:"0.6",transform:"rotate(-90 11.3999 21)",fill:t})]}),wl=({isOpen:e,copyFormat:t,onClickSettings:n,onClickSummaryOnNewPage:r,onClickSummaryOnPage:i,onClickTrack:o,onClickCopyTranscript:l,onClickFindArticle:a,onToggleContent:s})=>{const u=e?[f.jsx(Tn,{onClick:i},"summarize-on-page-open"),f.jsx(En,{onClick:r},"summarize-new-page"),f.jsx(vl,{onClick:o},"track"),f.jsx(Tl,{copyFormat:t,onClick:l},"copy"),f.jsx(In,{onClick:s,children:f.jsx(xo,{color:"currentColor",size:24,strokeWidth:1.7})},"toggle")]:[f.jsx(Tn,{onClick:i},"summarize-on-page-closed"),f.jsx(En,{onClick:r},"summarize-new-page"),f.jsx(Cl,{onClick:a},"find-article"),f.jsx(Sl,{onClick:n},"settings"),f.jsx(In,{onClick:s,children:f.jsx(bo,{color:"currentColor",size:24,strokeWidth:1.7})},"toggle")];return f.jsxs("div",{className:Ee("flex items-center justify-between gap-4 h-[42px] px-4 py-1 border border-gray-300 dark:!border-gray-600 border-solid select-none",e?"border-b-0 rounded-t-md":"rounded-md"),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("a",{href:Io,target:"_blank",children:f.jsx(No,{})}),f.jsx("p",{className:"dark:text-white text-[15px] cursor-pointer whitespace-nowrap",onClick:s,children:"Transcript & Summary"})]}),f.jsx("div",{className:"flex items-center gap-1.5",children:u.map(c=>c)})]})},Tn=({onClick:e})=>f.jsx(_e,{icon:f.jsx(zr,{color:"currentColor",size:24}),tooltipContent:f.jsxs(f.Fragment,{children:[f.jsx("p",{children:"Summarize Video"}),f.jsx("p",{className:"text-center",children:"(On Page)"})]}),classNames:"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-700",onClick:e}),Cl=({onClick:e})=>f.jsx(_e,{icon:f.jsx(Xo,{color:"currentColor",size:22}),tooltipContent:f.jsx("p",{children:"Find Summary Article"}),classNames:"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-700",onClick:e}),En=({onClick:e})=>f.jsx(_e,{icon:f.jsx(_r,{color:"currentColor"}),tooltipContent:f.jsxs(f.Fragment,{children:[f.jsx("p",{children:"Summarize Video"}),f.jsx("p",{className:"text-center",children:"(Open New Tab)"})]}),classNames:"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-700",onClick:e}),Sl=({onClick:e})=>f.jsx(_e,{icon:f.jsx(Ko,{color:"currentColor",size:22}),tooltipContent:f.jsx("p",{children:"Extension Settings"}),classNames:"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-700",onClick:e}),In=({onClick:e,children:t})=>f.jsx(st,{variant:"ghost",className:"rounded-full w-[32px] h-[32px] p-1 hover:bg-gray-100 active:bg-gray-200 text-gray-600 dark:text-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-700",onClick:e,children:t}),vl=({onClick:e})=>f.jsx(_e,{icon:f.jsx(kl,{color:"currentColor",size:24}),tooltipContent:f.jsx("p",{children:"Jump to Current Time"}),classNames:"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-700",onClick:e}),Tl=({copyFormat:e,onClick:t})=>f.jsx(_e,{icon:f.jsx(Ot,{color:"currentColor",size:20}),tooltipContent:f.jsxs(f.Fragment,{children:[f.jsx("p",{children:"Copy transcript"}),f.jsxs("p",{className:"text-center",children:["(",e,")"]})]}),classNames:"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-700",onClick:t}),Yr=()=>{let e,t;const n=window.location.protocol,r=window.location.hostname,i=window.location.pathname,o=window.location.search,l=Ge(window.location.href);if(e=r+i+o,t=n+"//"+e,t.startsWith("https://glasp.co/pdfs/"))return{url:e,fullUrl:t};if(window.location.pathname=="/pdf/web/viewer.html"&&window.location.search&&window.location.search.includes("?file=")){const a=new URL(window.location.search.replace("?file=",""));return e=a.hostname+a.pathname+a.search,t=a.protocol+"//"+e,{url:e,fullUrl:t}}if(window.location.hostname==="www.youtube.com"&&l.v){const a=l.v;return e=r+i+`?v=${a}`,t=n+"//"+e,{url:e,fullUrl:t}}return{url:e,fullUrl:t}},El=()=>{var l;let e="https://glasp.co/images/ogps/thumbnail_empty.jpeg",t=!1;const n=/^(https):\/\/[^ "]+$/gm,r=/^(http):\/\/[^ "]+$/gm,i=/((?:http|https|ftp|ftps|chrome|\*)?):\/\/([^/]+)(\/.*)?/;if(Il())return"https://glasp.co/images/ogps/thumbnail_linkedin.jpeg";if(jl())return`https://i.ytimg.com/vi/${Ge(window.location.href).v}/hqdefault.jpg`;if(Pl())return"https://glasp.co/images/ogps/thumbnail_pdf.jpeg";const o=document.querySelector("meta[property='og:image']");if(o!==null&&"content"in o){const a=o.getAttribute("content"),s=o.getAttribute("content"),u=n.test(a??""),c=r.test(a??""),d=Yr().fullUrl,h=window.location.hostname;u||c&&n.test(d)&&h==((l=i.exec(s??""))==null?void 0:l[2])?(e=a??"",t=!0):c&&(e=(a==null?void 0:a.replace("http","https"))??"",t=!0)}if(!t&&document.body.getElementsByTagName("img")&&document.body.getElementsByTagName("img").length!==0){const a=document.body.getElementsByTagName("img");for(let s=0;s<a.length;s++)if(a[s].width>170&&a[s].height>80){const u=a[s].src;if(n.test(u)){e=u,t=!0;break}}}return e},Il=()=>{const e=new URL(window.location.href);if(e.host=="www.linkedin.com"&&e.pathname.split("/")[1]){const t=e.pathname.split("/")[1];if(t=="posts"||t=="feed")return!0}return!1},jl=()=>{const e=Ge(window.location.href);return!!(window.location.hostname==="www.youtube.com"&&e.v)},Pl=()=>{if(window.location.protocol!=="file:"&&window.location.pathname=="/pdf/web/viewer.html"&&window.location.href.toLowerCase().indexOf(".pdf")>0)return!0;const e=window.location.href;for(const t of jo)if(e.startsWith(`https://${t}/pdfs?`))return!0;return!1},Nl=async({videoId:e,userConfig:t,retry:n=!1,callback:r})=>{try{const{title:i,text:o}=await Lr(e,"closed_widget");if(!o)return{result:"error"};const l=Lo({media:"youtube",title:i,text:o,language:t.language,customPrompt:t.customPrompt,llm:t.llm,summaryStrategy:t.summaryStrategy}),{fullUrl:a}=Yr(),s=El();return chrome.runtime.sendMessage({action:"summarize_on_page",prompt:l,title:i,thumbnail:s,url:a,retry:n},u=>r(u)),{result:"success"}}catch{return{result:"error"}}},Kt=({actionVia:e,videoId:t,transcripts:n})=>({onSummaryOnNewPage:S.useCallback(async()=>{try{const i=await ct();await Ar({videoId:t,actionVia:e,userConfig:i,transcripts:n})}catch{}},[e,t,n])}),Ll=({videoId:e})=>{const[t,n]=S.useState(""),[r,i]=S.useState(null),[o,l]=qe(),a=S.useCallback(u=>{const{status:c,detail:p,data:d}=u;c===200&&(d!=null&&d.summary)?(n(d.summary),i(null)):c===401?i({type:"unauthorized"}):c===402?i({type:"paymentRequired"}):n(p??""),l.off()},[l]),s=S.useCallback(async(u=!1)=>{l.on();try{const c=await ct(),{result:p}=await Nl({videoId:e,userConfig:c,retry:u,callback:a});p==="error"&&(i({type:"noSummaryAvailable"}),l.off())}catch{}},[e,l,a]);return{isLoading:o,onPageSummaryError:r,summaryMarkdown:t,setSummaryMarkdown:n,onSummaryOnPage:s}};function Al(e,t=[]){let n=[];function r(o,l){const a=S.createContext(l),s=n.length;n=[...n,l];const u=p=>{var k;const{scope:d,children:h,...y}=p,b=((k=d==null?void 0:d[e])==null?void 0:k[s])||a,E=S.useMemo(()=>y,Object.values(y));return f.jsx(b.Provider,{value:E,children:h})};u.displayName=o+"Provider";function c(p,d){var b;const h=((b=d==null?void 0:d[e])==null?void 0:b[s])||a,y=S.useContext(h);if(y)return y;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(l=>S.createContext(l));return function(a){const s=(a==null?void 0:a[e])||o;return S.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[r,Ol(i,...t)]}function Ol(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((a,{useScope:s,scopeName:u})=>{const p=s(o)[`__scope${u}`];return{...a,...p}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Ml(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var Wr=e=>{const{present:t,children:n}=e,r=_l(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),o=Gt(r.ref,zl(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:o}):null};Wr.displayName="Presence";function _l(e){const[t,n]=S.useState(),r=S.useRef({}),i=S.useRef(e),o=S.useRef("none"),l=e?"mounted":"unmounted",[a,s]=Ml(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Qe(r.current);o.current=a==="mounted"?u:"none"},[a]),wn(()=>{const u=r.current,c=i.current;if(c!==e){const d=o.current,h=Qe(u);e?s("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?s("UNMOUNT"):s(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),wn(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,p=h=>{const b=Qe(r.current).includes(h.animationName);if(h.target===t&&b&&(s("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},d=h=>{h.target===t&&(o.current=Qe(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Qe(e){return(e==null?void 0:e.animationName)||"none"}function zl(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qt="Tabs",[Rl,l1]=Al(Qt,[Pr]),Gr=Pr(),[Dl,Jt]=Rl(Qt),Zr=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:a,activationMode:s="automatic",...u}=e,c=ko(a),[p,d]=jr({prop:r,onChange:i,defaultProp:o});return f.jsx(Dl,{scope:n,baseId:Ir(),value:p,onValueChange:d,orientation:l,dir:c,activationMode:s,children:f.jsx(We.div,{dir:c,"data-orientation":l,...u,ref:t})})});Zr.displayName=Qt;var Xr="TabsList",Kr=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=Jt(Xr,n),l=Gr(n);return f.jsx(wo,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:f.jsx(We.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});Kr.displayName=Xr;var Qr="TabsTrigger",Jr=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,l=Jt(Qr,n),a=Gr(n),s=ni(l.baseId,r),u=ri(l.baseId,r),c=r===l.value;return f.jsx(Co,{asChild:!0,...a,focusable:!i,active:c,children:f.jsx(We.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:s,...o,ref:t,onMouseDown:ge(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:ge(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:ge(e.onFocus,()=>{const p=l.activationMode!=="manual";!c&&!i&&p&&l.onValueChange(r)})})})});Jr.displayName=Qr;var ei="TabsContent",ti=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...l}=e,a=Jt(ei,n),s=ni(a.baseId,r),u=ri(a.baseId,r),c=r===a.value,p=S.useRef(c);return S.useEffect(()=>{const d=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(d)},[]),f.jsx(Wr,{present:i||c,children:({present:d})=>f.jsx(We.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":s,hidden:!d,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:d&&o})})});ti.displayName=ei;function ni(e,t){return`${e}-trigger-${t}`}function ri(e,t){return`${e}-content-${t}`}var Fl=Zr,ii=Kr,oi=Jr,li=ti;const Bl=Fl,ai=S.forwardRef(({className:e,...t},n)=>f.jsx(ii,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ai.displayName=ii.displayName;const zt=S.forwardRef(({className:e,...t},n)=>f.jsx(oi,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));zt.displayName=oi.displayName;const Rt=S.forwardRef(({className:e,...t},n)=>f.jsx(li,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rt.displayName=li.displayName;const Vl=({children:e,value:t,onClick:n})=>f.jsxs(Bl,{defaultValue:"transcript",className:"w-full",value:t,onValueChange:r=>n(r),children:[f.jsxs(ai,{className:"h-[32px] grid gap-2 w-full grid-cols-2 p-0 bg-background dark:bg-foreground",children:[f.jsxs(zt,{value:"transcript",className:"flex items-center gap-2 w-full h-full rounded-md text-2xl font-normal data-[state=active]:text-blue-600 data-[state=active]:bg-blue-50 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 dark:data-[state=active]:text-blue-600 dark:data-[state=active]:bg-blue-50 select-none",children:[f.jsx(Wo,{width:20,height:20}),"Transcript"]}),f.jsxs(zt,{value:"summary",className:"flex items-center gap-2 w-full h-full rounded-md text-2xl font-normal data-[state=active]:text-blue-600 data-[state=active]:bg-blue-50 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 dark:data-[state=active]:text-blue-600 dark:data-[state=active]:bg-blue-50 select-none",children:[f.jsx(zr,{width:20,height:20}),"Summary"]})]}),f.jsx("div",{className:"mt-4",children:e})]}),Ul=({onClose:e})=>f.jsx("div",{className:"relative rounded-md py-4 px-5 m-1 outline outline-2 outline-gray-300 bg-gray-50",children:f.jsxs("p",{className:"text-[13px]",children:["Enjoying the extension? Consider",f.jsx("a",{href:`https://chromewebstore.google.com/detail/${Po}/reviews`,target:"_blank",className:"mx-1 text-blue-500 underline",children:"leaving a review"}),"ðŸ™ Your feedback is greatly appreciated!",f.jsx("span",{className:"absolute right-1 top-1 cursor-pointer",onClick:e,children:f.jsx(Ao,{size:10,height:10,color:"#828282"})})]})}),Hl="#movie_player > div.html5-video-container > video",si=()=>document.querySelector(Hl),$l=({transcriptData:e})=>{const t=S.useCallback(()=>{const n=si();n&&(n.currentTime=e.seconds,n.play())},[e]);return f.jsxs("div",{className:"flex gap-6",children:[f.jsx("div",{className:"w-fit grid sm:flex sm:flex-col items-center gap-2",children:f.jsx("div",{className:"timestamp-class text-2xl text-blue-500 cursor-pointer","data-time":e.timeText,"data-start-time":e.seconds,onClick:t})}),f.jsx("div",{className:"dark:text-white text-2xl","data-start-time":e.seconds,children:e.transcriptText})]})},ql=({isSelected:e,onClick:t,children:n})=>f.jsx(st,{variant:"outline",className:Ee("flex items-center rounded-full text-xl gap-1 h-[30px] font-normal bg-gray-100 hover:bg-gray-200 border border-gray-300 dark:text-white dark:bg-gray-900 dark:hover:bg-gray-800 dark:border-gray-600 select-none ",e?"!bg-black text-white border-black hover:!text-white dark:!bg-blue-50 dark:!text-blue-600 dark:!border-blue-600":""),onClick:t,children:n}),Dt=({size:e,color:t="#2a80ff"})=>f.jsx(Go,{size:e,color:t,className:"animate-spin",strokeWidth:.5}),Yl=({transcripts:e,languages:t,isChangingLanguage:n,onClickLanguage:r})=>{const[i,o]=S.useState(t[0]),{userConfig:l,onChangeUserConfig:a}=Sr(),s=Math.floor(Math.random()*100)+1<=20&&!!l.showWidgetMessage,u=S.useCallback(async()=>{a(p=>({...p,showWidgetMessage:!1})),await $o("showWidgetMessage",!1)},[a]),c=S.useCallback(p=>{o(p),r(p)},[r]);return f.jsxs("div",{children:[s&&f.jsx("div",{className:"my-4",children:f.jsx(Ul,{onClose:u})}),f.jsx("ul",{className:"flex items-center gap-2 overflow-x-scroll no-scrollbar",children:t.map(p=>f.jsx(ql,{isSelected:i===p,onClick:()=>c(p),children:p},p))}),n&&f.jsx("div",{className:"flex justify-center items-center my-20",children:f.jsx(Dt,{size:40,color:"#2a80ff"})}),f.jsx("ul",{className:"flex flex-col px-4 pb-4",children:e.map(p=>f.jsx("li",{className:"glasp-transcript-item pt-6",id:`glasp-transcript-item-${p.seconds}`,children:f.jsx($l,{transcriptData:p})},p.seconds))})]})},bt=({icon:e,children:t,onClick:n})=>f.jsxs(st,{variant:"outline",className:"flex items-center rounded-full text-[12px] gap-2 h-[30px] pl-3 pr-4 py-0.5 font-normal hover:bg-gray-100 active:bg-gray-200 border border-gray-300 dark:text-white dark:bg-gray-900 dark:hover:bg-gray-800 dark:border-gray-600 select-none",onClick:n,children:[e,t]});const ui=()=>chrome.runtime.sendMessage({action:"openOptions"});function Wl(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Gl=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Zl=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xl={};function jn(e,t){return((t||Xl).jsx?Zl:Gl).test(e)}const Kl=/[ \t\n\f\r]/g;function Ql(e){return typeof e=="object"?e.type==="text"?Pn(e.value):!1:Pn(e)}function Pn(e){return e.replace(Kl,"")===""}class Ze{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Ze.prototype.property={};Ze.prototype.normal={};Ze.prototype.space=null;function ci(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Ze(n,r,t)}function Ft(e){return e.toLowerCase()}class ie{constructor(t,n){this.property=t,this.attribute=n}}ie.prototype.space=null;ie.prototype.boolean=!1;ie.prototype.booleanish=!1;ie.prototype.overloadedBoolean=!1;ie.prototype.number=!1;ie.prototype.commaSeparated=!1;ie.prototype.spaceSeparated=!1;ie.prototype.commaOrSpaceSeparated=!1;ie.prototype.mustUseProperty=!1;ie.prototype.defined=!1;let Jl=0;const O=Ie(),W=Ie(),pi=Ie(),C=Ie(),U=Ie(),Ae=Ie(),te=Ie();function Ie(){return 2**++Jl}const Bt=Object.freeze(Object.defineProperty({__proto__:null,boolean:O,booleanish:W,commaOrSpaceSeparated:te,commaSeparated:Ae,number:C,overloadedBoolean:pi,spaceSeparated:U},Symbol.toStringTag,{value:"Module"})),kt=Object.keys(Bt);class en extends ie{constructor(t,n,r,i){let o=-1;if(super(t,n),Nn(this,"space",i),typeof r=="number")for(;++o<kt.length;){const l=kt[o];Nn(this,kt[o],(r&Bt[l])===Bt[l])}}}en.prototype.defined=!0;function Nn(e,t,n){n&&(e[t]=n)}const ea={}.hasOwnProperty;function ze(e){const t={},n={};let r;for(r in e.properties)if(ea.call(e.properties,r)){const i=e.properties[r],o=new en(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Ft(r)]=r,n[Ft(o.attribute)]=r}return new Ze(t,n,e.space)}const hi=ze({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),fi=ze({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function di(e,t){return t in e?e[t]:t}function mi(e,t){return di(e,t.toLowerCase())}const gi=ze({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:mi,properties:{xmlns:null,xmlnsXLink:null}}),yi=ze({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:W,ariaAutoComplete:null,ariaBusy:W,ariaChecked:W,ariaColCount:C,ariaColIndex:C,ariaColSpan:C,ariaControls:U,ariaCurrent:null,ariaDescribedBy:U,ariaDetails:null,ariaDisabled:W,ariaDropEffect:U,ariaErrorMessage:null,ariaExpanded:W,ariaFlowTo:U,ariaGrabbed:W,ariaHasPopup:null,ariaHidden:W,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:U,ariaLevel:C,ariaLive:null,ariaModal:W,ariaMultiLine:W,ariaMultiSelectable:W,ariaOrientation:null,ariaOwns:U,ariaPlaceholder:null,ariaPosInSet:C,ariaPressed:W,ariaReadOnly:W,ariaRelevant:null,ariaRequired:W,ariaRoleDescription:U,ariaRowCount:C,ariaRowIndex:C,ariaRowSpan:C,ariaSelected:W,ariaSetSize:C,ariaSort:null,ariaValueMax:C,ariaValueMin:C,ariaValueNow:C,ariaValueText:null,role:null}}),ta=ze({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:mi,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ae,acceptCharset:U,accessKey:U,action:null,allow:null,allowFullScreen:O,allowPaymentRequest:O,allowUserMedia:O,alt:null,as:null,async:O,autoCapitalize:null,autoComplete:U,autoFocus:O,autoPlay:O,blocking:U,capture:null,charSet:null,checked:O,cite:null,className:U,cols:C,colSpan:null,content:null,contentEditable:W,controls:O,controlsList:U,coords:C|Ae,crossOrigin:null,data:null,dateTime:null,decoding:null,default:O,defer:O,dir:null,dirName:null,disabled:O,download:pi,draggable:W,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:O,formTarget:null,headers:U,height:C,hidden:O,high:C,href:null,hrefLang:null,htmlFor:U,httpEquiv:U,id:null,imageSizes:null,imageSrcSet:null,inert:O,inputMode:null,integrity:null,is:null,isMap:O,itemId:null,itemProp:U,itemRef:U,itemScope:O,itemType:U,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:O,low:C,manifest:null,max:null,maxLength:C,media:null,method:null,min:null,minLength:C,multiple:O,muted:O,name:null,nonce:null,noModule:O,noValidate:O,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:O,optimum:C,pattern:null,ping:U,placeholder:null,playsInline:O,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:O,referrerPolicy:null,rel:U,required:O,reversed:O,rows:C,rowSpan:C,sandbox:U,scope:null,scoped:O,seamless:O,selected:O,shadowRootClonable:O,shadowRootDelegatesFocus:O,shadowRootMode:null,shape:null,size:C,sizes:null,slot:null,span:C,spellCheck:W,src:null,srcDoc:null,srcLang:null,srcSet:null,start:C,step:null,style:null,tabIndex:C,target:null,title:null,translate:null,type:null,typeMustMatch:O,useMap:null,value:W,width:C,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:U,axis:null,background:null,bgColor:null,border:C,borderColor:null,bottomMargin:C,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:O,declare:O,event:null,face:null,frame:null,frameBorder:null,hSpace:C,leftMargin:C,link:null,longDesc:null,lowSrc:null,marginHeight:C,marginWidth:C,noResize:O,noHref:O,noShade:O,noWrap:O,object:null,profile:null,prompt:null,rev:null,rightMargin:C,rules:null,scheme:null,scrolling:W,standby:null,summary:null,text:null,topMargin:C,valueType:null,version:null,vAlign:null,vLink:null,vSpace:C,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:O,disableRemotePlayback:O,prefix:null,property:null,results:C,security:null,unselectable:null}}),na=ze({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:di,properties:{about:te,accentHeight:C,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:C,amplitude:C,arabicForm:null,ascent:C,attributeName:null,attributeType:null,azimuth:C,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:C,by:null,calcMode:null,capHeight:C,className:U,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:C,diffuseConstant:C,direction:null,display:null,dur:null,divisor:C,dominantBaseline:null,download:O,dx:null,dy:null,edgeMode:null,editable:null,elevation:C,enableBackground:null,end:null,event:null,exponent:C,externalResourcesRequired:null,fill:null,fillOpacity:C,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ae,g2:Ae,glyphName:Ae,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:C,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:C,horizOriginX:C,horizOriginY:C,id:null,ideographic:C,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:C,k:C,k1:C,k2:C,k3:C,k4:C,kernelMatrix:te,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:C,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:C,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:C,overlineThickness:C,paintOrder:null,panose1:null,path:null,pathLength:C,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:U,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:C,pointsAtY:C,pointsAtZ:C,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:te,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:te,rev:te,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:te,requiredFeatures:te,requiredFonts:te,requiredFormats:te,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:C,specularExponent:C,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:C,strikethroughThickness:C,string:null,stroke:null,strokeDashArray:te,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:C,strokeOpacity:C,strokeWidth:null,style:null,surfaceScale:C,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:te,tabIndex:C,tableValues:null,target:null,targetX:C,targetY:C,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:te,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:C,underlineThickness:C,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:C,values:null,vAlphabetic:C,vMathematical:C,vectorEffect:null,vHanging:C,vIdeographic:C,version:null,vertAdvY:C,vertOriginX:C,vertOriginY:C,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:C,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ra=/^data[-\w.:]+$/i,Ln=/-[a-z]/g,ia=/[A-Z]/g;function oa(e,t){const n=Ft(t);let r=t,i=ie;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ra.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Ln,aa);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Ln.test(o)){let l=o.replace(ia,la);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=en}return new i(r,t)}function la(e){return"-"+e.toLowerCase()}function aa(e){return e.charAt(1).toUpperCase()}const sa={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ua=ci([fi,hi,gi,yi,ta],"html"),tn=ci([fi,hi,gi,yi,na],"svg");function ca(e){return e.join(" ").trim()}var xi={},An=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pa=/\n/g,ha=/^\s*/,fa=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,da=/^:\s*/,ma=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ga=/^[;\s]*/,ya=/^\s+|\s+$/g,xa=`
`,On="/",Mn="*",Te="",ba="comment",ka="declaration",wa=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(y){var b=y.match(pa);b&&(n+=b.length);var E=y.lastIndexOf(xa);r=~E?y.length-E:r+y.length}function o(){var y={line:n,column:r};return function(b){return b.position=new l(y),u(),b}}function l(y){this.start=y,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function a(y){var b=new Error(t.source+":"+n+":"+r+": "+y);if(b.reason=y,b.filename=t.source,b.line=n,b.column=r,b.source=e,!t.silent)throw b}function s(y){var b=y.exec(e);if(b){var E=b[0];return i(E),e=e.slice(E.length),b}}function u(){s(ha)}function c(y){var b;for(y=y||[];b=p();)b!==!1&&y.push(b);return y}function p(){var y=o();if(!(On!=e.charAt(0)||Mn!=e.charAt(1))){for(var b=2;Te!=e.charAt(b)&&(Mn!=e.charAt(b)||On!=e.charAt(b+1));)++b;if(b+=2,Te===e.charAt(b-1))return a("End of comment missing");var E=e.slice(2,b-2);return r+=2,i(E),e=e.slice(b),r+=2,y({type:ba,comment:E})}}function d(){var y=o(),b=s(fa);if(b){if(p(),!s(da))return a("property missing ':'");var E=s(ma),k=y({type:ka,property:_n(b[0].replace(An,Te)),value:E?_n(E[0].replace(An,Te)):Te});return s(ga),k}}function h(){var y=[];c(y);for(var b;b=d();)b!==!1&&(y.push(b),c(y));return y}return u(),h()};function _n(e){return e?e.replace(ya,Te):Te}var Ca=kn&&kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});var zn=xi.default=va,Sa=Ca(wa);function va(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Sa.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var l=o.property,a=o.value;i?t(l,a,o):a&&(n=n||{},n[l]=a)}}),n}const Ta=zn.default||zn,bi=ki("end"),nn=ki("start");function ki(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Ea(e){const t=nn(e),n=bi(e);if(t&&n)return{start:t,end:n}}function He(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Rn(e.position):"start"in e||"end"in e?Rn(e):"line"in e||"column"in e?Vt(e):""}function Vt(e){return Dn(e&&e.line)+":"+Dn(e&&e.column)}function Rn(e){return Vt(e&&e.start)+"-"+Vt(e&&e.end)}function Dn(e){return e&&typeof e=="number"?e:1}class K extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const s=r.indexOf(":");s===-1?o.ruleId=r:(o.source=r.slice(0,s),o.ruleId=r.slice(s+1))}if(!o.place&&o.ancestors&&o.ancestors){const s=o.ancestors[o.ancestors.length-1];s&&(o.place=s.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=He(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}K.prototype.file="";K.prototype.name="";K.prototype.reason="";K.prototype.message="";K.prototype.stack="";K.prototype.column=void 0;K.prototype.line=void 0;K.prototype.ancestors=void 0;K.prototype.cause=void 0;K.prototype.fatal=void 0;K.prototype.place=void 0;K.prototype.ruleId=void 0;K.prototype.source=void 0;const rn={}.hasOwnProperty,Ia=new Map,ja=/[A-Z]/g,Pa=/-([a-z])/g,Na=new Set(["table","tbody","thead","tfoot","tr"]),La=new Set(["td","th"]),wi="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Aa(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ba(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Fa(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?tn:ua,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Ci(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Ci(e,t,n){if(t.type==="element")return Oa(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ma(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return za(e,t,n);if(t.type==="mdxjsEsm")return _a(e,t);if(t.type==="root")return Ra(e,t,n);if(t.type==="text")return Da(e,t)}function Oa(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=tn,e.schema=i),e.ancestors.push(t);const o=vi(e,t.tagName,!1),l=Va(e,t);let a=ln(e,t);return Na.has(t.tagName)&&(a=a.filter(function(s){return typeof s=="string"?!Ql(s):!0})),Si(e,l,o,t),on(l,a),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function Ma(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ye(e,t.position)}function _a(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ye(e,t.position)}function za(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=tn,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:vi(e,t.name,!0),l=Ua(e,t),a=ln(e,t);return Si(e,l,o,t),on(l,a),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function Ra(e,t,n){const r={};return on(r,ln(e,t)),e.create(t,e.Fragment,r,n)}function Da(e,t){return t.value}function Si(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function on(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Fa(e,t,n){return r;function r(i,o,l,a){const u=Array.isArray(l.children)?n:t;return a?u(o,l,a):u(o,l)}}function Ba(e,t){return n;function n(r,i,o,l){const a=Array.isArray(o.children),s=nn(r);return t(i,o,l,a,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}function Va(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&rn.call(t.properties,i)){const o=Ha(e,i,t.properties[i]);if(o){const[l,a]=o;e.tableCellAlignToStyle&&l==="align"&&typeof a=="string"&&La.has(t.tagName)?r=a:n[l]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ua(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const a=l.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Ye(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else Ye(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function ln(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Ia;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const s=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(s){const u=i.get(s)||0;l=s+"-"+u,i.set(s,u+1)}}const a=Ci(e,o,l);a!==void 0&&n.push(a)}return n}function Ha(e,t,n){const r=oa(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Wl(n):ca(n)),r.property==="style"){let i=typeof n=="object"?n:$a(e,String(n));return e.stylePropertyNameCase==="css"&&(i=qa(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?sa[r.property]||r.property:r.attribute,n]}}function $a(e,t){const n={};try{Ta(t,r)}catch(i){if(!e.ignoreInvalidStyle){const o=i,l=new K("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=wi+"#cannot-parse-style-attribute",l}}return n;function r(i,o){let l=i;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(Pa,Wa)),n[l]=o}}function vi(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const a=jn(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=l}else r=jn(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return rn.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ye(e)}function Ye(e,t){const n=new K("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wi+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qa(e){const t={};let n;for(n in e)rn.call(e,n)&&(t[Ya(n)]=e[n]);return t}function Ya(e){let t=e.replace(ja,Ga);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Wa(e,t){return t.toUpperCase()}function Ga(e){return"-"+e.toLowerCase()}const wt={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Za={};function Xa(e,t){const n=t||Za,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ti(e,r,i)}function Ti(e,t,n){if(Ka(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Fn(e.children,t,n)}return Array.isArray(e)?Fn(e,t,n):""}function Fn(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Ti(e[i],t,n);return r.join("")}function Ka(e){return!!(e&&typeof e=="object")}const Bn=document.createElement("i");function an(e){const t="&"+e+";";Bn.innerHTML=t;const n=Bn.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ye(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function re(e,t){return e.length>0?(ye(e,e.length,0,t),e):t}const Vn={}.hasOwnProperty;function Qa(e){const t={};let n=-1;for(;++n<e.length;)Ja(t,e[n]);return t}function Ja(e,t){let n;for(n in t){const i=(Vn.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){Vn.call(i,l)||(i[l]=[]);const a=o[l];es(i[l],Array.isArray(a)?a:a?[a]:[])}}}function es(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ye(e,0,0,r)}function Ei(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function Oe(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pe=we(/[A-Za-z]/),ne=we(/[\dA-Za-z]/),ts=we(/[#-'*+\--9=?A-Z^-~]/);function Ut(e){return e!==null&&(e<32||e===127)}const Ht=we(/\d/),ns=we(/[\dA-Fa-f]/),rs=we(/[!-/:-@[-`{-~]/);function N(e){return e!==null&&e<-2}function J(e){return e!==null&&(e<0||e===32)}function D(e){return e===-2||e===-1||e===32}const is=we(/\p{P}|\p{S}/u),os=we(/\s/);function we(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Re(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&ne(e.charCodeAt(n+1))&&ne(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(l=String.fromCharCode(o,a),i=1):l="ï¿½"}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function H(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(s){return D(s)?(e.enter(n),a(s)):t(s)}function a(s){return D(s)&&o++<i?(e.consume(s),a):(e.exit(n),t(s))}}const ls={tokenize:as};function as(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),H(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,l(a)}function l(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return N(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),l)}}const ss={tokenize:us},Un={tokenize:cs};function us(e){const t=this,n=[];let r=0,i,o,l;return a;function a(T){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,s,u)(T)}return u(T)}function s(T){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&I();const M=t.events.length;let L=M,w;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){w=t.events[L][1].end;break}k(r);let _=M;for(;_<t.events.length;)t.events[_][1].end=Object.assign({},w),_++;return ye(t.events,L+1,0,t.events.slice(M)),t.events.length=_,u(T)}return a(T)}function u(T){if(r===n.length){if(!i)return d(T);if(i.currentConstruct&&i.currentConstruct.concrete)return y(T);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Un,c,p)(T)}function c(T){return i&&I(),k(r),d(T)}function p(T){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,y(T)}function d(T){return t.containerState={},e.attempt(Un,h,y)(T)}function h(T){return r++,n.push([t.currentConstruct,t.containerState]),d(T)}function y(T){if(T===null){i&&I(),k(0),e.consume(T);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),b(T)}function b(T){if(T===null){E(e.exit("chunkFlow"),!0),k(0),e.consume(T);return}return N(T)?(e.consume(T),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(T),b)}function E(T,M){const L=t.sliceStream(T);if(M&&L.push(null),T.previous=o,o&&(o.next=T),o=T,i.defineSkip(T.start),i.write(L),t.parser.lazy[T.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<l&&(!i.events[w][1].end||i.events[w][1].end.offset>l))return;const _=t.events.length;let q=_,F,B;for(;q--;)if(t.events[q][0]==="exit"&&t.events[q][1].type==="chunkFlow"){if(F){B=t.events[q][1].end;break}F=!0}for(k(r),w=_;w<t.events.length;)t.events[w][1].end=Object.assign({},B),w++;ye(t.events,q+1,0,t.events.slice(_)),t.events.length=w}}function k(T){let M=n.length;for(;M-- >T;){const L=n[M];t.containerState=L[1],L[0].exit.call(t,e)}n.length=T}function I(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function cs(e,t,n){return H(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Hn(e){if(e===null||J(e)||os(e))return 1;if(is(e))return 2}function sn(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const $t={name:"attention",tokenize:hs,resolveAll:ps};function ps(e,t){let n=-1,r,i,o,l,a,s,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);$n(p,-s),$n(d,s),l={type:s>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},e[r][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},o={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:s>1?"strong":"emphasis",start:Object.assign({},l.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},l.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=re(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=re(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),u=re(u,sn(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=re(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=re(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,ye(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function hs(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Hn(r);let o;return l;function l(s){return o=s,e.enter("attentionSequence"),a(s)}function a(s){if(s===o)return e.consume(s),a;const u=e.exit("attentionSequence"),c=Hn(s),p=!c||c===2&&i||n.includes(s),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?p:p&&(i||!d)),u._close=!!(o===42?d:d&&(c||!p)),t(s)}}function $n(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const fs={name:"autolink",tokenize:ds};function ds(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return pe(h)?(e.consume(h),l):h===64?n(h):u(h)}function l(h){return h===43||h===45||h===46||ne(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,s):(h===43||h===45||h===46||ne(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function s(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Ut(h)?n(h):(e.consume(h),s)}function u(h){return h===64?(e.consume(h),c):ts(h)?(e.consume(h),u):n(h)}function c(h){return ne(h)?p(h):n(h)}function p(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||ne(h))&&r++<63){const y=h===45?d:p;return e.consume(h),y}return n(h)}}const mt={tokenize:ms,partial:!0};function ms(e,t,n){return r;function r(o){return D(o)?H(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||N(o)?t(o):n(o)}}const Ii={name:"blockQuote",tokenize:gs,continuation:{tokenize:ys},exit:xs};function gs(e,t,n){const r=this;return i;function i(l){if(l===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return D(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function ys(e,t,n){const r=this;return i;function i(l){return D(l)?H(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(Ii,t,n)(l)}}function xs(e){e.exit("blockQuote")}const ji={name:"characterEscape",tokenize:bs};function bs(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return rs(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Pi={name:"characterReference",tokenize:ks};function ks(e,t,n){const r=this;let i=0,o,l;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),s}function s(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,l=ne,c(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=ns,c):(e.enter("characterReferenceValue"),o=7,l=Ht,c(p))}function c(p){if(p===59&&i){const d=e.exit("characterReferenceValue");return l===ne&&!an(r.sliceSerialize(d))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),c):n(p)}}const qn={tokenize:Cs,partial:!0},Yn={name:"codeFenced",tokenize:ws,concrete:!0};function ws(e,t,n){const r=this,i={tokenize:L,partial:!0};let o=0,l=0,a;return s;function s(w){return u(w)}function u(w){const _=r.events[r.events.length-1];return o=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===a?(l++,e.consume(w),c):l<3?n(w):(e.exit("codeFencedFenceSequence"),D(w)?H(e,p,"whitespace")(w):p(w))}function p(w){return w===null||N(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(qn,b,M)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||N(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(w)):D(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),H(e,h,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),d)}function h(w){return w===null||N(w)?p(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===null||N(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(w)):w===96&&w===a?n(w):(e.consume(w),y)}function b(w){return e.attempt(i,M,E)(w)}function E(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),k}function k(w){return o>0&&D(w)?H(e,I,"linePrefix",o+1)(w):I(w)}function I(w){return w===null||N(w)?e.check(qn,b,M)(w):(e.enter("codeFlowValue"),T(w))}function T(w){return w===null||N(w)?(e.exit("codeFlowValue"),I(w)):(e.consume(w),T)}function M(w){return e.exit("codeFenced"),t(w)}function L(w,_,q){let F=0;return B;function B(R){return w.enter("lineEnding"),w.consume(R),w.exit("lineEnding"),P}function P(R){return w.enter("codeFencedFence"),D(R)?H(w,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):j(R)}function j(R){return R===a?(w.enter("codeFencedFenceSequence"),$(R)):q(R)}function $(R){return R===a?(F++,w.consume(R),$):F>=l?(w.exit("codeFencedFenceSequence"),D(R)?H(w,Y,"whitespace")(R):Y(R)):q(R)}function Y(R){return R===null||N(R)?(w.exit("codeFencedFence"),_(R)):q(R)}}}function Cs(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Ct={name:"codeIndented",tokenize:vs},Ss={tokenize:Ts,partial:!0};function vs(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),H(e,o,"linePrefix",4+1)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?s(u):N(u)?e.attempt(Ss,l,s)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||N(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),a)}function s(u){return e.exit("codeIndented"),t(u)}}function Ts(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):N(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):H(e,o,"linePrefix",4+1)(l)}function o(l){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(l):N(l)?i(l):n(l)}}const Es={name:"codeText",tokenize:Ps,resolve:Is,previous:js};function Is(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function js(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ps(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),s(p))}function s(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),s):p===96?(o=e.enter("codeTextSequence"),i=0,c(p)):N(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||N(p)?(e.exit("codeTextData"),s(p)):(e.consume(p),u)}function c(p){return p===96?(e.consume(p),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",u(p))}}class Ns{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ve(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ve(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ve(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ve(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ve(this.left,n.reverse())}}}function Ve(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Ni(e){const t={};let n=-1,r,i,o,l,a,s,u;const c=new Ns(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ls(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(l=c.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return ye(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Ls(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[],l=n._tokenizer||r.parser[n.contentType](n.start),a=l.events,s=[],u={};let c,p,d=-1,h=n,y=0,b=0;const E=[b];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),p&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(c),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(b=d+1,E.push(b),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):E.pop(),d=E.length;d--;){const k=a.slice(E[d],E[d+1]),I=o.pop();s.push([I,I+k.length-1]),e.splice(I,2,k)}for(s.reverse(),d=-1;++d<s.length;)u[y+s[d][0]]=y+s[d][1],y+=s[d][1]-s[d][0]-1;return u}const As={tokenize:_s,resolve:Ms},Os={tokenize:zs,partial:!0};function Ms(e){return Ni(e),e}function _s(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):N(a)?e.check(Os,l,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function l(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zs(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),H(e,o,"linePrefix")}function o(l){if(l===null||N(l))return n(l);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Li(e,t,n,r,i,o,l,a,s){const u=s||Number.POSITIVE_INFINITY;let c=0;return p;function p(k){return k===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(k),e.exit(o),d):k===null||k===32||k===41||Ut(k)?n(k):(e.enter(r),e.enter(l),e.enter(a),e.enter("chunkString",{contentType:"string"}),b(k))}function d(k){return k===62?(e.enter(o),e.consume(k),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===62?(e.exit("chunkString"),e.exit(a),d(k)):k===null||k===60||N(k)?n(k):(e.consume(k),k===92?y:h)}function y(k){return k===60||k===62||k===92?(e.consume(k),h):h(k)}function b(k){return!c&&(k===null||k===41||J(k))?(e.exit("chunkString"),e.exit(a),e.exit(l),e.exit(r),t(k)):c<u&&k===40?(e.consume(k),c++,b):k===41?(e.consume(k),c--,b):k===null||k===32||k===40||Ut(k)?n(k):(e.consume(k),k===92?E:b)}function E(k){return k===40||k===41||k===92?(e.consume(k),b):b(k)}}function Ai(e,t,n,r,i,o){const l=this;let a=0,s;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return a>999||h===null||h===91||h===93&&!s||h===94&&!a&&"_hiddenFootnoteSupport"in l.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):N(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),p(h))}function p(h){return h===null||h===91||h===93||N(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),s||(s=!D(h)),h===92?d:p)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,p):p(h)}}function Oi(e,t,n,r,i,o){let l;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),l=d===40?41:d,s):n(d)}function s(d){return d===l?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===l?(e.exit(o),s(l)):d===null?n(d):N(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),H(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===l||d===null||N(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?p:c)}function p(d){return d===l||d===92?(e.consume(d),c):c(d)}}function $e(e,t){let n;return r;function r(i){return N(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):D(i)?H(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Rs={name:"definition",tokenize:Fs},Ds={tokenize:Bs,partial:!0};function Fs(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),l(h)}function l(h){return Ai.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Oe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),s):n(h)}function s(h){return J(h)?$e(e,u)(h):u(h)}function u(h){return Li(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(Ds,p,p)(h)}function p(h){return D(h)?H(e,d,"whitespace")(h):d(h)}function d(h){return h===null||N(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function Bs(e,t,n){return r;function r(a){return J(a)?$e(e,i)(a):n(a)}function i(a){return Oi(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return D(a)?H(e,l,"whitespace")(a):l(a)}function l(a){return a===null||N(a)?t(a):n(a)}}const Vs={name:"hardBreakEscape",tokenize:Us};function Us(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return N(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Hs={name:"headingAtx",tokenize:qs,resolve:$s};function $s(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ye(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function qs(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),l(c)}function l(c){return c===35&&r++<6?(e.consume(c),l):c===null||J(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),s(c)):c===null||N(c)?(e.exit("atxHeading"),t(c)):D(c)?H(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function s(c){return c===35?(e.consume(c),s):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||J(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const Ys=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Wn=["pre","script","style","textarea"],Ws={name:"htmlFlow",tokenize:Ks,resolveTo:Xs,concrete:!0},Gs={tokenize:Js,partial:!0},Zs={tokenize:Qs,partial:!0};function Xs(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Ks(e,t,n){const r=this;let i,o,l,a,s;return u;function u(g){return c(g)}function c(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),p}function p(g){return g===33?(e.consume(g),d):g===47?(e.consume(g),o=!0,b):g===63?(e.consume(g),i=3,r.interrupt?t:m):pe(g)?(e.consume(g),l=String.fromCharCode(g),E):n(g)}function d(g){return g===45?(e.consume(g),i=2,h):g===91?(e.consume(g),i=5,a=0,y):pe(g)?(e.consume(g),i=4,r.interrupt?t:m):n(g)}function h(g){return g===45?(e.consume(g),r.interrupt?t:m):n(g)}function y(g){const ae="CDATA[";return g===ae.charCodeAt(a++)?(e.consume(g),a===ae.length?r.interrupt?t:j:y):n(g)}function b(g){return pe(g)?(e.consume(g),l=String.fromCharCode(g),E):n(g)}function E(g){if(g===null||g===47||g===62||J(g)){const ae=g===47,Ce=l.toLowerCase();return!ae&&!o&&Wn.includes(Ce)?(i=1,r.interrupt?t(g):j(g)):Ys.includes(l.toLowerCase())?(i=6,ae?(e.consume(g),k):r.interrupt?t(g):j(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):o?I(g):T(g))}return g===45||ne(g)?(e.consume(g),l+=String.fromCharCode(g),E):n(g)}function k(g){return g===62?(e.consume(g),r.interrupt?t:j):n(g)}function I(g){return D(g)?(e.consume(g),I):B(g)}function T(g){return g===47?(e.consume(g),B):g===58||g===95||pe(g)?(e.consume(g),M):D(g)?(e.consume(g),T):B(g)}function M(g){return g===45||g===46||g===58||g===95||ne(g)?(e.consume(g),M):L(g)}function L(g){return g===61?(e.consume(g),w):D(g)?(e.consume(g),L):T(g)}function w(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),s=g,_):D(g)?(e.consume(g),w):q(g)}function _(g){return g===s?(e.consume(g),s=null,F):g===null||N(g)?n(g):(e.consume(g),_)}function q(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||J(g)?L(g):(e.consume(g),q)}function F(g){return g===47||g===62||D(g)?T(g):n(g)}function B(g){return g===62?(e.consume(g),P):n(g)}function P(g){return g===null||N(g)?j(g):D(g)?(e.consume(g),P):n(g)}function j(g){return g===45&&i===2?(e.consume(g),X):g===60&&i===1?(e.consume(g),G):g===62&&i===4?(e.consume(g),le):g===63&&i===3?(e.consume(g),m):g===93&&i===5?(e.consume(g),he):N(g)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Gs,fe,$)(g)):g===null||N(g)?(e.exit("htmlFlowData"),$(g)):(e.consume(g),j)}function $(g){return e.check(Zs,Y,fe)(g)}function Y(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),R}function R(g){return g===null||N(g)?$(g):(e.enter("htmlFlowData"),j(g))}function X(g){return g===45?(e.consume(g),m):j(g)}function G(g){return g===47?(e.consume(g),l="",oe):j(g)}function oe(g){if(g===62){const ae=l.toLowerCase();return Wn.includes(ae)?(e.consume(g),le):j(g)}return pe(g)&&l.length<8?(e.consume(g),l+=String.fromCharCode(g),oe):j(g)}function he(g){return g===93?(e.consume(g),m):j(g)}function m(g){return g===62?(e.consume(g),le):g===45&&i===2?(e.consume(g),m):j(g)}function le(g){return g===null||N(g)?(e.exit("htmlFlowData"),fe(g)):(e.consume(g),le)}function fe(g){return e.exit("htmlFlow"),t(g)}}function Qs(e,t,n){const r=this;return i;function i(l){return N(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function Js(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(mt,t,n)}}const eu={name:"htmlText",tokenize:tu};function tu(e,t,n){const r=this;let i,o,l;return a;function a(m){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(m),s}function s(m){return m===33?(e.consume(m),u):m===47?(e.consume(m),L):m===63?(e.consume(m),T):pe(m)?(e.consume(m),q):n(m)}function u(m){return m===45?(e.consume(m),c):m===91?(e.consume(m),o=0,y):pe(m)?(e.consume(m),I):n(m)}function c(m){return m===45?(e.consume(m),h):n(m)}function p(m){return m===null?n(m):m===45?(e.consume(m),d):N(m)?(l=p,G(m)):(e.consume(m),p)}function d(m){return m===45?(e.consume(m),h):p(m)}function h(m){return m===62?X(m):m===45?d(m):p(m)}function y(m){const le="CDATA[";return m===le.charCodeAt(o++)?(e.consume(m),o===le.length?b:y):n(m)}function b(m){return m===null?n(m):m===93?(e.consume(m),E):N(m)?(l=b,G(m)):(e.consume(m),b)}function E(m){return m===93?(e.consume(m),k):b(m)}function k(m){return m===62?X(m):m===93?(e.consume(m),k):b(m)}function I(m){return m===null||m===62?X(m):N(m)?(l=I,G(m)):(e.consume(m),I)}function T(m){return m===null?n(m):m===63?(e.consume(m),M):N(m)?(l=T,G(m)):(e.consume(m),T)}function M(m){return m===62?X(m):T(m)}function L(m){return pe(m)?(e.consume(m),w):n(m)}function w(m){return m===45||ne(m)?(e.consume(m),w):_(m)}function _(m){return N(m)?(l=_,G(m)):D(m)?(e.consume(m),_):X(m)}function q(m){return m===45||ne(m)?(e.consume(m),q):m===47||m===62||J(m)?F(m):n(m)}function F(m){return m===47?(e.consume(m),X):m===58||m===95||pe(m)?(e.consume(m),B):N(m)?(l=F,G(m)):D(m)?(e.consume(m),F):X(m)}function B(m){return m===45||m===46||m===58||m===95||ne(m)?(e.consume(m),B):P(m)}function P(m){return m===61?(e.consume(m),j):N(m)?(l=P,G(m)):D(m)?(e.consume(m),P):F(m)}function j(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(e.consume(m),i=m,$):N(m)?(l=j,G(m)):D(m)?(e.consume(m),j):(e.consume(m),Y)}function $(m){return m===i?(e.consume(m),i=void 0,R):m===null?n(m):N(m)?(l=$,G(m)):(e.consume(m),$)}function Y(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||J(m)?F(m):(e.consume(m),Y)}function R(m){return m===47||m===62||J(m)?F(m):n(m)}function X(m){return m===62?(e.consume(m),e.exit("htmlTextData"),e.exit("htmlText"),t):n(m)}function G(m){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),oe}function oe(m){return D(m)?H(e,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):he(m)}function he(m){return e.enter("htmlTextData"),l(m)}}const un={name:"labelEnd",tokenize:au,resolveTo:lu,resolveAll:ou},nu={tokenize:su},ru={tokenize:uu},iu={tokenize:cu};function ou(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function lu(e,t){let n=e.length,r=0,i,o,l,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const s={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[l][1].end)},c={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[l-2][1].start)};return a=[["enter",s,t],["enter",u,t]],a=re(a,e.slice(o+1,o+r+3)),a=re(a,[["enter",c,t]]),a=re(a,sn(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),a=re(a,[["exit",c,t],e[l-2],e[l-1],["exit",u,t]]),a=re(a,e.slice(l+1)),a=re(a,[["exit",s,t]]),ye(e,o,e.length,a),e}function au(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(d){return o?o._inactive?p(d):(l=r.parser.defined.includes(Oe(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),s):n(d)}function s(d){return d===40?e.attempt(nu,c,l?c:p)(d):d===91?e.attempt(ru,c,l?u:p)(d):l?c(d):p(d)}function u(d){return e.attempt(iu,c,p)(d)}function c(d){return t(d)}function p(d){return o._balanced=!0,n(d)}}function su(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return J(p)?$e(e,o)(p):o(p)}function o(p){return p===41?c(p):Li(e,l,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return J(p)?$e(e,s)(p):c(p)}function a(p){return n(p)}function s(p){return p===34||p===39||p===40?Oi(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):c(p)}function u(p){return J(p)?$e(e,c)(p):c(p)}function c(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function uu(e,t,n){const r=this;return i;function i(a){return Ai.call(r,e,o,l,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Oe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function l(a){return n(a)}}function cu(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const pu={name:"labelStartImage",tokenize:hu,resolveAll:un.resolveAll};function hu(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),l):n(a)}function l(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const fu={name:"labelStartLink",tokenize:du,resolveAll:un.resolveAll};function du(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const St={name:"lineEnding",tokenize:mu};function mu(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),H(e,t,"linePrefix")}}const nt={name:"thematicBreak",tokenize:gu};function gu(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||N(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),D(u)?H(e,a,"whitespace")(u):a(u))}}const Q={name:"list",tokenize:bu,continuation:{tokenize:ku},exit:Cu},yu={tokenize:Su,partial:!0},xu={tokenize:wu,partial:!0};function bu(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return a;function a(h){const y=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Ht(h)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(nt,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(h)}return n(h)}function s(h){return Ht(h)&&++l<10?(e.consume(h),s):(!r.interrupt||l<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(mt,r.interrupt?n:c,e.attempt(yu,d,p))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function p(h){return D(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function ku(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mt,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,H(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!D(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(xu,t,l)(a))}function l(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,H(e,e.attempt(Q,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function wu(e,t,n){const r=this;return H(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function Cu(e){e.exit(this.containerState.type)}function Su(e,t,n){const r=this;return H(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){const l=r.events[r.events.length-1];return!D(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Gn={name:"setextUnderline",tokenize:Tu,resolveTo:vu};function vu(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=l,e.push(["exit",l,t]),e}function Tu(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,p;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){p=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),D(u)?H(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||N(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Eu={tokenize:Iu};function Iu(e){const t=this,n=e.attempt(mt,r,e.attempt(this.parser.constructs.flowInitial,i,H(e,e.attempt(this.parser.constructs.flow,i,e.attempt(As,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ju={resolveAll:_i()},Pu=Mi("string"),Nu=Mi("text");function Mi(e){return{tokenize:t,resolveAll:_i(e==="text"?Lu:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,a);return l;function l(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),s}function s(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),s)}function u(c){if(c===null)return!0;const p=i[c];let d=-1;if(p)for(;++d<p.length;){const h=p[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function _i(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function Lu(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,a=0,s;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)a++,l--;if(l)break;l=-1}else if(u===-2)s=!0,a++;else if(u!==-1){o++;break}}if(a){const u={type:n===e.length||s||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?l:r.start._bufferIndex+l},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function Au(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let l=[],a=[];const s={consume:I,enter:T,exit:M,attempt:_(L),check:_(w),interrupt:_(w,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:y,defineSkip:b,write:p};let c=t.tokenize.call(u,s);return t.resolveAll&&o.push(t),u;function p(P){return l=re(l,P),E(),l[l.length-1]!==null?[]:(q(t,0),u.events=sn(o,u.events,u),u.events)}function d(P,j){return Mu(h(P),j)}function h(P){return Ou(l,P)}function y(){const{line:P,column:j,offset:$,_index:Y,_bufferIndex:R}=r;return{line:P,column:j,offset:$,_index:Y,_bufferIndex:R}}function b(P){i[P.line]=P.column,B()}function E(){let P;for(;r._index<l.length;){const j=l[r._index];if(typeof j=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<j.length;)k(j.charCodeAt(r._bufferIndex));else k(j)}}function k(P){c=c(P)}function I(P){N(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,B()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function T(P,j){const $=j||{};return $.type=P,$.start=y(),u.events.push(["enter",$,u]),a.push($),$}function M(P){const j=a.pop();return j.end=y(),u.events.push(["exit",j,u]),j}function L(P,j){q(P,j.from)}function w(P,j){j.restore()}function _(P,j){return $;function $(Y,R,X){let G,oe,he,m;return Array.isArray(Y)?fe(Y):"tokenize"in Y?fe([Y]):le(Y);function le(Z){return De;function De(xe){const je=xe!==null&&Z[xe],Pe=xe!==null&&Z.null,Ke=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(Pe)?Pe:Pe?[Pe]:[]];return fe(Ke)(xe)}}function fe(Z){return G=Z,oe=0,Z.length===0?X:g(Z[oe])}function g(Z){return De;function De(xe){return m=F(),he=Z,Z.partial||(u.currentConstruct=Z),Z.name&&u.parser.constructs.disable.null.includes(Z.name)?Ce():Z.tokenize.call(j?Object.assign(Object.create(u),j):u,s,ae,Ce)(xe)}}function ae(Z){return P(he,m),R}function Ce(Z){return m.restore(),++oe<G.length?g(G[oe]):X}}}function q(P,j){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&ye(u.events,j,u.events.length-j,P.resolve(u.events.slice(j),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function F(){const P=y(),j=u.previous,$=u.currentConstruct,Y=u.events.length,R=Array.from(a);return{restore:X,from:Y};function X(){r=P,u.previous=j,u.currentConstruct=$,u.events.length=Y,a=R,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Ou(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const a=l[0];typeof a=="string"?l[0]=a.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function Mu(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}const _u={42:Q,43:Q,45:Q,48:Q,49:Q,50:Q,51:Q,52:Q,53:Q,54:Q,55:Q,56:Q,57:Q,62:Ii},zu={91:Rs},Ru={[-2]:Ct,[-1]:Ct,32:Ct},Du={35:Hs,42:nt,45:[Gn,nt],60:Ws,61:Gn,95:nt,96:Yn,126:Yn},Fu={38:Pi,92:ji},Bu={[-5]:St,[-4]:St,[-3]:St,33:pu,38:Pi,42:$t,60:[fs,eu],91:fu,92:[Vs,ji],93:un,95:$t,96:Es},Vu={null:[$t,ju]},Uu={null:[42,95]},Hu={null:[]},$u=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Uu,contentInitial:zu,disable:Hu,document:_u,flow:Du,flowInitial:Ru,insideSpan:Vu,string:Fu,text:Bu},Symbol.toStringTag,{value:"Module"}));function qu(e){const n=Qa([$u,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(ls),document:i(ss),flow:i(Eu),string:i(Pu),text:i(Nu)};return r;function i(o){return l;function l(a){return Au(r,o,a)}}}function Yu(e){for(;!Ni(e););return e}const Zn=/[\0\t\n\r]/g;function Wu(){let e=1,t="",n=!0,r;return i;function i(o,l,a){const s=[];let u,c,p,d,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(Zn.lastIndex=p,u=Zn.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(p);break}if(h===10&&p===d&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),p<d&&(s.push(o.slice(p,d)),e+=d-p),h){case 0:{s.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,s.push(-2);e++<c;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}p=d+1}return a&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}const Gu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zu(e){return e.replace(Gu,Xu)}function Xu(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Ei(n.slice(o?2:1),o?16:10)}return an(n)||e}const zi={}.hasOwnProperty;function Ku(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Qu(n)(Yu(qu(n).document().write(Wu()(e,t,!0))))}function Qu(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(xn),autolinkProtocol:F,autolinkEmail:F,atxHeading:o(mn),blockQuote:o(Pe),characterEscape:F,characterReference:F,codeFenced:o(Ke),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Ke,l),codeText:o(Ki,l),codeTextData:F,data:F,codeFlowValue:F,definition:o(Qi),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Ji),hardBreakEscape:o(gn),hardBreakTrailing:o(gn),htmlFlow:o(yn,l),htmlFlowData:F,htmlText:o(yn,l),htmlTextData:F,image:o(eo),label:l,link:o(xn),listItem:o(to),listItemValue:d,listOrdered:o(bn,p),listUnordered:o(bn),paragraph:o(no),reference:g,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(mn),strong:o(ro),thematicBreak:o(oo)},exit:{atxHeading:s(),atxHeadingSequence:L,autolink:s(),autolinkEmail:je,autolinkProtocol:xe,blockQuote:s(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:Z,characterReference:De,codeFenced:s(E),codeFencedFence:b,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:B,codeIndented:s(k),codeText:s(R),codeTextData:B,data:B,definition:s(),definitionDestinationString:M,definitionLabelString:I,definitionTitleString:T,emphasis:s(),hardBreakEscape:s(j),hardBreakTrailing:s(j),htmlFlow:s($),htmlFlowData:B,htmlText:s(Y),htmlTextData:B,image:s(G),label:he,labelText:oe,lineEnding:P,link:s(X),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:ae,resourceDestinationString:m,resourceTitleString:le,resource:fe,setextHeading:s(q),setextHeadingLineSequence:_,setextHeadingText:w,strong:s(),thematicBreak:s()}};Ri(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(x){let v={type:"root",children:[]};const A={stack:[v],tokenStack:[],config:t,enter:a,exit:u,buffer:l,resume:c,data:n},z=[];let V=-1;for(;++V<x.length;)if(x[V][1].type==="listOrdered"||x[V][1].type==="listUnordered")if(x[V][0]==="enter")z.push(V);else{const se=z.pop();V=i(x,se,V)}for(V=-1;++V<x.length;){const se=t[x[V][0]];zi.call(se,x[V][1].type)&&se[x[V][1].type].call(Object.assign({sliceSerialize:x[V][2].sliceSerialize},A),x[V][1])}if(A.tokenStack.length>0){const se=A.tokenStack[A.tokenStack.length-1];(se[1]||Xn).call(A,void 0,se[0])}for(v.position={start:be(x.length>0?x[0][1].start:{line:1,column:1,offset:0}),end:be(x.length>0?x[x.length-2][1].end:{line:1,column:1,offset:0})},V=-1;++V<t.transforms.length;)v=t.transforms[V](v)||v;return v}function i(x,v,A){let z=v-1,V=-1,se=!1,Se,de,Fe,Be;for(;++z<=A;){const ee=x[z];switch(ee[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ee[0]==="enter"?V++:V--,Be=void 0;break}case"lineEndingBlank":{ee[0]==="enter"&&(Se&&!Be&&!V&&!Fe&&(Fe=z),Be=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Be=void 0}if(!V&&ee[0]==="enter"&&ee[1].type==="listItemPrefix"||V===-1&&ee[0]==="exit"&&(ee[1].type==="listUnordered"||ee[1].type==="listOrdered")){if(Se){let Ne=z;for(de=void 0;Ne--;){const me=x[Ne];if(me[1].type==="lineEnding"||me[1].type==="lineEndingBlank"){if(me[0]==="exit")continue;de&&(x[de][1].type="lineEndingBlank",se=!0),me[1].type="lineEnding",de=Ne}else if(!(me[1].type==="linePrefix"||me[1].type==="blockQuotePrefix"||me[1].type==="blockQuotePrefixWhitespace"||me[1].type==="blockQuoteMarker"||me[1].type==="listItemIndent"))break}Fe&&(!de||Fe<de)&&(Se._spread=!0),Se.end=Object.assign({},de?x[de][1].start:ee[1].end),x.splice(de||z,0,["exit",Se,ee[2]]),z++,A++}if(ee[1].type==="listItemPrefix"){const Ne={type:"listItem",_spread:!1,start:Object.assign({},ee[1].start),end:void 0};Se=Ne,x.splice(z,0,["enter",Ne,ee[2]]),z++,A++,Fe=void 0,Be=!0}}}return x[v][1]._spread=se,A}function o(x,v){return A;function A(z){a.call(this,x(z),z),v&&v.call(this,z)}}function l(){this.stack.push({type:"fragment",children:[]})}function a(x,v,A){this.stack[this.stack.length-1].children.push(x),this.stack.push(x),this.tokenStack.push([v,A]),x.position={start:be(v.start),end:void 0}}function s(x){return v;function v(A){x&&x.call(this,A),u.call(this,A)}}function u(x,v){const A=this.stack.pop(),z=this.tokenStack.pop();if(z)z[0].type!==x.type&&(v?v.call(this,x,z[0]):(z[1]||Xn).call(this,x,z[0]));else throw new Error("Cannot close `"+x.type+"` ("+He({start:x.start,end:x.end})+"): itâ€™s not open");A.position.end=be(x.end)}function c(){return Xa(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function d(x){if(this.data.expectingFirstListItemValue){const v=this.stack[this.stack.length-2];v.start=Number.parseInt(this.sliceSerialize(x),10),this.data.expectingFirstListItemValue=void 0}}function h(){const x=this.resume(),v=this.stack[this.stack.length-1];v.lang=x}function y(){const x=this.resume(),v=this.stack[this.stack.length-1];v.meta=x}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const x=this.resume(),v=this.stack[this.stack.length-1];v.value=x.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const x=this.resume(),v=this.stack[this.stack.length-1];v.value=x.replace(/(\r?\n|\r)$/g,"")}function I(x){const v=this.resume(),A=this.stack[this.stack.length-1];A.label=v,A.identifier=Oe(this.sliceSerialize(x)).toLowerCase()}function T(){const x=this.resume(),v=this.stack[this.stack.length-1];v.title=x}function M(){const x=this.resume(),v=this.stack[this.stack.length-1];v.url=x}function L(x){const v=this.stack[this.stack.length-1];if(!v.depth){const A=this.sliceSerialize(x).length;v.depth=A}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function _(x){const v=this.stack[this.stack.length-1];v.depth=this.sliceSerialize(x).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function F(x){const A=this.stack[this.stack.length-1].children;let z=A[A.length-1];(!z||z.type!=="text")&&(z=io(),z.position={start:be(x.start),end:void 0},A.push(z)),this.stack.push(z)}function B(x){const v=this.stack.pop();v.value+=this.sliceSerialize(x),v.position.end=be(x.end)}function P(x){const v=this.stack[this.stack.length-1];if(this.data.atHardBreak){const A=v.children[v.children.length-1];A.position.end=be(x.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(v.type)&&(F.call(this,x),B.call(this,x))}function j(){this.data.atHardBreak=!0}function $(){const x=this.resume(),v=this.stack[this.stack.length-1];v.value=x}function Y(){const x=this.resume(),v=this.stack[this.stack.length-1];v.value=x}function R(){const x=this.resume(),v=this.stack[this.stack.length-1];v.value=x}function X(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const v=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=v,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function G(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const v=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=v,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function oe(x){const v=this.sliceSerialize(x),A=this.stack[this.stack.length-2];A.label=Zu(v),A.identifier=Oe(v).toLowerCase()}function he(){const x=this.stack[this.stack.length-1],v=this.resume(),A=this.stack[this.stack.length-1];if(this.data.inReference=!0,A.type==="link"){const z=x.children;A.children=z}else A.alt=v}function m(){const x=this.resume(),v=this.stack[this.stack.length-1];v.url=x}function le(){const x=this.resume(),v=this.stack[this.stack.length-1];v.title=x}function fe(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function ae(x){const v=this.resume(),A=this.stack[this.stack.length-1];A.label=v,A.identifier=Oe(this.sliceSerialize(x)).toLowerCase(),this.data.referenceType="full"}function Ce(x){this.data.characterReferenceType=x.type}function Z(x){const v=this.sliceSerialize(x),A=this.data.characterReferenceType;let z;A?(z=Ei(v,A==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):z=an(v);const V=this.stack[this.stack.length-1];V.value+=z}function De(x){const v=this.stack.pop();v.position.end=be(x.end)}function xe(x){B.call(this,x);const v=this.stack[this.stack.length-1];v.url=this.sliceSerialize(x)}function je(x){B.call(this,x);const v=this.stack[this.stack.length-1];v.url="mailto:"+this.sliceSerialize(x)}function Pe(){return{type:"blockquote",children:[]}}function Ke(){return{type:"code",lang:null,meta:null,value:""}}function Ki(){return{type:"inlineCode",value:""}}function Qi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ji(){return{type:"emphasis",children:[]}}function mn(){return{type:"heading",depth:0,children:[]}}function gn(){return{type:"break"}}function yn(){return{type:"html",value:""}}function eo(){return{type:"image",title:null,url:"",alt:null}}function xn(){return{type:"link",title:null,url:"",children:[]}}function bn(x){return{type:"list",ordered:x.type==="listOrdered",start:null,spread:x._spread,children:[]}}function to(x){return{type:"listItem",spread:x._spread,checked:null,children:[]}}function no(){return{type:"paragraph",children:[]}}function ro(){return{type:"strong",children:[]}}function io(){return{type:"text",value:""}}function oo(){return{type:"thematicBreak"}}}function be(e){return{line:e.line,column:e.column,offset:e.offset}}function Ri(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ri(e,r):Ju(e,r)}}function Ju(e,t){let n;for(n in t)if(zi.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Xn(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+He({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+He({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+He({start:t.start,end:t.end})+") is still open")}function ec(e){const t=this;t.parser=n;function n(r){return Ku(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function tc(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function nc(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function rc(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ic(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oc(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lc(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Re(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,a+=1,e.footnoteCounts.set(r,a);const s={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,s);const u={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,u),e.applyData(t,u)}function ac(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sc(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Di(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function uc(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Di(e,t);const i={src:Re(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function cc(e,t){const n={src:Re(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function pc(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function hc(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Di(e,t);const i={href:Re(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function fc(e,t){const n={href:Re(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dc(e,t,n){const r=e.all(t),i=n?mc(n):Fi(t),o={},l=[];if(typeof t.checked=="boolean"){const c=r[0];let p;c&&c.type==="element"&&c.tagName==="p"?p=c:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?l.push(...c.children):l.push(c)}const s=r[r.length-1];s&&(i||s.type!=="element"||s.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,u),e.applyData(t,u)}function mc(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Fi(n[r])}return t}function Fi(e){const t=e.spread;return t??e.children.length>1}function gc(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function yc(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xc(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function bc(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kc(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=nn(t.children[1]),s=bi(t.children[t.children.length-1]);a&&s&&(l.position={start:a,end:s}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function wc(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,a=l?l.length:t.children.length;let s=-1;const u=[];for(;++s<a;){const p=t.children[s],d={},h=l?l[s]:void 0;h&&(d.align=h);let y={type:"element",tagName:o,properties:d,children:[]};p&&(y.children=e.all(p),e.patch(p,y),y=e.applyData(p,y)),u.push(y)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Cc(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Kn=9,Qn=32;function Sc(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Jn(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Jn(t.slice(i),i>0,!1)),o.join("")}function Jn(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Kn||o===Qn;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Kn||o===Qn;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function vc(e,t){const n={type:"text",value:Sc(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Tc(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ec={blockquote:tc,break:nc,code:rc,delete:ic,emphasis:oc,footnoteReference:lc,heading:ac,html:sc,imageReference:uc,image:cc,inlineCode:pc,linkReference:hc,link:fc,listItem:dc,list:gc,paragraph:yc,root:xc,strong:bc,table:kc,tableCell:Cc,tableRow:wc,text:vc,thematicBreak:Tc,toml:Je,yaml:Je,definition:Je,footnoteDefinition:Je};function Je(){}const Bi=-1,gt=0,ot=1,lt=2,cn=3,pn=4,hn=5,fn=6,Vi=7,Ui=8,er=typeof self=="object"?self:globalThis,Ic=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case gt:case Bi:return n(l,i);case ot:{const a=n([],i);for(const s of l)a.push(r(s));return a}case lt:{const a=n({},i);for(const[s,u]of l)a[r(s)]=r(u);return a}case cn:return n(new Date(l),i);case pn:{const{source:a,flags:s}=l;return n(new RegExp(a,s),i)}case hn:{const a=n(new Map,i);for(const[s,u]of l)a.set(r(s),r(u));return a}case fn:{const a=n(new Set,i);for(const s of l)a.add(r(s));return a}case Vi:{const{name:a,message:s}=l;return n(new er[a](s),i)}case Ui:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i)}return n(new er[o](l),i)};return r},tr=e=>Ic(new Map,e)(0),Le="",{toString:jc}={},{keys:Pc}=Object,Ue=e=>{const t=typeof e;if(t!=="object"||!e)return[gt,t];const n=jc.call(e).slice(8,-1);switch(n){case"Array":return[ot,Le];case"Object":return[lt,Le];case"Date":return[cn,Le];case"RegExp":return[pn,Le];case"Map":return[hn,Le];case"Set":return[fn,Le]}return n.includes("Array")?[ot,n]:n.includes("Error")?[Vi,n]:[lt,n]},et=([e,t])=>e===gt&&(t==="function"||t==="symbol"),Nc=(e,t,n,r)=>{const i=(l,a)=>{const s=r.push(l)-1;return n.set(a,s),s},o=l=>{if(n.has(l))return n.get(l);let[a,s]=Ue(l);switch(a){case gt:{let c=l;switch(s){case"bigint":a=Ui,c=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);c=null;break;case"undefined":return i([Bi],l)}return i([a,c],l)}case ot:{if(s)return i([s,[...l]],l);const c=[],p=i([a,c],l);for(const d of l)c.push(o(d));return p}case lt:{if(s)switch(s){case"BigInt":return i([s,l.toString()],l);case"Boolean":case"Number":case"String":return i([s,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const c=[],p=i([a,c],l);for(const d of Pc(l))(e||!et(Ue(l[d])))&&c.push([o(d),o(l[d])]);return p}case cn:return i([a,l.toISOString()],l);case pn:{const{source:c,flags:p}=l;return i([a,{source:c,flags:p}],l)}case hn:{const c=[],p=i([a,c],l);for(const[d,h]of l)(e||!(et(Ue(d))||et(Ue(h))))&&c.push([o(d),o(h)]);return p}case fn:{const c=[],p=i([a,c],l);for(const d of l)(e||!et(Ue(d)))&&c.push(o(d));return p}}const{message:u}=l;return i([a,{name:s,message:u}],l)};return o},nr=(e,{json:t,lossy:n}={})=>{const r=[];return Nc(!(t||n),!!t,new Map,r)(e),r},at=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?tr(nr(e,t)):structuredClone(e):(e,t)=>tr(nr(e,t));function Lc(e,t){const n=[{type:"text",value:"â†©"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ac(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Oc(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Lc,r=e.options.footnoteBackLabel||Ac,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let s=-1;for(;++s<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[s]);if(!u)continue;const c=e.all(u),p=String(u.identifier).toUpperCase(),d=Re(p.toLowerCase());let h=0;const y=[],b=e.footnoteCounts.get(p);for(;b!==void 0&&++h<=b;){y.length>0&&y.push({type:"text",value:" "});let I=typeof n=="string"?n:n(s,h);typeof I=="string"&&(I={type:"text",value:I}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(s,h),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const E=c[c.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const I=E.children[E.children.length-1];I&&I.type==="text"?I.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...y)}else c.push(...y);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,k),a.push(k)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...at(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Hi=function(e){if(e==null)return Rc;if(typeof e=="function")return yt(e);if(typeof e=="object")return Array.isArray(e)?Mc(e):_c(e);if(typeof e=="string")return zc(e);throw new Error("Expected function, string, or object as test")};function Mc(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Hi(e[n]);return yt(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function _c(e){const t=e;return yt(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function zc(e){return yt(t);function t(n){return n&&n.type===e}}function yt(e){return t;function t(n,r,i){return!!(Dc(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Rc(){return!0}function Dc(e){return e!==null&&typeof e=="object"&&"type"in e}const $i=[],Fc=!0,rr=!1,Bc="skip";function Vc(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Hi(i),l=r?-1:1;a(e,void 0,[])();function a(s,u,c){const p=s&&typeof s=="object"?s:{};if(typeof p.type=="string"){const h=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(s.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=$i,y,b,E;if((!t||o(s,u,c[c.length-1]||void 0))&&(h=Uc(n(s,c)),h[0]===rr))return h;if("children"in s&&s.children){const k=s;if(k.children&&h[0]!==Bc)for(b=(r?k.children.length:-1)+l,E=c.concat(k);b>-1&&b<k.children.length;){const I=k.children[b];if(y=a(I,b,E)(),y[0]===rr)return y;b=typeof y[1]=="number"?y[1]:b+l}}return h}}}function Uc(e){return Array.isArray(e)?e:typeof e=="number"?[Fc,e]:e==null?$i:[e]}function qi(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Vc(e,o,a,i);function a(s,u){const c=u[u.length-1],p=c?c.children.indexOf(s):void 0;return l(s,p,c)}}const qt={}.hasOwnProperty,Hc={};function $c(e,t){const n=t||Hc,r=new Map,i=new Map,o=new Map,l={...Ec,...n.handlers},a={all:u,applyData:Yc,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:s,options:n,patch:qc,wrap:Gc};return qi(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const p=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();p.has(d)||p.set(d,c)}}),a;function s(c,p){const d=c.type,h=a.handlers[d];if(qt.call(a.handlers,d)&&h)return h(a,c,p);if(a.options.passThrough&&a.options.passThrough.includes(d)){if("children"in c){const{children:b,...E}=c,k=at(E);return k.children=a.all(c),k}return at(c)}return(a.options.unknownHandler||Wc)(a,c,p)}function u(c){const p=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const y=a.one(d[h],c);if(y){if(h&&d[h-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=ir(y.value)),!Array.isArray(y)&&y.type==="element")){const b=y.children[0];b&&b.type==="text"&&(b.value=ir(b.value))}Array.isArray(y)?p.push(...y):p.push(y)}}}return p}}function qc(e,t){e.position&&(t.position=Ea(e))}function Yc(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,at(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Wc(e,t){const n=t.data||{},r="value"in t&&!(qt.call(n,"hProperties")||qt.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Gc(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ir(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function or(e,t){const n=$c(e,t),r=n.one(e,void 0),i=Oc(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Zc(e,t){return e&&"run"in e?async function(n,r){const i=or(n,{file:r,...t});await e.run(i,r)}:function(n,r){return or(n,{file:r,...e||t})}}function lr(e){if(e)throw e}var rt=Object.prototype.hasOwnProperty,Yi=Object.prototype.toString,ar=Object.defineProperty,sr=Object.getOwnPropertyDescriptor,ur=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Yi.call(t)==="[object Array]"},cr=function(t){if(!t||Yi.call(t)!=="[object Object]")return!1;var n=rt.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&rt.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||rt.call(t,i)},pr=function(t,n){ar&&n.name==="__proto__"?ar(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},hr=function(t,n){if(n==="__proto__")if(rt.call(t,n)){if(sr)return sr(t,n).value}else return;return t[n]},Xc=function e(){var t,n,r,i,o,l,a=arguments[0],s=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},s=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});s<u;++s)if(t=arguments[s],t!=null)for(n in t)r=hr(a,n),i=hr(t,n),a!==i&&(c&&i&&(cr(i)||(o=ur(i)))?(o?(o=!1,l=r&&ur(r)?r:[]):l=r&&cr(r)?r:{},pr(a,{name:n,newValue:e(c,l,i)})):typeof i<"u"&&pr(a,{name:n,newValue:i}));return a};const vt=lo(Xc);function Yt(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Kc(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);a(null,...i);function a(s,...u){const c=e[++o];let p=-1;if(s){l(s);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,c?Qc(c,a)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Qc(e,t){let n;return r;function r(...l){const a=e.length>l.length;let s;a&&l.push(i);try{s=e.apply(this,l)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(s&&s.then&&typeof s.then=="function"?s.then(o,i):s instanceof Error?i(s):o(s))}function i(l,...a){n||(n=!0,t(l,...a))}function o(l){i(null,l)}}const ce={basename:Jc,dirname:ep,extname:tp,join:np,sep:"/"};function Jc(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Xe(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function ep(e){if(Xe(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function tp(e){Xe(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const a=e.codePointAt(t);if(a===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function np(...e){let t=-1,n;for(;++t<e.length;)Xe(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":rp(n)}function rp(e){Xe(e);const t=e.codePointAt(0)===47;let n=ip(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ip(e,t){let n="",r=0,i=-1,o=0,l=-1,a,s;for(;++l<=e.length;){if(l<e.length)a=e.codePointAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(s=n.lastIndexOf("/"),s!==n.length-1){s<0?(n="",r=0):(n=n.slice(0,s),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else a===46&&o>-1?o++:o=-1}return n}function Xe(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const op={cwd:lp};function lp(){return"/"}function Wt(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ap(e){if(typeof e=="string")e=new URL(e);else if(!Wt(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return sp(e)}function sp(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Tt=["history","path","basename","stem","extname","dirname"];class Wi{constructor(t){let n;t?Wt(t)?n={path:t}:typeof t=="string"||up(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":op.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tt.length;){const o=Tt[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Tt.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ce.basename(this.path):void 0}set basename(t){It(t,"basename"),Et(t,"basename"),this.path=ce.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ce.dirname(this.path):void 0}set dirname(t){fr(this.basename,"dirname"),this.path=ce.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ce.extname(this.path):void 0}set extname(t){if(Et(t,"extname"),fr(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ce.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Wt(t)&&(t=ap(t)),It(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ce.basename(this.path,this.extname):void 0}set stem(t){It(t,"stem"),Et(t,"stem"),this.path=ce.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new K(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Et(e,t){if(e&&e.includes(ce.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ce.sep+"`")}function It(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function fr(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function up(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cp=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},pp={}.hasOwnProperty;class dn extends cp{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kc()}copy(){const t=new dn;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(vt(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Nt("data",this.frozen),this.namespace[t]=n,this):pp.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Nt("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=tt(t),r=this.parser||this.Parser;return jt("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),jt("process",this.parser||this.Parser),Pt("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const a=tt(t),s=r.parse(a);r.run(s,a,function(c,p,d){if(c||!p||!d)return u(c);const h=p,y=r.stringify(h,d);dp(y)?d.value=y:d.result=y,u(c,d)});function u(c,p){c||!p?l(c):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),jt("processSync",this.parser||this.Parser),Pt("processSync",this.compiler||this.Compiler),this.process(t,i),mr("processSync","process",n),r;function i(o,l){n=!0,lr(o),r=l}}run(t,n,r){dr(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,a){const s=tt(n);i.run(t,s,u);function u(c,p,d){const h=p||t;c?a(c):l?l(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),mr("runSync","run",r),i;function o(l,a){lr(l),i=a,r=!0}}stringify(t,n){this.freeze();const r=tt(n),i=this.compiler||this.Compiler;return Pt("stringify",i),dr(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Nt("use",this.frozen),t!=null)if(typeof t=="function")s(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")s(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...p]=u;s(c,p)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=vt(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const p=u[c];o(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function s(u,c){let p=-1,d=-1;for(;++p<r.length;)if(r[p][0]===u){d=p;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...y]=c;const b=r[d][1];Yt(b)&&Yt(h)&&(h=vt(!0,b,h)),r[d]=[u,h,...y]}}}}const hp=new dn().freeze();function jt(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Pt(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Nt(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dr(e){if(!Yt(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mr(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function tt(e){return fp(e)?e:new Wi(e)}function fp(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function dp(e){return typeof e=="string"||mp(e)}function mp(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gp="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gr=[],yr={allowDangerousHtml:!0},yp=/^(https?|ircs?|mailto|xmpp)$/i,xp=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function bp(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,l=e.disallowedElements,a=e.rehypePlugins||gr,s=e.remarkPlugins||gr,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...yr}:yr,c=e.skipHtml,p=e.unwrapDisallowed,d=e.urlTransform||kp,h=hp().use(ec).use(s).use(Zc,u).use(a),y=new Wi;typeof r=="string"&&(y.value=r);for(const I of xp)Object.hasOwn(e,I.from)&&(""+I.from+(I.to?"use `"+I.to+"` instead":"remove it")+gp+I.id,void 0);const b=h.parse(y);let E=h.runSync(b,y);return i&&(E={type:"element",tagName:"div",properties:{className:i},children:E.type==="root"?E.children:[E]}),qi(E,k),Aa(E,{Fragment:f.Fragment,components:o,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function k(I,T,M){if(I.type==="raw"&&M&&typeof T=="number")return c?M.children.splice(T,1):M.children[T]={type:"text",value:I.value},T;if(I.type==="element"){let L;for(L in wt)if(Object.hasOwn(wt,L)&&Object.hasOwn(I.properties,L)){const w=I.properties[L],_=wt[L];(_===null||_.includes(I.tagName))&&(I.properties[L]=d(String(w||""),L,I))}}if(I.type==="element"){let L=t?!t.includes(I.tagName):l?l.includes(I.tagName):!1;if(!L&&n&&typeof T=="number"&&(L=!n(I,T,M)),L&&M&&typeof T=="number")return p&&I.children?M.children.splice(T,1,...I.children):M.children.splice(T,1),T}}}function kp(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||yp.test(e.slice(0,t))?e:""}const wp={h1:({children:e})=>f.jsx("h1",{className:"text-left text-3xl font-semibold",children:e}),h2:({children:e})=>f.jsx("h2",{className:"text-left text-xl font-semibold mt-4",children:e}),h3:({children:e})=>f.jsx("h3",{className:"text-left text-lg font-semibold",children:e}),h4:({children:e})=>f.jsx("h4",{className:"text-left text-base font-semibold",children:e}),p:({children:e})=>f.jsx("p",{className:"text-left text-[15px]",children:e}),a:({children:e,href:t})=>f.jsx("a",{className:"text-blue-500 text-[15px]",href:t,rel:"noreferrer",children:e}),img:({src:e})=>f.jsx("img",{className:"w-full h-auto rounded-sm border border-gray-50 text-xs text-gray-500",src:e,alt:"Highlight Image"}),ol:({children:e,start:t})=>f.jsx("ol",{className:"list-decimal pl-4 text-[15px] grid gap-2",start:t,children:e}),ul:({children:e})=>f.jsx("ul",{className:"list-disc pl-4 text-[15px] grid gap-2",children:e}),li:({children:e})=>f.jsx("li",{className:"text-left text-[15px]",children:e})},Cp=({summaryMarkdown:e,onSummaryOnPage:t})=>{const[n,r]=S.useState(f.jsx(Ot,{size:16})),i=S.useCallback(()=>{Or(e),r(f.jsx(So,{size:16,color:"#2ecc71"})),setTimeout(()=>{r(f.jsx(Ot,{size:16}))},3e3)},[e]);return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(bt,{icon:f.jsx(Zo,{size:16}),onClick:()=>t(!0),children:"Regenerate"}),f.jsx(bt,{icon:f.jsx(Qo,{size:16}),onClick:ui,children:"Customize Prompt"}),f.jsx(bt,{icon:n,onClick:i,children:"Copy Summary"})]}),f.jsx("div",{className:"mt-6",children:f.jsx("div",{className:`${Oo} dark:text-white`,children:f.jsx(bp,{components:wp,children:e})})})]})},xr=async({videoId:e,link:t})=>{const n=await qo(e),r=Mo(n),i=await _o(t??r[0].link),l=zo({rawTranscripts:i}).map(a=>{const s=Math.round(Number(a.start)),u=Mr(s),c=a.text??"";return{videoId:e,seconds:s,timeText:u,transcriptText:c}});return Yo({videoId:e,lang:r[0].language,action:"init"}),{transcriptData:l,langOptions:r}},Sp=({videoId:e})=>{const[t,n]=S.useState([]),[r,i]=S.useState(null),[o,l]=S.useState([]),[a,s]=qe(),[u,c]=qe(),p=S.useMemo(()=>o.map(y=>y.language),[o]),d=S.useCallback(async()=>{try{s.on();const{transcriptData:y,langOptions:b}=await xr({videoId:e});b.length?(n(y),l(b),i(null)):i({type:"noTranscriptAvailable"})}catch{i({type:"noTranscriptAvailable"})}finally{s.off()}},[e,s]),h=S.useCallback(async y=>{var E;const b=(E=o.find(k=>k.language===y))==null?void 0:E.link;if(b){c.on(),n([]);const{transcriptData:k}=await xr({videoId:e,link:b});c.off(),n(k)}},[o,e,c]);return{isLoading:a,isChangingLanguage:u,transcriptError:r,transcripts:t,languages:p,onTranscript:d,onChangeLanguage:h}},vp=e=>`glasp-transcript-item-${e}`,Tp=e=>document.getElementById(vp(e)),Ep=({transcripts:e})=>({onClick:S.useCallback(()=>{if(!e.length)return;const n=si();if(n){const r=n.currentTime,i=e.reduce((l,a)=>Math.abs(a.seconds-r)<Math.abs(l.seconds-r)?a:l),o=Tp(i.seconds);o&&(o.scrollIntoView({behavior:"auto",block:"start"}),document.body.scrollIntoView({behavior:"auto",block:"end"}))}},[e])}),Ip=()=>f.jsxs("div",{className:"text-center py-1",children:[f.jsx("span",{className:"dark:text-white text-lg pr-2",children:"Made with â¤ï¸ by"}),f.jsx("a",{href:`https://glasp.co/?ref=${ut}`,target:"_blank",className:"text-blue-600 text-lg",children:"Glasp"})]}),jp=async({videoId:e,actionVia:t,copyFormat:n,currentLanguage:r})=>{const{title:i,textData:o}=await Lr(e,t,r),l=`https://www.youtube.com/watch?v=${e}`;let a=n==="markdown"?`# ${i}
${l}

![](${l})
## Transcript:
`:`${i}
${l}

Transcript:
`;return a+=o.map(s=>{const u=s.start,c=Mr(u),p=s.text;return n==="markdown"?`- [${c}](${l}&t=${u}s) ${p}`:`(${c}) ${p}`}).join(`
`),Or(a)},Pp=({isOpen:e,videoId:t})=>({onCopyTranscript:S.useCallback(async()=>{const r=await ct(),i=Ro()||r.copyFormat==="plaintext"?"plain":"markdown";jp({videoId:t,actionVia:e?"opened_widget":"closed_widget",copyFormat:i,currentLanguage:r.language})},[e,t])}),ue=18,Np=[{label:"Default",value:"default",platform:"openai",icon:f.jsx(ve,{size:ue}),hideInPanel:!0},{label:"GPT-4o mini",value:"gpt_4o_mini",platform:"openai",icon:f.jsx(ve,{size:ue})},{label:"GPT-4o",value:"gpt_4o",platform:"openai",icon:f.jsx(ve,{size:ue})},{label:"GPT-4",value:"gpt_4",platform:"openai",icon:f.jsx(ve,{size:ue})},{label:"Custom GPTs",value:"custom_gpts",platform:"openai",icon:f.jsx(ve,{size:ue}),hideInPanel:!0},{label:"o1-preview",value:"o1_preview",platform:"openai",icon:f.jsx(ve,{size:ue})},{label:"o1-mini",value:"o1_mini",platform:"openai",icon:f.jsx(ve,{size:ue})},{label:"Claude",value:"claude",platform:"anthropic",icon:f.jsx(vo,{size:ue})},{label:"Mistral AI",value:"mistral_ai",platform:"mistral",icon:f.jsx(To,{size:ue})},{label:"Gemini",value:"gemini",platform:"google",icon:f.jsx(Eo,{size:ue})}],Lp=S.memo(()=>{const e=async t=>{const n=await ct(),r=Do();Ar({media:r,userConfig:n,llm:t})};return f.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:Np.map(t=>t.hideInPanel?null:f.jsxs("div",{className:"border border-gray-300 bg-white rounded-md flex justify-start items-center gap-1 w-fit h-fit py-1.5 px-3 pr-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-200",onClick:()=>e(t.value),children:[f.jsx("div",{className:"grid items-center justify-center h-[24px] w-[24px]",children:t.icon}),f.jsx("span",{className:"text-[12px]",children:t.label})]},t.label))})}),Ap=({error:e})=>{const t=()=>{switch(e.type){case"noSummaryAvailable":return f.jsx(Op,{});case"unauthorized":return f.jsx(br,{callToAction:f.jsx(Mp,{})});case"paymentRequired":return f.jsx(br,{callToAction:f.jsx(_p,{})});default:return f.jsx(f.Fragment,{})}};return f.jsx("div",{children:t()})},Op=()=>{const e=Math.floor(Math.random()*20).toString().padStart(2,"0");return f.jsxs("div",{className:"text-center my-20 mx-6",children:[f.jsx("p",{className:"text-2xl dark:text-white",children:"Transcript is not available for this video so we can't generate a summary... ðŸ˜¢"}),f.jsx("br",{}),f.jsxs("p",{className:"text-2xl dark:text-white",children:["Try video transcriber on"," ",f.jsx("a",{className:"text-blue-500 underline",href:`https://huggingface.co/spaces/kazuk/youtube-whisper-${e}`,target:"_blank",children:"Hugging Face"}),f.jsx("br",{}),"or"," ",f.jsx("a",{className:"text-blue-500 underline",href:"https://colab.research.google.com/github/kazuki-sf/youtube-whisper/blob/main/youtube_whisper.ipynb",target:"_blank",children:"Google Colab"})," to transcribe the video!"]})]})},Mp=()=>{var t;const e=((t=window==null?void 0:window.location)==null?void 0:t.href)??"https://www.youtube.com";return f.jsxs("p",{className:"text-2xl dark:text-white",children:["On-page summary is a premium feature for Glasp users. Please sign in to",f.jsx("a",{href:`https://glasp.co/login?extension=yes&callback_url=${e}&ref=${ut}`,target:"_self",className:"text-blue-500 underline mx-2",children:"Glasp"}),"to unlock it!"]})},_p=()=>f.jsxs("p",{className:"text-2xl dark:text-white",children:["On-page summary is a premium feature for",f.jsx("a",{href:`https://glasp.co/pricing?ref=${ut}`,target:"_blank",className:"text-blue-500 underline mx-2",children:"Glasp Pro"}),"users. Subscribe now to unlock it!"]}),br=({callToAction:e})=>f.jsxs("div",{className:"text-center my-20 mx-6",children:[e,f.jsx("br",{}),f.jsxs("ul",{className:"flex flex-col gap-2 pl-10 text-left",children:[f.jsx("li",{className:"text-2xl dark:text-white",children:"âœ… View summary while you watch the video"}),f.jsx("li",{className:"text-2xl dark:text-white",children:"âœ… Customize prompts as you like"}),f.jsx("li",{className:"text-2xl dark:text-white",children:"âœ… Save summaries to your account"})]}),f.jsx("div",{className:"mt-20 mb-10 !w-auto mx-4 border-b border-b-gray-300 dark:!border-b-gray-600"}),f.jsx(zp,{})]}),zp=()=>f.jsxs("div",{className:"text-center mx-6",children:[f.jsx("p",{className:"text-2xl dark:text-white",children:"You can still summarize the video for free by using your own model ðŸ˜Š"}),f.jsx(Lp,{})]}),Rp=({error:e})=>{const t=()=>{switch(e.type){case"noTranscriptAvailable":return f.jsx(Dp,{});default:return f.jsx(f.Fragment,{})}};return f.jsx("div",{children:t()})},Dp=()=>{const e=Math.floor(Math.random()*20).toString().padStart(2,"0");return f.jsxs("div",{className:"text-center m-16",children:[f.jsx("p",{className:"text-2xl dark:text-white",children:"No Transcription Available... ðŸ˜¢"}),f.jsx("br",{}),f.jsxs("p",{className:"text-2xl dark:text-white",children:["Try video transcriber on"," ",f.jsx("a",{className:"text-blue-500 underline",href:`https://huggingface.co/spaces/kazuk/youtube-whisper-${e}`,target:"_blank",children:"Hugging Face"}),f.jsx("br",{}),"or"," ",f.jsx("a",{className:"text-blue-500 underline",href:"https://colab.research.google.com/github/kazuki-sf/youtube-whisper/blob/main/youtube_whisper.ipynb",target:"_blank",children:"Google Colab"})," to transcribe the video!"]})]})},Gi=S.createContext(Ge(window.location.href).v??""),Zi=({children:e})=>{const[t,n]=S.useState(Cn(window.location.href));return S.useEffect(()=>{const r=()=>{const o=Cn(window.location.href);o!==t&&n(o)},i=new MutationObserver(()=>{r()});return i.observe(document.body,{childList:!0,subtree:!0}),()=>i.disconnect()},[t]),f.jsx(Gi.Provider,{value:t,children:e})},Fp=()=>S.useContext(Gi),Bp=()=>{const{userConfig:e}=Sr(),{ytSummaryWidgetVisibility:t}=e,[n,r]=qe(!1),[i,o]=S.useState("transcript"),l=Fp(),{isLoading:a,isChangingLanguage:s,transcriptError:u,transcripts:c,languages:p,onTranscript:d,onChangeLanguage:h}=Sp({videoId:l}),{onSummaryOnNewPage:y}=Kt({actionVia:n&&i==="transcript"?"opened_widget":"closed_widget",videoId:l,transcripts:c}),{isLoading:b,onPageSummaryError:E,summaryMarkdown:k,setSummaryMarkdown:I,onSummaryOnPage:T}=Ll({videoId:l}),{onCopyTranscript:M}=Pp({isOpen:n,videoId:l}),{onClick:L}=Ep({transcripts:c}),w=S.useCallback(()=>{if(!n)o("summary"),r.on(),T();else{if(i==="transcript"){o("summary"),T();return}r.off()}},[n,r,T,i]),_=S.useCallback(()=>{window.open(`https://glasp.co/youtube/${l}?ref=${ut}`,"_blank")},[l]),q=S.useCallback(()=>{n?(r.off(),o("transcript")):(r.on(),d(),o("transcript"))},[n,r,d]),F=S.useCallback(B=>{o(B),B==="transcript"&&!c.length?d():B==="summary"&&!k&&T()},[c,k,d,T]);return S.useEffect(()=>{r.off(),I("")},[l]),t==="hidden"?null:f.jsxs("div",{className:"bg-white dark:bg-black w-full min-w-[380px] rounded-md mb-2.5",children:[f.jsx(wl,{isOpen:n,copyFormat:e.copyFormat==="markdown"?"Markdown":"Pain Text",onClickSettings:ui,onClickSummaryOnNewPage:y,onClickSummaryOnPage:w,onClickTrack:L,onClickCopyTranscript:M,onClickFindArticle:_,onToggleContent:q}),n&&f.jsxs("div",{className:"border border-gray-300 dark:!border-gray-600 border-solid border-t-0 rounded-b-md",children:[f.jsx("div",{className:"!w-auto mx-4 border-b border-b-gray-300 dark:!border-b-gray-600"}),f.jsx("div",{className:"overflow-y-scroll h-[calc(100vh-170px)] pt-2 pb-4 px-4",children:f.jsxs(Vl,{value:i,onClick:F,children:[f.jsx(Rt,{value:"transcript",children:a?f.jsx("div",{className:"flex justify-center items-center my-24",children:f.jsx(Dt,{size:40,color:"#2a80ff"})}):u?f.jsx(Rp,{error:u}):f.jsx(Yl,{transcripts:c,languages:p,isChangingLanguage:s,onClickLanguage:h})}),f.jsx(Rt,{value:"summary",children:b?f.jsx("div",{className:"flex justify-center items-center my-24",children:f.jsx(Dt,{size:40,color:"#2a80ff"})}):E?f.jsx(Ap,{error:E}):f.jsx(Cp,{summaryMarkdown:k,onSummaryOnPage:T})})]})}),f.jsx("div",{className:"!w-auto mx-4 border-b border-b-gray-300 dark:!border-b-gray-600"}),f.jsx(Ip,{})]})]})},Vp=()=>{if(document.getElementsByClassName(Sn).length){const e=document.getElementsByClassName(Sn);Array.from(e).forEach(t=>{t.remove()})}if(document.getElementsByClassName(vn).length){const e=document.getElementsByClassName(vn);Array.from(e).forEach(t=>{t.remove()})}},Up=e=>{const t=document.getElementsByClassName(e);t.length&&Array.from(t).forEach(n=>n.remove())},Hp=()=>{const e=document.getElementById(Lt);e&&e.remove()},Xi=e=>new Promise(n=>{const r=setInterval(()=>{document.querySelector(e)&&(clearInterval(r),n(document.querySelector(e)))},100);setTimeout(()=>{clearInterval(r),n(null)},3e3)}),$p=async()=>{const e=await Xi(Fo);if(e){Up(xt);const t=document.createElement("div");t.id=xt,t.className=`${Zt} ${xt}`,e.insertAdjacentElement("afterbegin",t),it.createRoot(t).render(f.jsx(vr.StrictMode,{children:f.jsx(Tr,{children:f.jsx(ao,{children:f.jsx(Nr,{children:f.jsx(Zi,{children:f.jsx(Bp,{})})})})})}))}},qp=()=>{const[e,t]=qe(!1),n=Ge(window.location.href).v??"",{onSummaryOnNewPage:r}=Kt({actionVia:"closed_widget",videoId:n});return f.jsxs("div",{className:"flex justify-center items-center w-[48px] h-full px-[2px] border-none cursor-pointer bg-transparent float-start outline-none opacity-90 relative",onClick:r,onMouseOver:t.on,onMouseOut:t.off,children:[f.jsx(Bo,{}),e&&f.jsx("span",{className:"text-lg !text-white text-center mt-[4px] absolute top-[-44px] left-[-38px] whitespace-nowrap w-fit px-[8px] py-[6px] bg-black opacity-90 font-bold rounded-md",children:"Summarize Video"})]})},Yp=async()=>{const e=await Xi(Vo);if(e){Hp();const t=document.createElement("button");t.id=Lt,t.className=`${Zt} ${Lt}`,t.style.background="transparent",t.style.border="none",t.style.outline="none",t.style.height="100%",t.style.padding="0",t.style.cursor="pointer",e.insertAdjacentElement("afterbegin",t),it.createRoot(t).render(f.jsx(vr.StrictMode,{children:f.jsx(Tr,{children:f.jsx(Nr,{children:f.jsx(Zi,{children:f.jsx(qp,{})})})})}))}},kr=({videoId:e})=>{const{onSummaryOnNewPage:t}=Kt({actionVia:"closed_widget",videoId:e});return f.jsx("div",{className:"rounded-full w-[24px] h-[24px] p-1 flex justify-center items-center hover:bg-[#20e1564c] active:bg-green-300",onClick:n=>{n.preventDefault(),n.stopPropagation(),t()},children:f.jsx(_r,{size:20,color:"#787878"})})},wr=()=>{const e=document.createElement("div");return e.className=`${Zt} ${At}`,e.style.position="absolute",e.style.top="4px",e.style.left="4px",e.style.width="24px",e.style.height="24px",e.style.backgroundColor="rgba(255, 255, 255, 0.75)",e.style.zIndex="9999",e.style.borderRadius="50%",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e},Wp=()=>{const e=document.querySelectorAll(Uo)??[],t=document.getElementById(Ho)??null;if(Array.from(document.getElementsByClassName(At)).forEach(n=>{n.remove()}),t){const r=`https://www.youtube.com${t.getAttribute("href")??""}`,i=new URL(r).searchParams.get("v")??"",o=wr();t.insertAdjacentElement("afterbegin",o),it.createRoot(o).render(f.jsx(kr,{videoId:i}))}Array.from(e).forEach(n=>{const r=(n==null?void 0:n.targetWidth)??0,i=(n==null?void 0:n.width)??0,o=(n==null?void 0:n.height)??0;if(r>=1500||i<=o)return;const l=n.getAttribute("src")??void 0;if(l&&l.includes("i.ytimg.com")){const a=l.split("/")[4]??"",s=wr();s.style.display="none",n.parentElement.insertAdjacentElement("afterbegin",s),n.addEventListener("mouseover",u=>{u.stopPropagation(),u.preventDefault(),Array.from(document.getElementsByClassName(At)).forEach(c=>{c.style.display="none"}),s.style.display="flex"}),it.createRoot(s).render(f.jsx(kr,{videoId:a}))}})},Gp="yt-core-image--fill-parent-height yt-core-image--fill-parent-width yt-core-image yt-core-image--content-mode-scale-aspect-fill yt-core-image--loaded";function Cr(){const e=document.getElementsByClassName(Gp)??[],t=Array.from(e).map(n=>{if(!n||((n==null?void 0:n.targetWidth)??0)>=1500)return;const{width:i=0,height:o=0}=n??{};if(i<o)return;const l=n.getAttribute("src")??void 0;return l?l.split("/")[4]??void 0:void 0});return t.filter(Boolean),t}const Zp=async()=>{let e="",t=0;const n=document.querySelector("body")??document.body;new MutationObserver(i=>{i.forEach(async()=>{Vp(),e!==document.location.href&&(e=document.location.href,await $p(),await Yp()),t!==Cr().length&&(t=Cr().length,Wp())})}).observe(n,{childList:!0,subtree:!0})};try{(async()=>await Zp())()}catch(e){console.error(e)}
